(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Ww(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var zd={exports:{}},Ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function eb(){if(Fv)return Ll;Fv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:a,key:f,ref:o!==void 0?o:null,props:u}}return Ll.Fragment=e,Ll.jsx=n,Ll.jsxs=n,Ll}var Gv;function tb(){return Gv||(Gv=1,zd.exports=eb()),zd.exports}var Le=tb(),Bd={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function nb(){if(Kv)return qe;Kv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function S(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,J={};function Q(O,ee,ue){this.props=O,this.context=ee,this.refs=J,this.updater=ue||P}Q.prototype.isReactComponent={},Q.prototype.setState=function(O,ee){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ee,"setState")},Q.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Z(){}Z.prototype=Q.prototype;function de(O,ee,ue){this.props=O,this.context=ee,this.refs=J,this.updater=ue||P}var ae=de.prototype=new Z;ae.constructor=de,H(ae,Q.prototype),ae.isPureReactComponent=!0;var Se=Array.isArray,fe={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function N(O,ee,ue,se,we,Be){return ue=Be.ref,{$$typeof:i,type:O,key:ee,ref:ue!==void 0?ue:null,props:Be}}function A(O,ee){return N(O.type,ee,void 0,void 0,void 0,O.props)}function R(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function M(O){var ee={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ue){return ee[ue]})}var x=/\/+/g;function L(O,ee){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):ee.toString(36)}function C(){}function Ve(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(C,C):(O.status="pending",O.then(function(ee){O.status==="pending"&&(O.status="fulfilled",O.value=ee)},function(ee){O.status==="pending"&&(O.status="rejected",O.reason=ee)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Fe(O,ee,ue,se,we){var Be=typeof O;(Be==="undefined"||Be==="boolean")&&(O=null);var Ie=!1;if(O===null)Ie=!0;else switch(Be){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(O.$$typeof){case i:case e:Ie=!0;break;case E:return Ie=O._init,Fe(Ie(O._payload),ee,ue,se,we)}}if(Ie)return we=we(O),Ie=se===""?"."+L(O,0):se,Se(we)?(ue="",Ie!=null&&(ue=Ie.replace(x,"$&/")+"/"),Fe(we,ee,ue,"",function(Yn){return Yn})):we!=null&&(R(we)&&(we=A(we,ue+(we.key==null||O&&O.key===we.key?"":(""+we.key).replace(x,"$&/")+"/")+Ie)),ee.push(we)),1;Ie=0;var Vt=se===""?".":se+":";if(Se(O))for(var mt=0;mt<O.length;mt++)se=O[mt],Be=Vt+L(se,mt),Ie+=Fe(se,ee,ue,Be,we);else if(mt=S(O),typeof mt=="function")for(O=mt.call(O),mt=0;!(se=O.next()).done;)se=se.value,Be=Vt+L(se,mt++),Ie+=Fe(se,ee,ue,Be,we);else if(Be==="object"){if(typeof O.then=="function")return Fe(Ve(O),ee,ue,se,we);throw ee=String(O),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function G(O,ee,ue){if(O==null)return O;var se=[],we=0;return Fe(O,se,"","",function(Be){return ee.call(ue,Be,we++)}),se}function le(O){if(O._status===-1){var ee=O._result;ee=ee(),ee.then(function(ue){(O._status===0||O._status===-1)&&(O._status=1,O._result=ue)},function(ue){(O._status===0||O._status===-1)&&(O._status=2,O._result=ue)}),O._status===-1&&(O._status=0,O._result=ee)}if(O._status===1)return O._result.default;throw O._result}var me=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function ze(){}return qe.Children={map:G,forEach:function(O,ee,ue){G(O,function(){ee.apply(this,arguments)},ue)},count:function(O){var ee=0;return G(O,function(){ee++}),ee},toArray:function(O){return G(O,function(ee){return ee})||[]},only:function(O){if(!R(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},qe.Component=Q,qe.Fragment=n,qe.Profiler=o,qe.PureComponent=de,qe.StrictMode=a,qe.Suspense=g,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=fe,qe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return fe.H.useMemoCache(O)}},qe.cache=function(O){return function(){return O.apply(null,arguments)}},qe.cloneElement=function(O,ee,ue){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var se=H({},O.props),we=O.key,Be=void 0;if(ee!=null)for(Ie in ee.ref!==void 0&&(Be=void 0),ee.key!==void 0&&(we=""+ee.key),ee)!j.call(ee,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&ee.ref===void 0||(se[Ie]=ee[Ie]);var Ie=arguments.length-2;if(Ie===1)se.children=ue;else if(1<Ie){for(var Vt=Array(Ie),mt=0;mt<Ie;mt++)Vt[mt]=arguments[mt+2];se.children=Vt}return N(O.type,we,void 0,void 0,Be,se)},qe.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},qe.createElement=function(O,ee,ue){var se,we={},Be=null;if(ee!=null)for(se in ee.key!==void 0&&(Be=""+ee.key),ee)j.call(ee,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(we[se]=ee[se]);var Ie=arguments.length-2;if(Ie===1)we.children=ue;else if(1<Ie){for(var Vt=Array(Ie),mt=0;mt<Ie;mt++)Vt[mt]=arguments[mt+2];we.children=Vt}if(O&&O.defaultProps)for(se in Ie=O.defaultProps,Ie)we[se]===void 0&&(we[se]=Ie[se]);return N(O,Be,void 0,void 0,null,we)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(O){return{$$typeof:m,render:O}},qe.isValidElement=R,qe.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:le}},qe.memo=function(O,ee){return{$$typeof:p,type:O,compare:ee===void 0?null:ee}},qe.startTransition=function(O){var ee=fe.T,ue={};fe.T=ue;try{var se=O(),we=fe.S;we!==null&&we(ue,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(ze,me)}catch(Be){me(Be)}finally{fe.T=ee}},qe.unstable_useCacheRefresh=function(){return fe.H.useCacheRefresh()},qe.use=function(O){return fe.H.use(O)},qe.useActionState=function(O,ee,ue){return fe.H.useActionState(O,ee,ue)},qe.useCallback=function(O,ee){return fe.H.useCallback(O,ee)},qe.useContext=function(O){return fe.H.useContext(O)},qe.useDebugValue=function(){},qe.useDeferredValue=function(O,ee){return fe.H.useDeferredValue(O,ee)},qe.useEffect=function(O,ee,ue){var se=fe.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(O,ee)},qe.useId=function(){return fe.H.useId()},qe.useImperativeHandle=function(O,ee,ue){return fe.H.useImperativeHandle(O,ee,ue)},qe.useInsertionEffect=function(O,ee){return fe.H.useInsertionEffect(O,ee)},qe.useLayoutEffect=function(O,ee){return fe.H.useLayoutEffect(O,ee)},qe.useMemo=function(O,ee){return fe.H.useMemo(O,ee)},qe.useOptimistic=function(O,ee){return fe.H.useOptimistic(O,ee)},qe.useReducer=function(O,ee,ue){return fe.H.useReducer(O,ee,ue)},qe.useRef=function(O){return fe.H.useRef(O)},qe.useState=function(O){return fe.H.useState(O)},qe.useSyncExternalStore=function(O,ee,ue){return fe.H.useSyncExternalStore(O,ee,ue)},qe.useTransition=function(){return fe.H.useTransition()},qe.version="19.1.1",qe}var Yv;function jm(){return Yv||(Yv=1,Bd.exports=nb()),Bd.exports}var X=jm();const lu=Ww(X);var jd={exports:{}},Ul={},Hd={exports:{}},qd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function rb(){return Qv||(Qv=1,(function(i){function e(G,le){var me=G.length;G.push(le);e:for(;0<me;){var ze=me-1>>>1,O=G[ze];if(0<o(O,le))G[ze]=le,G[me]=O,me=ze;else break e}}function n(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var le=G[0],me=G.pop();if(me!==le){G[0]=me;e:for(var ze=0,O=G.length,ee=O>>>1;ze<ee;){var ue=2*(ze+1)-1,se=G[ue],we=ue+1,Be=G[we];if(0>o(se,me))we<O&&0>o(Be,se)?(G[ze]=Be,G[we]=me,ze=we):(G[ze]=se,G[ue]=me,ze=ue);else if(we<O&&0>o(Be,me))G[ze]=Be,G[we]=me,ze=we;else break e}}return le}function o(G,le){var me=G.sortIndex-le.sortIndex;return me!==0?me:G.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var g=[],p=[],E=1,w=null,S=3,P=!1,H=!1,J=!1,Q=!1,Z=typeof setTimeout=="function"?setTimeout:null,de=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function Se(G){for(var le=n(p);le!==null;){if(le.callback===null)a(p);else if(le.startTime<=G)a(p),le.sortIndex=le.expirationTime,e(g,le);else break;le=n(p)}}function fe(G){if(J=!1,Se(G),!H)if(n(g)!==null)H=!0,j||(j=!0,L());else{var le=n(p);le!==null&&Fe(fe,le.startTime-G)}}var j=!1,N=-1,A=5,R=-1;function M(){return Q?!0:!(i.unstable_now()-R<A)}function x(){if(Q=!1,j){var G=i.unstable_now();R=G;var le=!0;try{e:{H=!1,J&&(J=!1,de(N),N=-1),P=!0;var me=S;try{t:{for(Se(G),w=n(g);w!==null&&!(w.expirationTime>G&&M());){var ze=w.callback;if(typeof ze=="function"){w.callback=null,S=w.priorityLevel;var O=ze(w.expirationTime<=G);if(G=i.unstable_now(),typeof O=="function"){w.callback=O,Se(G),le=!0;break t}w===n(g)&&a(g),Se(G)}else a(g);w=n(g)}if(w!==null)le=!0;else{var ee=n(p);ee!==null&&Fe(fe,ee.startTime-G),le=!1}}break e}finally{w=null,S=me,P=!1}le=void 0}}finally{le?L():j=!1}}}var L;if(typeof ae=="function")L=function(){ae(x)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Ve=C.port2;C.port1.onmessage=x,L=function(){Ve.postMessage(null)}}else L=function(){Z(x,0)};function Fe(G,le){N=Z(function(){G(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(G){switch(S){case 1:case 2:case 3:var le=3;break;default:le=S}var me=S;S=le;try{return G()}finally{S=me}},i.unstable_requestPaint=function(){Q=!0},i.unstable_runWithPriority=function(G,le){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var me=S;S=G;try{return le()}finally{S=me}},i.unstable_scheduleCallback=function(G,le,me){var ze=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ze+me:ze):me=ze,G){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=me+O,G={id:E++,callback:le,priorityLevel:G,startTime:me,expirationTime:O,sortIndex:-1},me>ze?(G.sortIndex=me,e(p,G),n(g)===null&&G===n(p)&&(J?(de(N),N=-1):J=!0,Fe(fe,me-ze))):(G.sortIndex=O,e(g,G),H||P||(H=!0,j||(j=!0,L()))),G},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(G){var le=S;return function(){var me=S;S=le;try{return G.apply(this,arguments)}finally{S=me}}}})(qd)),qd}var $v;function ib(){return $v||($v=1,Hd.exports=rb()),Hd.exports}var Fd={exports:{}},mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv;function ab(){if(Xv)return mn;Xv=1;var i=jm();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:p,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,mn.createPortal=function(g,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,E)},mn.flushSync=function(g){var p=f.T,E=a.p;try{if(f.T=null,a.p=2,g)return g()}finally{f.T=p,a.p=E,a.d.f()}},mn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(g,p))},mn.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},mn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var E=p.as,w=m(E,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,P=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?a.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:P}):E==="script"&&a.d.X(g,{crossOrigin:w,integrity:S,fetchPriority:P,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},mn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);a.d.M(g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(g)},mn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,w=m(E,p.crossOrigin);a.d.L(g,E,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},mn.preloadModule=function(g,p){if(typeof g=="string")if(p){var E=m(p.as,p.crossOrigin);a.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(g)},mn.requestFormReset=function(g){a.d.r(g)},mn.unstable_batchedUpdates=function(g,p){return g(p)},mn.useFormState=function(g,p,E){return f.H.useFormState(g,p,E)},mn.useFormStatus=function(){return f.H.useHostTransitionStatus()},mn.version="19.1.1",mn}var Zv;function ZE(){if(Zv)return Fd.exports;Zv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Fd.exports=ab(),Fd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function sb(){if(Jv)return Ul;Jv=1;var i=ib(),e=jm(),n=ZE();function a(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(a(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(a(188));return r!==t?null:t}for(var s=t,l=r;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===s){_=!0,s=h,l=d;break}if(T===l){_=!0,l=h,s=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===s){_=!0,s=d,l=h;break}if(T===l){_=!0,l=d,s=h;break}T=T.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:r}function p(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=p(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),de=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),Se=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Ve(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case H:return"Fragment";case Q:return"Profiler";case J:return"StrictMode";case fe:return"Suspense";case j:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case ae:return(t.displayName||"Context")+".Provider";case de:return(t._context.displayName||"Context")+".Consumer";case Se:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return r=t.displayName||null,r!==null?r:Ve(t.type)||"Memo";case A:r=t._payload,t=t._init;try{return Ve(t(r))}catch{}}return null}var Fe=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},ze=[],O=-1;function ee(t){return{current:t}}function ue(t){0>O||(t.current=ze[O],ze[O]=null,O--)}function se(t,r){O++,ze[O]=t.current,t.current=r}var we=ee(null),Be=ee(null),Ie=ee(null),Vt=ee(null);function mt(t,r){switch(se(Ie,r),se(Be,t),se(we,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?vv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=vv(r),t=_v(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ue(we),se(we,t)}function Yn(){ue(we),ue(Be),ue(Ie)}function wt(t){t.memoizedState!==null&&se(Vt,t);var r=we.current,s=_v(r,t.type);r!==s&&(se(Be,t),se(we,s))}function hn(t){Be.current===t&&(ue(we),ue(Be)),Vt.current===t&&(ue(Vt),Ml._currentValue=me)}var br=Object.prototype.hasOwnProperty,Jr=i.unstable_scheduleCallback,_n=i.unstable_cancelCallback,Na=i.unstable_shouldYield,Ts=i.unstable_requestPaint,En=i.unstable_now,ko=i.unstable_getCurrentPriorityLevel,xa=i.unstable_ImmediatePriority,Mi=i.unstable_UserBlockingPriority,Wr=i.unstable_NormalPriority,dr=i.unstable_LowPriority,Qn=i.unstable_IdlePriority,Ni=i.log,xi=i.unstable_setDisableYieldValue,ot=null,Ge=null;function fn(t){if(typeof Ni=="function"&&xi(t),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(ot,t)}catch{}}var Lt=Math.clz32?Math.clz32:Ar,Ss=Math.log,$n=Math.LN2;function Ar(t){return t>>>=0,t===0?32:31-(Ss(t)/$n|0)|0}var Rr=256,Cr=4194304;function Vn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ei(t,r,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Vn(l):(_&=T,_!==0?h=Vn(_):s||(s=T&~t,s!==0&&(h=Vn(s))))):(T=l&~d,T!==0?h=Vn(T):_!==0?h=Vn(_):s||(s=l&~t,s!==0&&(h=Vn(s)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,s=r&-r,d>=s||d===32&&(s&4194048)!==0)?r:h}function Xn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Pi(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ti(){var t=Rr;return Rr<<=1,(Rr&4194048)===0&&(Rr=256),t}function Pa(){var t=Cr;return Cr<<=1,(Cr&62914560)===0&&(Cr=4194304),t}function Zn(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function mr(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Vi(t,r,s,l,h,d){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,q=t.hiddenUpdates;for(s=_&~s;0<s;){var W=31-Lt(s),ne=1<<W;T[W]=0,I[W]=-1;var K=q[W];if(K!==null)for(q[W]=null,W=0;W<K.length;W++){var Y=K[W];Y!==null&&(Y.lane&=-536870913)}s&=~ne}l!==0&&Tn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function Tn(t,r,s){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Lt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function Ir(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var l=31-Lt(s),h=1<<l;h&r|t[l]&r&&(t[l]|=r),s&=~h}}function Dr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Li(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function D(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:kv(t.type))}function k(t,r){var s=le.p;try{return le.p=t,r()}finally{le.p=s}}var F=Math.random().toString(36).slice(2),re="__reactFiber$"+F,oe="__reactProps$"+F,pe="__reactContainer$"+F,be="__reactEvents$"+F,ve="__reactListeners$"+F,_e="__reactHandles$"+F,Ce="__reactResources$"+F,Ee="__reactMarker$"+F;function Te(t){delete t[re],delete t[oe],delete t[be],delete t[ve],delete t[_e]}function je(t){var r=t[re];if(r)return r;for(var s=t.parentNode;s;){if(r=s[pe]||s[re]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=wv(t);t!==null;){if(s=t[re])return s;t=wv(t)}return r}t=s,s=t.parentNode}return null}function it(t){if(t=t[re]||t[pe]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function _t(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(a(33))}function lt(t){var r=t[Ce];return r||(r=t[Ce]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ue(t){t[Ee]=!0}var ut=new Set,Dn={};function rn(t,r){Xt(t,r),Xt(t+"Capture",r)}function Xt(t,r){for(Dn[t]=r,t=0;t<r.length;t++)ut.add(r[t])}var Sn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ui={},Ln={};function Jn(t){return br.call(Ln,t)?!0:br.call(Ui,t)?!1:Sn.test(t)?Ln[t]=!0:(Ui[t]=!0,!1)}function Un(t,r,s){if(Jn(r))if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+s)}}function wn(t,r,s){if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+s)}}function Ne(t,r,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(r,s,""+l)}}var bt,ni;function bn(t){if(bt===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);bt=r&&r[1]||"",ni=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bt+t+ni}var Tt=!1;function pr(t,r){if(!t||Tt)return"";Tt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Y){var K=Y}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(Y){K=Y}t.call(ne.prototype)}}else{try{throw Error()}catch(Y){K=Y}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Y){if(Y&&K&&typeof Y.stack=="string")return[Y.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var I=_.split(`
`),q=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===q.length)for(l=I.length-1,h=q.length-1;1<=l&&0<=h&&I[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==q[h]){var W=`
`+I[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=h);break}}}finally{Tt=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?bn(s):""}function ki(t){switch(t.tag){case 26:case 27:case 5:return bn(t.type);case 16:return bn("Lazy");case 13:return bn("Suspense");case 19:return bn("SuspenseList");case 0:case 15:return pr(t.type,!1);case 11:return pr(t.type.render,!1);case 1:return pr(t.type,!0);case 31:return bn("Activity");default:return""}}function zi(t){try{var r="";do r+=ki(t),t=t.return;while(t);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function An(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zo(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Hh(t){var r=zo(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function ws(t){t._valueTracker||(t._valueTracker=Hh(t))}function Bo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return t&&(l=zo(t)?t.checked?"true":"false":t.value),t=l,t!==s?(r.setValue(t),!0):!1}function Va(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var qh=/[\n"\\]/g;function Ut(t){return t.replace(qh,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function kn(t,r,s,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+An(r)):t.value!==""+An(r)&&(t.value=""+An(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?Bi(t,_,An(r)):s!=null?Bi(t,_,An(s)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+An(T):t.removeAttribute("name")}function La(t,r,s,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;s=s!=null?""+An(s):"",r=r!=null?""+An(r):s,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function Bi(t,r,s){r==="number"&&Va(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ri(t,r,s,l){if(t=t.options,r){r={};for(var h=0;h<s.length;h++)r["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=r.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+An(s),r=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function pt(t,r,s){if(r!=null&&(r=""+An(r),r!==t.value&&(t.value=r),s==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=s!=null?""+An(s):""}function Ua(t,r,s,l){if(r==null){if(l!=null){if(s!=null)throw Error(a(92));if(Fe(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),r=s}s=An(r),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function Wn(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var ka=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wu(t,r,s){var l=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,s):typeof s!="number"||s===0||ka.has(r)?r==="float"?t.cssFloat=s:t[r]=(""+s).trim():t[r]=s+"px"}function jo(t,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&s[h]!==l&&wu(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&wu(t,d,r[d])}function Ho(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bs(t){return Gh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ii=null;function er(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ai=null,si=null;function qo(t){var r=it(t);if(r&&(t=r.stateNode)){var s=t[oe]||null;e:switch(t=r.stateNode,r.type){case"input":if(kn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ut(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==t&&l.form===t.form){var h=l[oe]||null;if(!h)throw Error(a(90));kn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<s.length;r++)l=s[r],l.form===t.form&&Bo(l)}break e;case"textarea":pt(t,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&ri(t,!!s.multiple,r,!1)}}}var Or=!1;function bu(t,r,s){if(Or)return t(r,s);Or=!0;try{var l=t(r);return l}finally{if(Or=!1,(ai!==null||si!==null)&&(yc(),ai&&(r=ai,t=si,si=ai=null,qo(r),t)))for(r=0;r<t.length;r++)qo(t[r])}}function za(t,r){var s=t.stateNode;if(s===null)return null;var l=s[oe]||null;if(l===null)return null;s=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tr=!1;if(gr)try{var Ba={};Object.defineProperty(Ba,"passive",{get:function(){tr=!0}}),window.addEventListener("test",Ba,Ba),window.removeEventListener("test",Ba,Ba)}catch{tr=!1}var Mr=null,ji=null,oi=null;function Fo(){if(oi)return oi;var t,r=ji,s=r.length,l,h="value"in Mr?Mr.value:Mr.textContent,d=h.length;for(t=0;t<s&&r[t]===h[t];t++);var _=s-t;for(l=1;l<=_&&r[s-l]===h[d-l];l++);return oi=h.slice(t,1<l?1-l:void 0)}function Nr(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function xr(){return!0}function Go(){return!1}function Zt(t){function r(s,l,h,d,_){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?xr:Go,this.isPropagationStopped=Go,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=xr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=xr)},persist:function(){},isPersistent:xr}),r}var ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},As=Zt(ht),ja=E({},ht,{view:0,detail:0}),Au=Zt(ja),Rs,Cs,Pr,Ha=E({},ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ga,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pr&&(Pr&&t.type==="mousemove"?(Rs=t.screenX-Pr.screenX,Cs=t.screenY-Pr.screenY):Cs=Rs=0,Pr=t),Rs)},movementY:function(t){return"movementY"in t?t.movementY:Cs}}),nr=Zt(Ha),Ru=E({},Ha,{dataTransfer:0}),Kh=Zt(Ru),qa=E({},ja,{relatedTarget:0}),Is=Zt(qa),Ko=E({},ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Ds=Zt(Ko),Cu=E({},ht,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Os=Zt(Cu),Yh=E({},ht,{data:0}),Yo=Zt(Yh),Fa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Du[t])?!!r[t]:!1}function Ga(){return Qo}var Ou=E({},ja,{key:function(t){if(t.key){var r=Fa[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Nr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Iu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ga,charCode:function(t){return t.type==="keypress"?Nr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ms=Zt(Ou),Mu=E({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$o=Zt(Mu),li=E({},ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ga}),Nu=Zt(li),xu=E({},ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pu=Zt(xu),Vu=E({},Ha,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ns=Zt(Vu),Rn=E({},ht,{newState:0,oldState:0}),Lu=Zt(Rn),Uu=[9,13,27,32],Vr=gr&&"CompositionEvent"in window,c=null;gr&&"documentMode"in document&&(c=document.documentMode);var y=gr&&"TextEvent"in window&&!c,v=gr&&(!Vr||c&&8<c&&11>=c),b=" ",z=!1;function $(t,r){switch(t){case"keyup":return Uu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var We=!1;function Ft(t,r){switch(t){case"compositionend":return ce(r);case"keypress":return r.which!==32?null:(z=!0,b);case"textInput":return t=r.data,t===b&&z?null:t;default:return null}}function et(t,r){if(We)return t==="compositionend"||!Vr&&$(t,r)?(t=Fo(),oi=ji=Mr=null,We=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Jt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Jt[t.type]:r==="textarea"}function ui(t,r,s,l){ai?si?si.push(l):si=[l]:ai=l,r=wc(r,"onChange"),0<r.length&&(s=new As("onChange","change",null,s,l),t.push({event:s,listeners:r}))}var an=null,Lr=null;function Xo(t){dv(t,0)}function ku(t){var r=_t(t);if(Bo(r))return t}function Pp(t,r){if(t==="change")return r}var Vp=!1;if(gr){var Qh;if(gr){var $h="oninput"in document;if(!$h){var Lp=document.createElement("div");Lp.setAttribute("oninput","return;"),$h=typeof Lp.oninput=="function"}Qh=$h}else Qh=!1;Vp=Qh&&(!document.documentMode||9<document.documentMode)}function Up(){an&&(an.detachEvent("onpropertychange",kp),Lr=an=null)}function kp(t){if(t.propertyName==="value"&&ku(Lr)){var r=[];ui(r,Lr,t,er(t)),bu(Xo,r)}}function DS(t,r,s){t==="focusin"?(Up(),an=r,Lr=s,an.attachEvent("onpropertychange",kp)):t==="focusout"&&Up()}function OS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ku(Lr)}function MS(t,r){if(t==="click")return ku(r)}function NS(t,r){if(t==="input"||t==="change")return ku(r)}function xS(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var zn=typeof Object.is=="function"?Object.is:xS;function Zo(t,r){if(zn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!br.call(r,h)||!zn(t[h],r[h]))return!1}return!0}function zp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bp(t,r){var s=zp(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=r&&l>=r)return{node:s,offset:r-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=zp(s)}}function jp(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?jp(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Hp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Va(t.document);r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=Va(t.document)}return r}function Xh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var PS=gr&&"documentMode"in document&&11>=document.documentMode,xs=null,Zh=null,Jo=null,Jh=!1;function qp(t,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Jh||xs==null||xs!==Va(l)||(l=xs,"selectionStart"in l&&Xh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jo&&Zo(Jo,l)||(Jo=l,l=wc(Zh,"onSelect"),0<l.length&&(r=new As("onSelect","select",null,r,s),t.push({event:r,listeners:l}),r.target=xs)))}function Ka(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var Ps={animationend:Ka("Animation","AnimationEnd"),animationiteration:Ka("Animation","AnimationIteration"),animationstart:Ka("Animation","AnimationStart"),transitionrun:Ka("Transition","TransitionRun"),transitionstart:Ka("Transition","TransitionStart"),transitioncancel:Ka("Transition","TransitionCancel"),transitionend:Ka("Transition","TransitionEnd")},Wh={},Fp={};gr&&(Fp=document.createElement("div").style,"AnimationEvent"in window||(delete Ps.animationend.animation,delete Ps.animationiteration.animation,delete Ps.animationstart.animation),"TransitionEvent"in window||delete Ps.transitionend.transition);function Ya(t){if(Wh[t])return Wh[t];if(!Ps[t])return t;var r=Ps[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in Fp)return Wh[t]=r[s];return t}var Gp=Ya("animationend"),Kp=Ya("animationiteration"),Yp=Ya("animationstart"),VS=Ya("transitionrun"),LS=Ya("transitionstart"),US=Ya("transitioncancel"),Qp=Ya("transitionend"),$p=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function yr(t,r){$p.set(t,r),rn(r,[t])}var Xp=new WeakMap;function rr(t,r){if(typeof t=="object"&&t!==null){var s=Xp.get(t);return s!==void 0?s:(r={value:t,source:r,stack:zi(r)},Xp.set(t,r),r)}return{value:t,source:r,stack:zi(r)}}var ir=[],Vs=0,tf=0;function zu(){for(var t=Vs,r=tf=Vs=0;r<t;){var s=ir[r];ir[r++]=null;var l=ir[r];ir[r++]=null;var h=ir[r];ir[r++]=null;var d=ir[r];if(ir[r++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Zp(s,h,d)}}function Bu(t,r,s,l){ir[Vs++]=t,ir[Vs++]=r,ir[Vs++]=s,ir[Vs++]=l,tf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function nf(t,r,s,l){return Bu(t,r,s,l),ju(t)}function Ls(t,r){return Bu(t,null,null,r),ju(t)}function Zp(t,r,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-Lt(s),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=s|536870912),d):null}function ju(t){if(50<wl)throw wl=0,ud=null,Error(a(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Us={};function kS(t,r,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(t,r,s,l){return new kS(t,r,s,l)}function rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ci(t,r){var s=t.alternate;return s===null?(s=Bn(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Jp(t,r){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,r=s.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Hu(t,r,s,l,h,d){var _=0;if(l=t,typeof t=="function")rf(t)&&(_=1);else if(typeof t=="string")_=Bw(t,s,we.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Bn(31,s,r,h),t.elementType=R,t.lanes=d,t;case H:return Qa(s.children,h,d,r);case J:_=8,h|=24;break;case Q:return t=Bn(12,s,r,h|2),t.elementType=Q,t.lanes=d,t;case fe:return t=Bn(13,s,r,h),t.elementType=fe,t.lanes=d,t;case j:return t=Bn(19,s,r,h),t.elementType=j,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Z:case ae:_=10;break e;case de:_=9;break e;case Se:_=11;break e;case N:_=14;break e;case A:_=16,l=null;break e}_=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return r=Bn(_,s,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function Qa(t,r,s,l){return t=Bn(7,t,l,r),t.lanes=s,t}function af(t,r,s){return t=Bn(6,t,null,r),t.lanes=s,t}function sf(t,r,s){return r=Bn(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var ks=[],zs=0,qu=null,Fu=0,ar=[],sr=0,$a=null,hi=1,fi="";function Xa(t,r){ks[zs++]=Fu,ks[zs++]=qu,qu=t,Fu=r}function Wp(t,r,s){ar[sr++]=hi,ar[sr++]=fi,ar[sr++]=$a,$a=t;var l=hi;t=fi;var h=32-Lt(l)-1;l&=~(1<<h),s+=1;var d=32-Lt(r)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,hi=1<<32-Lt(r)+h|s<<h|l,fi=d+t}else hi=1<<d|s<<h|l,fi=t}function of(t){t.return!==null&&(Xa(t,1),Wp(t,1,0))}function lf(t){for(;t===qu;)qu=ks[--zs],ks[zs]=null,Fu=ks[--zs],ks[zs]=null;for(;t===$a;)$a=ar[--sr],ar[sr]=null,fi=ar[--sr],ar[sr]=null,hi=ar[--sr],ar[sr]=null}var Cn=null,Dt=null,ct=!1,Za=null,Ur=!1,uf=Error(a(519));function Ja(t){var r=Error(a(418,""));throw tl(rr(r,t)),uf}function eg(t){var r=t.stateNode,s=t.type,l=t.memoizedProps;switch(r[re]=t,r[oe]=l,s){case"dialog":$e("cancel",r),$e("close",r);break;case"iframe":case"object":case"embed":$e("load",r);break;case"video":case"audio":for(s=0;s<Al.length;s++)$e(Al[s],r);break;case"source":$e("error",r);break;case"img":case"image":case"link":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"input":$e("invalid",r),La(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ws(r);break;case"select":$e("invalid",r);break;case"textarea":$e("invalid",r),Ua(r,l.value,l.defaultValue,l.children),ws(r)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||l.suppressHydrationWarning===!0||yv(r.textContent,s)?(l.popover!=null&&($e("beforetoggle",r),$e("toggle",r)),l.onScroll!=null&&$e("scroll",r),l.onScrollEnd!=null&&$e("scrollend",r),l.onClick!=null&&(r.onclick=bc),r=!0):r=!1,r||Ja(t)}function tg(t){for(Cn=t.return;Cn;)switch(Cn.tag){case 5:case 13:Ur=!1;return;case 27:case 3:Ur=!0;return;default:Cn=Cn.return}}function Wo(t){if(t!==Cn)return!1;if(!ct)return tg(t),ct=!0,!1;var r=t.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Ad(t.type,t.memoizedProps)),s=!s),s&&Dt&&Ja(t),tg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(r===0){Dt=_r(t.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;t=t.nextSibling}Dt=null}}else r===27?(r=Dt,ra(t.type)?(t=Dd,Dd=null,Dt=t):Dt=r):Dt=Cn?_r(t.stateNode.nextSibling):null;return!0}function el(){Dt=Cn=null,ct=!1}function ng(){var t=Za;return t!==null&&(Nn===null?Nn=t:Nn.push.apply(Nn,t),Za=null),t}function tl(t){Za===null?Za=[t]:Za.push(t)}var cf=ee(null),Wa=null,di=null;function Hi(t,r,s){se(cf,r._currentValue),r._currentValue=s}function mi(t){t._currentValue=cf.current,ue(cf)}function hf(t,r,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===s)break;t=t.return}}function ff(t,r,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<r.length;I++)if(T.context===r[I]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),hf(d.return,s,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=s,d=_.alternate,d!==null&&(d.lanes|=s),hf(_,s,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function nl(t,r,s,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var T=h.type;zn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Vt.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ml):t=[Ml])}h=h.return}t!==null&&ff(r,t,s,l),r.flags|=262144}function Gu(t){for(t=t.firstContext;t!==null;){if(!zn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function es(t){Wa=t,di=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function dn(t){return rg(Wa,t)}function Ku(t,r){return Wa===null&&es(t),rg(t,r)}function rg(t,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},di===null){if(t===null)throw Error(a(308));di=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else di=di.next=r;return s}var zS=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(s){return s()})}},BS=i.unstable_scheduleCallback,jS=i.unstable_NormalPriority,Kt={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function df(){return{controller:new zS,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&BS(jS,function(){t.controller.abort()})}var il=null,mf=0,Bs=0,js=null;function HS(t,r){if(il===null){var s=il=[];mf=0,Bs=gd(),js={status:"pending",value:void 0,then:function(l){s.push(l)}}}return mf++,r.then(ig,ig),r}function ig(){if(--mf===0&&il!==null){js!==null&&(js.status="fulfilled");var t=il;il=null,Bs=0,js=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function qS(t,r){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<s.length;h++)(0,s[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var ag=G.S;G.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&HS(t,r),ag!==null&&ag(t,r)};var ts=ee(null);function pf(){var t=ts.current;return t!==null?t:St.pooledCache}function Yu(t,r){r===null?se(ts,ts.current):se(ts,r.pool)}function sg(){var t=pf();return t===null?null:{parent:Kt._currentValue,pool:t}}var al=Error(a(460)),og=Error(a(474)),Qu=Error(a(542)),gf={then:function(){}};function lg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $u(){}function ug(t,r,s){switch(s=t[s],s===void 0?t.push(r):s!==r&&(r.then($u,$u),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,hg(t),t;default:if(typeof r.status=="string")r.then($u,$u);else{if(t=St,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,hg(t),t}throw sl=r,al}}var sl=null;function cg(){if(sl===null)throw Error(a(459));var t=sl;return sl=null,t}function hg(t){if(t===al||t===Qu)throw Error(a(483))}var qi=!1;function yf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Gi(t,r,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ft&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=ju(t),Zp(t,null,s),r}return Bu(t,l,r,s),ju(t)}function ol(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,Ir(t,s)}}function _f(t,r){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,s=s.next}while(s!==null);d===null?h=d=r:d=d.next=r}else h=d=r;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}var Ef=!1;function ll(){if(Ef){var t=js;if(t!==null)throw t}}function ul(t,r,s,l){Ef=!1;var h=t.updateQueue;qi=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,q=I.next;I.next=null,_===null?d=q:_.next=q,_=I;var W=t.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==_&&(T===null?W.firstBaseUpdate=q:T.next=q,W.lastBaseUpdate=I))}if(d!==null){var ne=h.baseState;_=0,W=q=I=null,T=d;do{var K=T.lane&-536870913,Y=K!==T.lane;if(Y?(tt&K)===K:(l&K)===K){K!==0&&K===Bs&&(Ef=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var xe=t,De=T;K=r;var vt=s;switch(De.tag){case 1:if(xe=De.payload,typeof xe=="function"){ne=xe.call(vt,ne,K);break e}ne=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=De.payload,K=typeof xe=="function"?xe.call(vt,ne,K):xe,K==null)break e;ne=E({},ne,K);break e;case 2:qi=!0}}K=T.callback,K!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[K]:Y.push(K))}else Y={lane:K,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(q=W=Y,I=ne):W=W.next=Y,_|=K;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);W===null&&(I=ne),h.baseState=I,h.firstBaseUpdate=q,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),Wi|=_,t.lanes=_,t.memoizedState=ne}}function fg(t,r){if(typeof t!="function")throw Error(a(191,t));t.call(r)}function dg(t,r){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)fg(s[t],r)}var Hs=ee(null),Xu=ee(0);function mg(t,r){t=Ti,se(Xu,t),se(Hs,r),Ti=t|r.baseLanes}function Tf(){se(Xu,Ti),se(Hs,Hs.current)}function Sf(){Ti=Xu.current,ue(Hs),ue(Xu)}var Ki=0,Ke=null,gt=null,kt=null,Zu=!1,qs=!1,ns=!1,Ju=0,cl=0,Fs=null,FS=0;function Mt(){throw Error(a(321))}function wf(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!zn(t[s],r[s]))return!1;return!0}function bf(t,r,s,l,h,d){return Ki=d,Ke=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,G.H=t===null||t.memoizedState===null?Zg:Jg,ns=!1,d=s(l,h),ns=!1,qs&&(d=gg(r,s,l,h)),pg(t),d}function pg(t){G.H=ic;var r=gt!==null&&gt.next!==null;if(Ki=0,kt=gt=Ke=null,Zu=!1,cl=0,Fs=null,r)throw Error(a(300));t===null||Wt||(t=t.dependencies,t!==null&&Gu(t)&&(Wt=!0))}function gg(t,r,s,l){Ke=t;var h=0;do{if(qs&&(Fs=null),cl=0,qs=!1,25<=h)throw Error(a(301));if(h+=1,kt=gt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=ZS,d=r(s,l)}while(qs);return d}function GS(){var t=G.H,r=t.useState()[0];return r=typeof r.then=="function"?hl(r):r,t=t.useState()[0],(gt!==null?gt.memoizedState:null)!==t&&(Ke.flags|=1024),r}function Af(){var t=Ju!==0;return Ju=0,t}function Rf(t,r,s){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~s}function Cf(t){if(Zu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Zu=!1}Ki=0,kt=gt=Ke=null,qs=!1,cl=Ju=0,Fs=null}function On(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Ke.memoizedState=kt=t:kt=kt.next=t,kt}function zt(){if(gt===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var r=kt===null?Ke.memoizedState:kt.next;if(r!==null)kt=r,gt=t;else{if(t===null)throw Ke.alternate===null?Error(a(467)):Error(a(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},kt===null?Ke.memoizedState=kt=t:kt=kt.next=t}return kt}function If(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var r=cl;return cl+=1,Fs===null&&(Fs=[]),t=ug(Fs,t,r),r=Ke,(kt===null?r.memoizedState:kt.next)===null&&(r=r.alternate,G.H=r===null||r.memoizedState===null?Zg:Jg),t}function Wu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===ae)return dn(t)}throw Error(a(438,String(t)))}function Df(t){var r=null,s=Ke.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var l=Ke.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=If(),Ke.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(t),l=0;l<t;l++)s[l]=M;return r.index++,s}function pi(t,r){return typeof r=="function"?r(t):r}function ec(t){var r=zt();return Of(r,gt,t)}function Of(t,r,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var T=_=null,I=null,q=r,W=!1;do{var ne=q.lane&-536870913;if(ne!==q.lane?(tt&ne)===ne:(Ki&ne)===ne){var K=q.revertLane;if(K===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ne===Bs&&(W=!0);else if((Ki&K)===K){q=q.next,K===Bs&&(W=!0);continue}else ne={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(T=I=ne,_=d):I=I.next=ne,Ke.lanes|=K,Wi|=K;ne=q.action,ns&&s(d,ne),d=q.hasEagerState?q.eagerState:s(d,ne)}else K={lane:ne,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(T=I=K,_=d):I=I.next=K,Ke.lanes|=ne,Wi|=ne;q=q.next}while(q!==null&&q!==r);if(I===null?_=d:I.next=T,!zn(d,t.memoizedState)&&(Wt=!0,W&&(s=js,s!==null)))throw s;t.memoizedState=d,t.baseState=_,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Mf(t){var r=zt(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,d=r.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);zn(d,r.memoizedState)||(Wt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),s.lastRenderedState=d}return[d,l]}function yg(t,r,s){var l=Ke,h=zt(),d=ct;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=r();var _=!zn((gt||h).memoizedState,s);_&&(h.memoizedState=s,Wt=!0),h=h.queue;var T=Eg.bind(null,l,h,t);if(fl(2048,8,T,[t]),h.getSnapshot!==r||_||kt!==null&&kt.memoizedState.tag&1){if(l.flags|=2048,Gs(9,tc(),_g.bind(null,l,h,s,r),null),St===null)throw Error(a(349));d||(Ki&124)!==0||vg(l,r,s)}return s}function vg(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=Ke.updateQueue,r===null?(r=If(),Ke.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function _g(t,r,s,l){r.value=s,r.getSnapshot=l,Tg(r)&&Sg(t)}function Eg(t,r,s){return s(function(){Tg(r)&&Sg(t)})}function Tg(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!zn(t,s)}catch{return!0}}function Sg(t){var r=Ls(t,2);r!==null&&Gn(r,t,2)}function Nf(t){var r=On();if(typeof t=="function"){var s=t;if(t=s(),ns){fn(!0);try{s()}finally{fn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:t},r}function wg(t,r,s,l){return t.baseState=s,Of(t,gt,typeof l=="function"?l:pi)}function KS(t,r,s,l,h){if(rc(t))throw Error(a(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};G.T!==null?s(!0):d.isTransition=!1,l(d),s=r.pending,s===null?(d.next=r.pending=d,bg(r,d)):(d.next=s.next,r.pending=s.next=d)}}function bg(t,r){var s=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=G.T,_={};G.T=_;try{var T=s(h,l),I=G.S;I!==null&&I(_,T),Ag(t,r,T)}catch(q){xf(t,r,q)}finally{G.T=d}}else try{d=s(h,l),Ag(t,r,d)}catch(q){xf(t,r,q)}}function Ag(t,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Rg(t,r,l)},function(l){return xf(t,r,l)}):Rg(t,r,s)}function Rg(t,r,s){r.status="fulfilled",r.value=s,Cg(r),t.state=s,r=t.pending,r!==null&&(s=r.next,s===r?t.pending=null:(s=s.next,r.next=s,bg(t,s)))}function xf(t,r,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=s,Cg(r),r=r.next;while(r!==l)}t.action=null}function Cg(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Ig(t,r){return r}function Dg(t,r){if(ct){var s=St.formState;if(s!==null){e:{var l=Ke;if(ct){if(Dt){t:{for(var h=Dt,d=Ur;h.nodeType!==8;){if(!d){h=null;break t}if(h=_r(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Dt=_r(h.nextSibling),l=h.data==="F!";break e}}Ja(l)}l=!1}l&&(r=s[0])}}return s=On(),s.memoizedState=s.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ig,lastRenderedState:r},s.queue=l,s=Qg.bind(null,Ke,l),l.dispatch=s,l=Nf(!1),d=kf.bind(null,Ke,!1,l.queue),l=On(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,s=KS.bind(null,Ke,h,d,s),h.dispatch=s,l.memoizedState=t,[r,s,!1]}function Og(t){var r=zt();return Mg(r,gt,t)}function Mg(t,r,s){if(r=Of(t,r,Ig)[0],t=ec(pi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=hl(r)}catch(_){throw _===al?Qu:_}else l=r;r=zt();var h=r.queue,d=h.dispatch;return s!==r.memoizedState&&(Ke.flags|=2048,Gs(9,tc(),YS.bind(null,h,s),null)),[l,d,t]}function YS(t,r){t.action=r}function Ng(t){var r=zt(),s=gt;if(s!==null)return Mg(r,s,t);zt(),r=r.memoizedState,s=zt();var l=s.queue.dispatch;return s.memoizedState=t,[r,l,!1]}function Gs(t,r,s,l){return t={tag:t,create:s,deps:l,inst:r,next:null},r=Ke.updateQueue,r===null&&(r=If(),Ke.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,r.lastEffect=t),t}function tc(){return{destroy:void 0,resource:void 0}}function xg(){return zt().memoizedState}function nc(t,r,s,l){var h=On();l=l===void 0?null:l,Ke.flags|=t,h.memoizedState=Gs(1|r,tc(),s,l)}function fl(t,r,s,l){var h=zt();l=l===void 0?null:l;var d=h.memoizedState.inst;gt!==null&&l!==null&&wf(l,gt.memoizedState.deps)?h.memoizedState=Gs(r,d,s,l):(Ke.flags|=t,h.memoizedState=Gs(1|r,d,s,l))}function Pg(t,r){nc(8390656,8,t,r)}function Vg(t,r){fl(2048,8,t,r)}function Lg(t,r){return fl(4,2,t,r)}function Ug(t,r){return fl(4,4,t,r)}function kg(t,r){if(typeof r=="function"){t=t();var s=r(t);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function zg(t,r,s){s=s!=null?s.concat([t]):null,fl(4,4,kg.bind(null,r,t),s)}function Pf(){}function Bg(t,r){var s=zt();r=r===void 0?null:r;var l=s.memoizedState;return r!==null&&wf(r,l[1])?l[0]:(s.memoizedState=[t,r],t)}function jg(t,r){var s=zt();r=r===void 0?null:r;var l=s.memoizedState;if(r!==null&&wf(r,l[1]))return l[0];if(l=t(),ns){fn(!0);try{t()}finally{fn(!1)}}return s.memoizedState=[l,r],l}function Vf(t,r,s){return s===void 0||(Ki&1073741824)!==0?t.memoizedState=r:(t.memoizedState=s,t=Fy(),Ke.lanes|=t,Wi|=t,s)}function Hg(t,r,s,l){return zn(s,r)?s:Hs.current!==null?(t=Vf(t,s,l),zn(t,r)||(Wt=!0),t):(Ki&42)===0?(Wt=!0,t.memoizedState=s):(t=Fy(),Ke.lanes|=t,Wi|=t,r)}function qg(t,r,s,l,h){var d=le.p;le.p=d!==0&&8>d?d:8;var _=G.T,T={};G.T=T,kf(t,!1,r,s);try{var I=h(),q=G.S;if(q!==null&&q(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var W=qS(I,l);dl(t,r,W,Fn(t))}else dl(t,r,l,Fn(t))}catch(ne){dl(t,r,{then:function(){},status:"rejected",reason:ne},Fn())}finally{le.p=d,G.T=_}}function QS(){}function Lf(t,r,s,l){if(t.tag!==5)throw Error(a(476));var h=Fg(t).queue;qg(t,h,r,me,s===null?QS:function(){return Gg(t),s(l)})}function Fg(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:me},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:s},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Gg(t){var r=Fg(t).next.queue;dl(t,r,{},Fn())}function Uf(){return dn(Ml)}function Kg(){return zt().memoizedState}function Yg(){return zt().memoizedState}function $S(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var s=Fn();t=Fi(s);var l=Gi(r,t,s);l!==null&&(Gn(l,r,s),ol(l,r,s)),r={cache:df()},t.payload=r;return}r=r.return}}function XS(t,r,s){var l=Fn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},rc(t)?$g(r,s):(s=nf(t,r,s,l),s!==null&&(Gn(s,t,l),Xg(s,r,l)))}function Qg(t,r,s){var l=Fn();dl(t,r,s,l)}function dl(t,r,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(rc(t))$g(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,T=d(_,s);if(h.hasEagerState=!0,h.eagerState=T,zn(T,_))return Bu(t,r,h,0),St===null&&zu(),!1}catch{}finally{}if(s=nf(t,r,h,l),s!==null)return Gn(s,t,l),Xg(s,r,l),!0}return!1}function kf(t,r,s,l){if(l={lane:2,revertLane:gd(),action:l,hasEagerState:!1,eagerState:null,next:null},rc(t)){if(r)throw Error(a(479))}else r=nf(t,s,l,2),r!==null&&Gn(r,t,2)}function rc(t){var r=t.alternate;return t===Ke||r!==null&&r===Ke}function $g(t,r){qs=Zu=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function Xg(t,r,s){if((s&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,Ir(t,s)}}var ic={readContext:dn,use:Wu,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt},Zg={readContext:dn,use:Wu,useCallback:function(t,r){return On().memoizedState=[t,r===void 0?null:r],t},useContext:dn,useEffect:Pg,useImperativeHandle:function(t,r,s){s=s!=null?s.concat([t]):null,nc(4194308,4,kg.bind(null,r,t),s)},useLayoutEffect:function(t,r){return nc(4194308,4,t,r)},useInsertionEffect:function(t,r){nc(4,2,t,r)},useMemo:function(t,r){var s=On();r=r===void 0?null:r;var l=t();if(ns){fn(!0);try{t()}finally{fn(!1)}}return s.memoizedState=[l,r],l},useReducer:function(t,r,s){var l=On();if(s!==void 0){var h=s(r);if(ns){fn(!0);try{s(r)}finally{fn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=XS.bind(null,Ke,t),[l.memoizedState,t]},useRef:function(t){var r=On();return t={current:t},r.memoizedState=t},useState:function(t){t=Nf(t);var r=t.queue,s=Qg.bind(null,Ke,r);return r.dispatch=s,[t.memoizedState,s]},useDebugValue:Pf,useDeferredValue:function(t,r){var s=On();return Vf(s,t,r)},useTransition:function(){var t=Nf(!1);return t=qg.bind(null,Ke,t.queue,!0,!1),On().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,s){var l=Ke,h=On();if(ct){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),St===null)throw Error(a(349));(tt&124)!==0||vg(l,r,s)}h.memoizedState=s;var d={value:s,getSnapshot:r};return h.queue=d,Pg(Eg.bind(null,l,d,t),[t]),l.flags|=2048,Gs(9,tc(),_g.bind(null,l,d,s,r),null),s},useId:function(){var t=On(),r=St.identifierPrefix;if(ct){var s=fi,l=hi;s=(l&~(1<<32-Lt(l)-1)).toString(32)+s,r=""+r+"R"+s,s=Ju++,0<s&&(r+="H"+s.toString(32)),r+=""}else s=FS++,r=""+r+"r"+s.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:Uf,useFormState:Dg,useActionState:Dg,useOptimistic:function(t){var r=On();r.memoizedState=r.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=kf.bind(null,Ke,!0,s),s.dispatch=r,[t,r]},useMemoCache:Df,useCacheRefresh:function(){return On().memoizedState=$S.bind(null,Ke)}},Jg={readContext:dn,use:Wu,useCallback:Bg,useContext:dn,useEffect:Vg,useImperativeHandle:zg,useInsertionEffect:Lg,useLayoutEffect:Ug,useMemo:jg,useReducer:ec,useRef:xg,useState:function(){return ec(pi)},useDebugValue:Pf,useDeferredValue:function(t,r){var s=zt();return Hg(s,gt.memoizedState,t,r)},useTransition:function(){var t=ec(pi)[0],r=zt().memoizedState;return[typeof t=="boolean"?t:hl(t),r]},useSyncExternalStore:yg,useId:Kg,useHostTransitionStatus:Uf,useFormState:Og,useActionState:Og,useOptimistic:function(t,r){var s=zt();return wg(s,gt,t,r)},useMemoCache:Df,useCacheRefresh:Yg},ZS={readContext:dn,use:Wu,useCallback:Bg,useContext:dn,useEffect:Vg,useImperativeHandle:zg,useInsertionEffect:Lg,useLayoutEffect:Ug,useMemo:jg,useReducer:Mf,useRef:xg,useState:function(){return Mf(pi)},useDebugValue:Pf,useDeferredValue:function(t,r){var s=zt();return gt===null?Vf(s,t,r):Hg(s,gt.memoizedState,t,r)},useTransition:function(){var t=Mf(pi)[0],r=zt().memoizedState;return[typeof t=="boolean"?t:hl(t),r]},useSyncExternalStore:yg,useId:Kg,useHostTransitionStatus:Uf,useFormState:Ng,useActionState:Ng,useOptimistic:function(t,r){var s=zt();return gt!==null?wg(s,gt,t,r):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Df,useCacheRefresh:Yg},Ks=null,ml=0;function ac(t){var r=ml;return ml+=1,Ks===null&&(Ks=[]),ug(Ks,t,r)}function pl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function sc(t,r){throw r.$$typeof===w?Error(a(525)):(t=Object.prototype.toString.call(r),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Wg(t){var r=t._init;return r(t._payload)}function ey(t){function r(U,V){if(t){var B=U.deletions;B===null?(U.deletions=[V],U.flags|=16):B.push(V)}}function s(U,V){if(!t)return null;for(;V!==null;)r(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function h(U,V){return U=ci(U,V),U.index=0,U.sibling=null,U}function d(U,V,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<V?(U.flags|=67108866,V):B):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,V,B,te){return V===null||V.tag!==6?(V=af(B,U.mode,te),V.return=U,V):(V=h(V,B),V.return=U,V)}function I(U,V,B,te){var ye=B.type;return ye===H?W(U,V,B.props.children,te,B.key):V!==null&&(V.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===A&&Wg(ye)===V.type)?(V=h(V,B.props),pl(V,B),V.return=U,V):(V=Hu(B.type,B.key,B.props,null,U.mode,te),pl(V,B),V.return=U,V)}function q(U,V,B,te){return V===null||V.tag!==4||V.stateNode.containerInfo!==B.containerInfo||V.stateNode.implementation!==B.implementation?(V=sf(B,U.mode,te),V.return=U,V):(V=h(V,B.children||[]),V.return=U,V)}function W(U,V,B,te,ye){return V===null||V.tag!==7?(V=Qa(B,U.mode,te,ye),V.return=U,V):(V=h(V,B),V.return=U,V)}function ne(U,V,B){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=af(""+V,U.mode,B),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case S:return B=Hu(V.type,V.key,V.props,null,U.mode,B),pl(B,V),B.return=U,B;case P:return V=sf(V,U.mode,B),V.return=U,V;case A:var te=V._init;return V=te(V._payload),ne(U,V,B)}if(Fe(V)||L(V))return V=Qa(V,U.mode,B,null),V.return=U,V;if(typeof V.then=="function")return ne(U,ac(V),B);if(V.$$typeof===ae)return ne(U,Ku(U,V),B);sc(U,V)}return null}function K(U,V,B,te){var ye=V!==null?V.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ye!==null?null:T(U,V,""+B,te);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return B.key===ye?I(U,V,B,te):null;case P:return B.key===ye?q(U,V,B,te):null;case A:return ye=B._init,B=ye(B._payload),K(U,V,B,te)}if(Fe(B)||L(B))return ye!==null?null:W(U,V,B,te,null);if(typeof B.then=="function")return K(U,V,ac(B),te);if(B.$$typeof===ae)return K(U,V,Ku(U,B),te);sc(U,B)}return null}function Y(U,V,B,te,ye){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return U=U.get(B)||null,T(V,U,""+te,ye);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case S:return U=U.get(te.key===null?B:te.key)||null,I(V,U,te,ye);case P:return U=U.get(te.key===null?B:te.key)||null,q(V,U,te,ye);case A:var Ye=te._init;return te=Ye(te._payload),Y(U,V,B,te,ye)}if(Fe(te)||L(te))return U=U.get(B)||null,W(V,U,te,ye,null);if(typeof te.then=="function")return Y(U,V,B,ac(te),ye);if(te.$$typeof===ae)return Y(U,V,B,Ku(V,te),ye);sc(V,te)}return null}function xe(U,V,B,te){for(var ye=null,Ye=null,Ae=V,Oe=V=0,tn=null;Ae!==null&&Oe<B.length;Oe++){Ae.index>Oe?(tn=Ae,Ae=null):tn=Ae.sibling;var st=K(U,Ae,B[Oe],te);if(st===null){Ae===null&&(Ae=tn);break}t&&Ae&&st.alternate===null&&r(U,Ae),V=d(st,V,Oe),Ye===null?ye=st:Ye.sibling=st,Ye=st,Ae=tn}if(Oe===B.length)return s(U,Ae),ct&&Xa(U,Oe),ye;if(Ae===null){for(;Oe<B.length;Oe++)Ae=ne(U,B[Oe],te),Ae!==null&&(V=d(Ae,V,Oe),Ye===null?ye=Ae:Ye.sibling=Ae,Ye=Ae);return ct&&Xa(U,Oe),ye}for(Ae=l(Ae);Oe<B.length;Oe++)tn=Y(Ae,U,Oe,B[Oe],te),tn!==null&&(t&&tn.alternate!==null&&Ae.delete(tn.key===null?Oe:tn.key),V=d(tn,V,Oe),Ye===null?ye=tn:Ye.sibling=tn,Ye=tn);return t&&Ae.forEach(function(la){return r(U,la)}),ct&&Xa(U,Oe),ye}function De(U,V,B,te){if(B==null)throw Error(a(151));for(var ye=null,Ye=null,Ae=V,Oe=V=0,tn=null,st=B.next();Ae!==null&&!st.done;Oe++,st=B.next()){Ae.index>Oe?(tn=Ae,Ae=null):tn=Ae.sibling;var la=K(U,Ae,st.value,te);if(la===null){Ae===null&&(Ae=tn);break}t&&Ae&&la.alternate===null&&r(U,Ae),V=d(la,V,Oe),Ye===null?ye=la:Ye.sibling=la,Ye=la,Ae=tn}if(st.done)return s(U,Ae),ct&&Xa(U,Oe),ye;if(Ae===null){for(;!st.done;Oe++,st=B.next())st=ne(U,st.value,te),st!==null&&(V=d(st,V,Oe),Ye===null?ye=st:Ye.sibling=st,Ye=st);return ct&&Xa(U,Oe),ye}for(Ae=l(Ae);!st.done;Oe++,st=B.next())st=Y(Ae,U,Oe,st.value,te),st!==null&&(t&&st.alternate!==null&&Ae.delete(st.key===null?Oe:st.key),V=d(st,V,Oe),Ye===null?ye=st:Ye.sibling=st,Ye=st);return t&&Ae.forEach(function(Jw){return r(U,Jw)}),ct&&Xa(U,Oe),ye}function vt(U,V,B,te){if(typeof B=="object"&&B!==null&&B.type===H&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case S:e:{for(var ye=B.key;V!==null;){if(V.key===ye){if(ye=B.type,ye===H){if(V.tag===7){s(U,V.sibling),te=h(V,B.props.children),te.return=U,U=te;break e}}else if(V.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===A&&Wg(ye)===V.type){s(U,V.sibling),te=h(V,B.props),pl(te,B),te.return=U,U=te;break e}s(U,V);break}else r(U,V);V=V.sibling}B.type===H?(te=Qa(B.props.children,U.mode,te,B.key),te.return=U,U=te):(te=Hu(B.type,B.key,B.props,null,U.mode,te),pl(te,B),te.return=U,U=te)}return _(U);case P:e:{for(ye=B.key;V!==null;){if(V.key===ye)if(V.tag===4&&V.stateNode.containerInfo===B.containerInfo&&V.stateNode.implementation===B.implementation){s(U,V.sibling),te=h(V,B.children||[]),te.return=U,U=te;break e}else{s(U,V);break}else r(U,V);V=V.sibling}te=sf(B,U.mode,te),te.return=U,U=te}return _(U);case A:return ye=B._init,B=ye(B._payload),vt(U,V,B,te)}if(Fe(B))return xe(U,V,B,te);if(L(B)){if(ye=L(B),typeof ye!="function")throw Error(a(150));return B=ye.call(B),De(U,V,B,te)}if(typeof B.then=="function")return vt(U,V,ac(B),te);if(B.$$typeof===ae)return vt(U,V,Ku(U,B),te);sc(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,V!==null&&V.tag===6?(s(U,V.sibling),te=h(V,B),te.return=U,U=te):(s(U,V),te=af(B,U.mode,te),te.return=U,U=te),_(U)):s(U,V)}return function(U,V,B,te){try{ml=0;var ye=vt(U,V,B,te);return Ks=null,ye}catch(Ae){if(Ae===al||Ae===Qu)throw Ae;var Ye=Bn(29,Ae,null,U.mode);return Ye.lanes=te,Ye.return=U,Ye}finally{}}}var Ys=ey(!0),ty=ey(!1),or=ee(null),kr=null;function Yi(t){var r=t.alternate;se(Yt,Yt.current&1),se(or,t),kr===null&&(r===null||Hs.current!==null||r.memoizedState!==null)&&(kr=t)}function ny(t){if(t.tag===22){if(se(Yt,Yt.current),se(or,t),kr===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(kr=t)}}else Qi()}function Qi(){se(Yt,Yt.current),se(or,or.current)}function gi(t){ue(or),kr===t&&(kr=null),ue(Yt)}var Yt=ee(0);function oc(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Id(s)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function zf(t,r,s,l){r=t.memoizedState,s=s(l,r),s=s==null?r:E({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Bf={enqueueSetState:function(t,r,s){t=t._reactInternals;var l=Fn(),h=Fi(l);h.payload=r,s!=null&&(h.callback=s),r=Gi(t,h,l),r!==null&&(Gn(r,t,l),ol(r,t,l))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var l=Fn(),h=Fi(l);h.tag=1,h.payload=r,s!=null&&(h.callback=s),r=Gi(t,h,l),r!==null&&(Gn(r,t,l),ol(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=Fn(),l=Fi(s);l.tag=2,r!=null&&(l.callback=r),r=Gi(t,l,s),r!==null&&(Gn(r,t,s),ol(r,t,s))}};function ry(t,r,s,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!Zo(s,l)||!Zo(h,d):!0}function iy(t,r,s,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==t&&Bf.enqueueReplaceState(r,r.state,null)}function rs(t,r){var s=r;if("ref"in r){s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}if(t=t.defaultProps){s===r&&(s=E({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var lc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ay(t){lc(t)}function sy(t){console.error(t)}function oy(t){lc(t)}function uc(t,r){try{var s=t.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function ly(t,r,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function jf(t,r,s){return s=Fi(s),s.tag=3,s.payload={element:null},s.callback=function(){uc(t,r)},s}function uy(t){return t=Fi(t),t.tag=3,t}function cy(t,r,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){ly(r,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){ly(r,s,l),typeof h!="function"&&(ea===null?ea=new Set([this]):ea.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function JS(t,r,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=s.alternate,r!==null&&nl(r,s,h,!0),s=or.current,s!==null){switch(s.tag){case 13:return kr===null?hd():s.alternate===null&&Ot===0&&(Ot=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===gf?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([l]):r.add(l),dd(t,l,h)),!1;case 22:return s.flags|=65536,l===gf?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([l]):s.add(l)),dd(t,l,h)),!1}throw Error(a(435,s.tag))}return dd(t,l,h),hd(),!1}if(ct)return r=or.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==uf&&(t=Error(a(422),{cause:l}),tl(rr(t,s)))):(l!==uf&&(r=Error(a(423),{cause:l}),tl(rr(r,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=rr(l,s),h=jf(t.stateNode,l,h),_f(t,h),Ot!==4&&(Ot=2)),!1;var d=Error(a(520),{cause:l});if(d=rr(d,s),Sl===null?Sl=[d]:Sl.push(d),Ot!==4&&(Ot=2),r===null)return!0;l=rr(l,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=jf(s.stateNode,l,t),_f(s,t),!1;case 1:if(r=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ea===null||!ea.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=uy(h),cy(h,t,s,l),_f(s,h),!1}s=s.return}while(s!==null);return!1}var hy=Error(a(461)),Wt=!1;function sn(t,r,s,l){r.child=t===null?ty(r,null,s,l):Ys(r,t.child,s,l)}function fy(t,r,s,l,h){s=s.render;var d=r.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return es(r),l=bf(t,r,s,_,d,h),T=Af(),t!==null&&!Wt?(Rf(t,r,h),yi(t,r,h)):(ct&&T&&of(r),r.flags|=1,sn(t,r,l,h),r.child)}function dy(t,r,s,l,h){if(t===null){var d=s.type;return typeof d=="function"&&!rf(d)&&d.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=d,my(t,r,d,l,h)):(t=Hu(s.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!$f(t,h)){var _=d.memoizedProps;if(s=s.compare,s=s!==null?s:Zo,s(_,l)&&t.ref===r.ref)return yi(t,r,h)}return r.flags|=1,t=ci(d,l),t.ref=r.ref,t.return=r,r.child=t}function my(t,r,s,l,h){if(t!==null){var d=t.memoizedProps;if(Zo(d,l)&&t.ref===r.ref)if(Wt=!1,r.pendingProps=l=d,$f(t,h))(t.flags&131072)!==0&&(Wt=!0);else return r.lanes=t.lanes,yi(t,r,h)}return Hf(t,r,s,l,h)}function py(t,r,s){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|s:s,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return gy(t,r,l,s)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yu(r,d!==null?d.cachePool:null),d!==null?mg(r,d):Tf(),ny(r);else return r.lanes=r.childLanes=536870912,gy(t,r,d!==null?d.baseLanes|s:s,s)}else d!==null?(Yu(r,d.cachePool),mg(r,d),Qi(),r.memoizedState=null):(t!==null&&Yu(r,null),Tf(),Qi());return sn(t,r,h,s),r.child}function gy(t,r,s,l){var h=pf();return h=h===null?null:{parent:Kt._currentValue,pool:h},r.memoizedState={baseLanes:s,cachePool:h},t!==null&&Yu(r,null),Tf(),ny(r),t!==null&&nl(t,r,l,!0),null}function cc(t,r){var s=r.ref;if(s===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(r.flags|=4194816)}}function Hf(t,r,s,l,h){return es(r),s=bf(t,r,s,l,void 0,h),l=Af(),t!==null&&!Wt?(Rf(t,r,h),yi(t,r,h)):(ct&&l&&of(r),r.flags|=1,sn(t,r,s,h),r.child)}function yy(t,r,s,l,h,d){return es(r),r.updateQueue=null,s=gg(r,l,s,h),pg(t),l=Af(),t!==null&&!Wt?(Rf(t,r,d),yi(t,r,d)):(ct&&l&&of(r),r.flags|=1,sn(t,r,s,d),r.child)}function vy(t,r,s,l,h){if(es(r),r.stateNode===null){var d=Us,_=s.contextType;typeof _=="object"&&_!==null&&(d=dn(_)),d=new s(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Bf,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},yf(r),_=s.contextType,d.context=typeof _=="object"&&_!==null?dn(_):Us,d.state=r.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(zf(r,s,_,l),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Bf.enqueueReplaceState(d,d.state,null),ul(r,l,d,h),ll(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,I=rs(s,T);d.props=I;var q=d.context,W=s.contextType;_=Us,typeof W=="object"&&W!==null&&(_=dn(W));var ne=s.getDerivedStateFromProps;W=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||q!==_)&&iy(r,d,l,_),qi=!1;var K=r.memoizedState;d.state=K,ul(r,l,d,h),ll(),q=r.memoizedState,T||K!==q||qi?(typeof ne=="function"&&(zf(r,s,ne,l),q=r.memoizedState),(I=qi||ry(r,s,I,l,K,q,_))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),d.props=l,d.state=q,d.context=_,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,vf(t,r),_=r.memoizedProps,W=rs(s,_),d.props=W,ne=r.pendingProps,K=d.context,q=s.contextType,I=Us,typeof q=="object"&&q!==null&&(I=dn(q)),T=s.getDerivedStateFromProps,(q=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ne||K!==I)&&iy(r,d,l,I),qi=!1,K=r.memoizedState,d.state=K,ul(r,l,d,h),ll();var Y=r.memoizedState;_!==ne||K!==Y||qi||t!==null&&t.dependencies!==null&&Gu(t.dependencies)?(typeof T=="function"&&(zf(r,s,T,l),Y=r.memoizedState),(W=qi||ry(r,s,W,l,K,Y,I)||t!==null&&t.dependencies!==null&&Gu(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),d.props=l,d.state=Y,d.context=I,l=W):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,cc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Ys(r,t.child,null,h),r.child=Ys(r,null,s,h)):sn(t,r,s,h),r.memoizedState=d.state,t=r.child):t=yi(t,r,h),t}function _y(t,r,s,l){return el(),r.flags|=256,sn(t,r,s,l),r.child}var qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ff(t){return{baseLanes:t,cachePool:sg()}}function Gf(t,r,s){return t=t!==null?t.childLanes&~s:0,r&&(t|=lr),t}function Ey(t,r,s){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Yt.current&2)!==0),_&&(h=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(ct){if(h?Yi(r):Qi(),ct){var T=Dt,I;if(I=T){e:{for(I=T,T=Ur;I.nodeType!==8;){if(!T){T=null;break e}if(I=_r(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(r.memoizedState={dehydrated:T,treeContext:$a!==null?{id:hi,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},I=Bn(18,null,null,0),I.stateNode=T,I.return=r,r.child=I,Cn=r,Dt=null,I=!0):I=!1}I||Ja(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Id(T)?r.lanes=32:r.lanes=536870912,null;gi(r)}return T=l.children,l=l.fallback,h?(Qi(),h=r.mode,T=hc({mode:"hidden",children:T},h),l=Qa(l,h,s,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=Ff(s),h.childLanes=Gf(t,_,s),r.memoizedState=qf,l):(Yi(r),Kf(r,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)r.flags&256?(Yi(r),r.flags&=-257,r=Yf(t,r,s)):r.memoizedState!==null?(Qi(),r.child=t.child,r.flags|=128,r=null):(Qi(),h=l.fallback,T=r.mode,l=hc({mode:"visible",children:l.children},T),h=Qa(h,T,s,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Ys(r,t.child,null,s),l=r.child,l.memoizedState=Ff(s),l.childLanes=Gf(t,_,s),r.memoizedState=qf,r=h);else if(Yi(r),Id(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var q=_.dgst;_=q,l=Error(a(419)),l.stack="",l.digest=_,tl({value:l,source:null,stack:null}),r=Yf(t,r,s)}else if(Wt||nl(t,r,s,!1),_=(s&t.childLanes)!==0,Wt||_){if(_=St,_!==null&&(l=s&-s,l=(l&42)!==0?1:Dr(l),l=(l&(_.suspendedLanes|s))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Ls(t,l),Gn(_,t,l),hy;T.data==="$?"||hd(),r=Yf(t,r,s)}else T.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=I.treeContext,Dt=_r(T.nextSibling),Cn=r,ct=!0,Za=null,Ur=!1,t!==null&&(ar[sr++]=hi,ar[sr++]=fi,ar[sr++]=$a,hi=t.id,fi=t.overflow,$a=r),r=Kf(r,l.children),r.flags|=4096);return r}return h?(Qi(),h=l.fallback,T=r.mode,I=t.child,q=I.sibling,l=ci(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,q!==null?h=ci(q,h):(h=Qa(h,T,s,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=t.child.memoizedState,T===null?T=Ff(s):(I=T.cachePool,I!==null?(q=Kt._currentValue,I=I.parent!==q?{parent:q,pool:q}:I):I=sg(),T={baseLanes:T.baseLanes|s,cachePool:I}),h.memoizedState=T,h.childLanes=Gf(t,_,s),r.memoizedState=qf,l):(Yi(r),s=t.child,t=s.sibling,s=ci(s,{mode:"visible",children:l.children}),s.return=r,s.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=s,r.memoizedState=null,s)}function Kf(t,r){return r=hc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function hc(t,r){return t=Bn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Yf(t,r,s){return Ys(r,t.child,null,s),t=Kf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Ty(t,r,s){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),hf(t.return,r,s)}function Qf(t,r,s,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=h)}function Sy(t,r,s){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(sn(t,r,l.children,s),l=Yt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ty(t,s,r);else if(t.tag===19)Ty(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(se(Yt,l),h){case"forwards":for(s=r.child,h=null;s!==null;)t=s.alternate,t!==null&&oc(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=r.child,r.child=null):(h=s.sibling,s.sibling=null),Qf(r,!1,h,s,d);break;case"backwards":for(s=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&oc(t)===null){r.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Qf(r,!0,s,null,d);break;case"together":Qf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function yi(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),Wi|=r.lanes,(s&r.childLanes)===0)if(t!==null){if(nl(t,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(a(153));if(r.child!==null){for(t=r.child,s=ci(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=ci(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function $f(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Gu(t)))}function WS(t,r,s){switch(r.tag){case 3:mt(r,r.stateNode.containerInfo),Hi(r,Kt,t.memoizedState.cache),el();break;case 27:case 5:wt(r);break;case 4:mt(r,r.stateNode.containerInfo);break;case 10:Hi(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Yi(r),r.flags|=128,null):(s&r.child.childLanes)!==0?Ey(t,r,s):(Yi(r),t=yi(t,r,s),t!==null?t.sibling:null);Yi(r);break;case 19:var h=(t.flags&128)!==0;if(l=(s&r.childLanes)!==0,l||(nl(t,r,s,!1),l=(s&r.childLanes)!==0),h){if(l)return Sy(t,r,s);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(Yt,Yt.current),l)break;return null;case 22:case 23:return r.lanes=0,py(t,r,s);case 24:Hi(r,Kt,t.memoizedState.cache)}return yi(t,r,s)}function wy(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps)Wt=!0;else{if(!$f(t,s)&&(r.flags&128)===0)return Wt=!1,WS(t,r,s);Wt=(t.flags&131072)!==0}else Wt=!1,ct&&(r.flags&1048576)!==0&&Wp(r,Fu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")rf(l)?(t=rs(l,t),r.tag=1,r=vy(null,r,l,t,s)):(r.tag=0,r=Hf(null,r,l,t,s));else{if(l!=null){if(h=l.$$typeof,h===Se){r.tag=11,r=fy(null,r,l,t,s);break e}else if(h===N){r.tag=14,r=dy(null,r,l,t,s);break e}}throw r=Ve(l)||l,Error(a(306,r,""))}}return r;case 0:return Hf(t,r,r.type,r.pendingProps,s);case 1:return l=r.type,h=rs(l,r.pendingProps),vy(t,r,l,h,s);case 3:e:{if(mt(r,r.stateNode.containerInfo),t===null)throw Error(a(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,vf(t,r),ul(r,l,null,s);var _=r.memoizedState;if(l=_.cache,Hi(r,Kt,l),l!==d.cache&&ff(r,[Kt],s,!0),ll(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=_y(t,r,l,s);break e}else if(l!==h){h=rr(Error(a(424)),r),tl(h),r=_y(t,r,l,s);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Dt=_r(t.firstChild),Cn=r,ct=!0,Za=null,Ur=!0,s=ty(r,null,l,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(el(),l===h){r=yi(t,r,s);break e}sn(t,r,l,s)}r=r.child}return r;case 26:return cc(t,r),t===null?(s=Cv(r.type,null,r.pendingProps,null))?r.memoizedState=s:ct||(s=r.type,t=r.pendingProps,l=Ac(Ie.current).createElement(s),l[re]=r,l[oe]=t,ln(l,s,t),Ue(l),r.stateNode=l):r.memoizedState=Cv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return wt(r),t===null&&ct&&(l=r.stateNode=bv(r.type,r.pendingProps,Ie.current),Cn=r,Ur=!0,h=Dt,ra(r.type)?(Dd=h,Dt=_r(l.firstChild)):Dt=h),sn(t,r,r.pendingProps.children,s),cc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&ct&&((h=l=Dt)&&(l=Cw(l,r.type,r.pendingProps,Ur),l!==null?(r.stateNode=l,Cn=r,Dt=_r(l.firstChild),Ur=!1,h=!0):h=!1),h||Ja(r)),wt(r),h=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Ad(h,d)?l=null:_!==null&&Ad(h,_)&&(r.flags|=32),r.memoizedState!==null&&(h=bf(t,r,GS,null,null,s),Ml._currentValue=h),cc(t,r),sn(t,r,l,s),r.child;case 6:return t===null&&ct&&((t=s=Dt)&&(s=Iw(s,r.pendingProps,Ur),s!==null?(r.stateNode=s,Cn=r,Dt=null,t=!0):t=!1),t||Ja(r)),null;case 13:return Ey(t,r,s);case 4:return mt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Ys(r,null,l,s):sn(t,r,l,s),r.child;case 11:return fy(t,r,r.type,r.pendingProps,s);case 7:return sn(t,r,r.pendingProps,s),r.child;case 8:return sn(t,r,r.pendingProps.children,s),r.child;case 12:return sn(t,r,r.pendingProps.children,s),r.child;case 10:return l=r.pendingProps,Hi(r,r.type,l.value),sn(t,r,l.children,s),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,es(r),h=dn(h),l=l(h),r.flags|=1,sn(t,r,l,s),r.child;case 14:return dy(t,r,r.type,r.pendingProps,s);case 15:return my(t,r,r.type,r.pendingProps,s);case 19:return Sy(t,r,s);case 31:return l=r.pendingProps,s=r.mode,l={mode:l.mode,children:l.children},t===null?(s=hc(l,s),s.ref=r.ref,r.child=s,s.return=r,r=s):(s=ci(t.child,l),s.ref=r.ref,r.child=s,s.return=r,r=s),r;case 22:return py(t,r,s);case 24:return es(r),l=dn(Kt),t===null?(h=pf(),h===null&&(h=St,d=df(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),r.memoizedState={parent:l,cache:h},yf(r),Hi(r,Kt,h)):((t.lanes&s)!==0&&(vf(t,r),ul(r,null,null,s),ll()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Hi(r,Kt,l)):(l=d.cache,Hi(r,Kt,l),l!==h.cache&&ff(r,[Kt],s,!0))),sn(t,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function vi(t){t.flags|=4}function by(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Nv(r)){if(r=or.current,r!==null&&((tt&4194048)===tt?kr!==null:(tt&62914560)!==tt&&(tt&536870912)===0||r!==kr))throw sl=gf,og;t.flags|=8192}}function fc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Pa():536870912,t.lanes|=r,Zs|=r)}function gl(t,r){if(!ct)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Rt(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(r)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,r}function ew(t,r,s){var l=r.pendingProps;switch(lf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(r),null;case 1:return Rt(r),null;case 3:return s=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),mi(Kt),Yn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Wo(r)?vi(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,ng())),Rt(r),null;case 26:return s=r.memoizedState,t===null?(vi(r),s!==null?(Rt(r),by(r,s)):(Rt(r),r.flags&=-16777217)):s?s!==t.memoizedState?(vi(r),Rt(r),by(r,s)):(Rt(r),r.flags&=-16777217):(t.memoizedProps!==l&&vi(r),Rt(r),r.flags&=-16777217),null;case 27:hn(r),s=Ie.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&vi(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return Rt(r),null}t=we.current,Wo(r)?eg(r):(t=bv(h,l,s),r.stateNode=t,vi(r))}return Rt(r),null;case 5:if(hn(r),s=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&vi(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return Rt(r),null}if(t=we.current,Wo(r))eg(r);else{switch(h=Ac(Ie.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}t[re]=r,t[oe]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(ln(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&vi(r)}}return Rt(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&vi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(a(166));if(t=Ie.current,Wo(r)){if(t=r.stateNode,s=r.memoizedProps,l=null,h=Cn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[re]=r,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||yv(t.nodeValue,s)),t||Ja(r)}else t=Ac(t).createTextNode(l),t[re]=r,r.stateNode=t}return Rt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Wo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[re]=r}else el(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Rt(r),h=!1}else h=ng(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(gi(r),r):(gi(r),null)}if(gi(r),(r.flags&128)!==0)return r.lanes=s,r;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return s!==t&&s&&(r.child.flags|=8192),fc(r,r.updateQueue),Rt(r),null;case 4:return Yn(),t===null&&Ed(r.stateNode.containerInfo),Rt(r),null;case 10:return mi(r.type),Rt(r),null;case 19:if(ue(Yt),h=r.memoizedState,h===null)return Rt(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)gl(h,!1);else{if(Ot!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=oc(t),d!==null){for(r.flags|=128,gl(h,!1),t=d.updateQueue,r.updateQueue=t,fc(r,t),r.subtreeFlags=0,t=s,s=r.child;s!==null;)Jp(s,t),s=s.sibling;return se(Yt,Yt.current&1|2),r.child}t=t.sibling}h.tail!==null&&En()>pc&&(r.flags|=128,l=!0,gl(h,!1),r.lanes=4194304)}else{if(!l)if(t=oc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,fc(r,t),gl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!ct)return Rt(r),null}else 2*En()-h.renderingStartTime>pc&&s!==536870912&&(r.flags|=128,l=!0,gl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=En(),r.sibling=null,t=Yt.current,se(Yt,l?t&1|2:t&1),r):(Rt(r),null);case 22:case 23:return gi(r),Sf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(s&536870912)!==0&&(r.flags&128)===0&&(Rt(r),r.subtreeFlags&6&&(r.flags|=8192)):Rt(r),s=r.updateQueue,s!==null&&fc(r,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==s&&(r.flags|=2048),t!==null&&ue(ts),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),mi(Kt),Rt(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function tw(t,r){switch(lf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return mi(Kt),Yn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return hn(r),null;case 13:if(gi(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(a(340));el()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ue(Yt),null;case 4:return Yn(),null;case 10:return mi(r.type),null;case 22:case 23:return gi(r),Sf(),t!==null&&ue(ts),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return mi(Kt),null;case 25:return null;default:return null}}function Ay(t,r){switch(lf(r),r.tag){case 3:mi(Kt),Yn();break;case 26:case 27:case 5:hn(r);break;case 4:Yn();break;case 13:gi(r);break;case 19:ue(Yt);break;case 10:mi(r.type);break;case 22:case 23:gi(r),Sf(),t!==null&&ue(ts);break;case 24:mi(Kt)}}function yl(t,r){try{var s=r.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var d=s.create,_=s.inst;l=d(),_.destroy=l}s=s.next}while(s!==h)}}catch(T){Et(r,r.return,T)}}function $i(t,r,s){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=r;var I=s,q=T;try{q()}catch(W){Et(h,I,W)}}}l=l.next}while(l!==d)}}catch(W){Et(r,r.return,W)}}function Ry(t){var r=t.updateQueue;if(r!==null){var s=t.stateNode;try{dg(r,s)}catch(l){Et(t,t.return,l)}}}function Cy(t,r,s){s.props=rs(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Et(t,r,l)}}function vl(t,r){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){Et(t,r,h)}}function zr(t,r){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Et(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Et(t,r,h)}else s.current=null}function Iy(t){var r=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Et(t,t.return,h)}}function Xf(t,r,s){try{var l=t.stateNode;Sw(l,t.type,s,r),l[oe]=r}catch(h){Et(t,t.return,h)}}function Dy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ra(t.type)||t.tag===4}function Zf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ra(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jf(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(t),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=bc));else if(l!==4&&(l===27&&ra(t.type)&&(s=t.stateNode,r=null),t=t.child,t!==null))for(Jf(t,r,s),t=t.sibling;t!==null;)Jf(t,r,s),t=t.sibling}function dc(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(l!==4&&(l===27&&ra(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(dc(t,r,s),t=t.sibling;t!==null;)dc(t,r,s),t=t.sibling}function Oy(t){var r=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);ln(r,l,s),r[re]=t,r[oe]=s}catch(d){Et(t,t.return,d)}}var _i=!1,Nt=!1,Wf=!1,My=typeof WeakSet=="function"?WeakSet:Set,en=null;function nw(t,r){if(t=t.containerInfo,wd=Mc,t=Hp(t),Xh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var _=0,T=-1,I=-1,q=0,W=0,ne=t,K=null;t:for(;;){for(var Y;ne!==s||h!==0&&ne.nodeType!==3||(T=_+h),ne!==d||l!==0&&ne.nodeType!==3||(I=_+l),ne.nodeType===3&&(_+=ne.nodeValue.length),(Y=ne.firstChild)!==null;)K=ne,ne=Y;for(;;){if(ne===t)break t;if(K===s&&++q===h&&(T=_),K===d&&++W===l&&(I=_),(Y=ne.nextSibling)!==null)break;ne=K,K=ne.parentNode}ne=Y}s=T===-1||I===-1?null:{start:T,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(bd={focusedElem:t,selectionRange:s},Mc=!1,en=r;en!==null;)if(r=en,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,en=t;else for(;en!==null;){switch(r=en,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=r,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var xe=rs(s.type,h,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(xe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(De){Et(s,s.return,De)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,s=t.nodeType,s===9)Cd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Cd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=r.sibling,t!==null){t.return=r.return,en=t;break}en=r.return}}function Ny(t,r,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Xi(t,s),l&4&&yl(5,s);break;case 1:if(Xi(t,s),l&4)if(t=s.stateNode,r===null)try{t.componentDidMount()}catch(_){Et(s,s.return,_)}else{var h=rs(s.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Et(s,s.return,_)}}l&64&&Ry(s),l&512&&vl(s,s.return);break;case 3:if(Xi(t,s),l&64&&(t=s.updateQueue,t!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{dg(t,r)}catch(_){Et(s,s.return,_)}}break;case 27:r===null&&l&4&&Oy(s);case 26:case 5:Xi(t,s),r===null&&l&4&&Iy(s),l&512&&vl(s,s.return);break;case 12:Xi(t,s);break;case 13:Xi(t,s),l&4&&Vy(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=hw.bind(null,s),Dw(t,s))));break;case 22:if(l=s.memoizedState!==null||_i,!l){r=r!==null&&r.memoizedState!==null||Nt,h=_i;var d=Nt;_i=l,(Nt=r)&&!d?Zi(t,s,(s.subtreeFlags&8772)!==0):Xi(t,s),_i=h,Nt=d}break;case 30:break;default:Xi(t,s)}}function xy(t){var r=t.alternate;r!==null&&(t.alternate=null,xy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Te(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var At=null,Mn=!1;function Ei(t,r,s){for(s=s.child;s!==null;)Py(t,r,s),s=s.sibling}function Py(t,r,s){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(ot,s)}catch{}switch(s.tag){case 26:Nt||zr(s,r),Ei(t,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Nt||zr(s,r);var l=At,h=Mn;ra(s.type)&&(At=s.stateNode,Mn=!1),Ei(t,r,s),Cl(s.stateNode),At=l,Mn=h;break;case 5:Nt||zr(s,r);case 6:if(l=At,h=Mn,At=null,Ei(t,r,s),At=l,Mn=h,At!==null)if(Mn)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(s.stateNode)}catch(d){Et(s,r,d)}else try{At.removeChild(s.stateNode)}catch(d){Et(s,r,d)}break;case 18:At!==null&&(Mn?(t=At,Sv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Vl(t)):Sv(At,s.stateNode));break;case 4:l=At,h=Mn,At=s.stateNode.containerInfo,Mn=!0,Ei(t,r,s),At=l,Mn=h;break;case 0:case 11:case 14:case 15:Nt||$i(2,s,r),Nt||$i(4,s,r),Ei(t,r,s);break;case 1:Nt||(zr(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Cy(s,r,l)),Ei(t,r,s);break;case 21:Ei(t,r,s);break;case 22:Nt=(l=Nt)||s.memoizedState!==null,Ei(t,r,s),Nt=l;break;default:Ei(t,r,s)}}function Vy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Vl(t)}catch(s){Et(r,r.return,s)}}function rw(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new My),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new My),r;default:throw Error(a(435,t.tag))}}function ed(t,r){var s=rw(t);r.forEach(function(l){var h=fw.bind(null,t,l);s.has(l)||(s.add(l),l.then(h,h))})}function jn(t,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=t,_=r,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(ra(T.type)){At=T.stateNode,Mn=!1;break e}break;case 5:At=T.stateNode,Mn=!1;break e;case 3:case 4:At=T.stateNode.containerInfo,Mn=!0;break e}T=T.return}if(At===null)throw Error(a(160));Py(d,_,h),At=null,Mn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Ly(r,t),r=r.sibling}var vr=null;function Ly(t,r){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:jn(r,t),Hn(t),l&4&&($i(3,t,t.return),yl(3,t),$i(5,t,t.return));break;case 1:jn(r,t),Hn(t),l&512&&(Nt||s===null||zr(s,s.return)),l&64&&_i&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=vr;if(jn(r,t),Hn(t),l&512&&(Nt||s===null||zr(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ee]||d[re]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),ln(d,l,s),d[re]=t,Ue(d),l=d;break e;case"link":var _=Ov("link","href",h).get(l+(s.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),ln(d,l,s),h.head.appendChild(d);break;case"meta":if(_=Ov("meta","content",h).get(l+(s.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(T,1);break t}}d=h.createElement(l),ln(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[re]=t,Ue(d),l=d}t.stateNode=l}else Mv(h,t.type,t.stateNode);else t.stateNode=Dv(h,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?Mv(h,t.type,t.stateNode):Dv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Xf(t,t.memoizedProps,s.memoizedProps)}break;case 27:jn(r,t),Hn(t),l&512&&(Nt||s===null||zr(s,s.return)),s!==null&&l&4&&Xf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(jn(r,t),Hn(t),l&512&&(Nt||s===null||zr(s,s.return)),t.flags&32){h=t.stateNode;try{Wn(h,"")}catch(Y){Et(t,t.return,Y)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Xf(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Wf=!0);break;case 6:if(jn(r,t),Hn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(Y){Et(t,t.return,Y)}}break;case 3:if(Ic=null,h=vr,vr=Rc(r.containerInfo),jn(r,t),vr=h,Hn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Vl(r.containerInfo)}catch(Y){Et(t,t.return,Y)}Wf&&(Wf=!1,Uy(t));break;case 4:l=vr,vr=Rc(t.stateNode.containerInfo),jn(r,t),Hn(t),vr=l;break;case 12:jn(r,t),Hn(t);break;case 13:jn(r,t),Hn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(sd=En()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ed(t,l)));break;case 22:h=t.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,q=_i,W=Nt;if(_i=q||h,Nt=W||I,jn(r,t),Nt=W,_i=q,Hn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(s===null||I||_i||Nt||is(t)),s=null,r=t;;){if(r.tag===5||r.tag===26){if(s===null){I=s=r;try{if(d=I.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=I.stateNode;var ne=I.memoizedProps.style,K=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;T.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Y){Et(I,I.return,Y)}}}else if(r.tag===6){if(s===null){I=r;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(Y){Et(I,I.return,Y)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,ed(t,s))));break;case 19:jn(r,t),Hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ed(t,l)));break;case 30:break;case 21:break;default:jn(r,t),Hn(t)}}function Hn(t){var r=t.flags;if(r&2){try{for(var s,l=t.return;l!==null;){if(Dy(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,d=Zf(t);dc(t,d,h);break;case 5:var _=s.stateNode;s.flags&32&&(Wn(_,""),s.flags&=-33);var T=Zf(t);dc(t,T,_);break;case 3:case 4:var I=s.stateNode.containerInfo,q=Zf(t);Jf(t,q,I);break;default:throw Error(a(161))}}catch(W){Et(t,t.return,W)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Uy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Uy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Xi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Ny(t,r.alternate,r),r=r.sibling}function is(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:$i(4,r,r.return),is(r);break;case 1:zr(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&Cy(r,r.return,s),is(r);break;case 27:Cl(r.stateNode);case 26:case 5:zr(r,r.return),is(r);break;case 22:r.memoizedState===null&&is(r);break;case 30:is(r);break;default:is(r)}t=t.sibling}}function Zi(t,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:Zi(h,d,s),yl(4,d);break;case 1:if(Zi(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){Et(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)fg(I[h],T)}catch(q){Et(l,l.return,q)}}s&&_&64&&Ry(d),vl(d,d.return);break;case 27:Oy(d);case 26:case 5:Zi(h,d,s),s&&l===null&&_&4&&Iy(d),vl(d,d.return);break;case 12:Zi(h,d,s);break;case 13:Zi(h,d,s),s&&_&4&&Vy(h,d);break;case 22:d.memoizedState===null&&Zi(h,d,s),vl(d,d.return);break;case 30:break;default:Zi(h,d,s)}r=r.sibling}}function td(t,r){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&rl(s))}function nd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&rl(t))}function Br(t,r,s,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)ky(t,r,s,l),r=r.sibling}function ky(t,r,s,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Br(t,r,s,l),h&2048&&yl(9,r);break;case 1:Br(t,r,s,l);break;case 3:Br(t,r,s,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&rl(t)));break;case 12:if(h&2048){Br(t,r,s,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Et(r,r.return,I)}}else Br(t,r,s,l);break;case 13:Br(t,r,s,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?Br(t,r,s,l):_l(t,r):d._visibility&2?Br(t,r,s,l):(d._visibility|=2,Qs(t,r,s,l,(r.subtreeFlags&10256)!==0)),h&2048&&td(_,r);break;case 24:Br(t,r,s,l),h&2048&&nd(r.alternate,r);break;default:Br(t,r,s,l)}}function Qs(t,r,s,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,_=r,T=s,I=l,q=_.flags;switch(_.tag){case 0:case 11:case 15:Qs(d,_,T,I,h),yl(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&2?Qs(d,_,T,I,h):_l(d,_):(W._visibility|=2,Qs(d,_,T,I,h)),h&&q&2048&&td(_.alternate,_);break;case 24:Qs(d,_,T,I,h),h&&q&2048&&nd(_.alternate,_);break;default:Qs(d,_,T,I,h)}r=r.sibling}}function _l(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=t,l=r,h=l.flags;switch(l.tag){case 22:_l(s,l),h&2048&&td(l.alternate,l);break;case 24:_l(s,l),h&2048&&nd(l.alternate,l);break;default:_l(s,l)}r=r.sibling}}var El=8192;function $s(t){if(t.subtreeFlags&El)for(t=t.child;t!==null;)zy(t),t=t.sibling}function zy(t){switch(t.tag){case 26:$s(t),t.flags&El&&t.memoizedState!==null&&Hw(vr,t.memoizedState,t.memoizedProps);break;case 5:$s(t);break;case 3:case 4:var r=vr;vr=Rc(t.stateNode.containerInfo),$s(t),vr=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=El,El=16777216,$s(t),El=r):$s(t));break;default:$s(t)}}function By(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Tl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];en=l,Hy(l,t)}By(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jy(t),t=t.sibling}function jy(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&$i(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,mc(t)):Tl(t);break;default:Tl(t)}}function mc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];en=l,Hy(l,t)}By(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:$i(8,r,r.return),mc(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,mc(r));break;default:mc(r)}t=t.sibling}}function Hy(t,r){for(;en!==null;){var s=en;switch(s.tag){case 0:case 11:case 15:$i(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,en=l;else e:for(s=t;en!==null;){l=en;var h=l.sibling,d=l.return;if(xy(l),l===s){en=null;break e}if(h!==null){h.return=d,en=h;break e}en=d}}}var iw={getCacheForType:function(t){var r=dn(Kt),s=r.data.get(t);return s===void 0&&(s=t(),r.data.set(t,s)),s}},aw=typeof WeakMap=="function"?WeakMap:Map,ft=0,St=null,Qe=null,tt=0,dt=0,qn=null,Ji=!1,Xs=!1,rd=!1,Ti=0,Ot=0,Wi=0,as=0,id=0,lr=0,Zs=0,Sl=null,Nn=null,ad=!1,sd=0,pc=1/0,gc=null,ea=null,on=0,ta=null,Js=null,Ws=0,od=0,ld=null,qy=null,wl=0,ud=null;function Fn(){if((ft&2)!==0&&tt!==0)return tt&-tt;if(G.T!==null){var t=Bs;return t!==0?t:gd()}return D()}function Fy(){lr===0&&(lr=(tt&536870912)===0||ct?ti():536870912);var t=or.current;return t!==null&&(t.flags|=32),lr}function Gn(t,r,s){(t===St&&(dt===2||dt===9)||t.cancelPendingCommit!==null)&&(eo(t,0),na(t,tt,lr,!1)),mr(t,s),((ft&2)===0||t!==St)&&(t===St&&((ft&2)===0&&(as|=s),Ot===4&&na(t,tt,lr,!1)),jr(t))}function Gy(t,r,s){if((ft&6)!==0)throw Error(a(327));var l=!s&&(r&124)===0&&(r&t.expiredLanes)===0||Xn(t,r),h=l?lw(t,r):fd(t,r,!0),d=l;do{if(h===0){Xs&&!l&&na(t,r,0,!1);break}else{if(s=t.current.alternate,d&&!sw(s)){h=fd(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var T=t;h=Sl;var I=T.current.memoizedState.isDehydrated;if(I&&(eo(T,_).flags|=256),_=fd(T,_,!1),_!==2){if(rd&&!I){T.errorRecoveryDisabledLanes|=d,as|=d,h=4;break e}d=Nn,Nn=h,d!==null&&(Nn===null?Nn=d:Nn.push.apply(Nn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){eo(t,0),na(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:na(l,r,lr,!Ji);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(h=sd+300-En(),10<h)){if(na(l,r,lr,!Ji),ei(l,0,!0)!==0)break e;l.timeoutHandle=Ev(Ky.bind(null,l,s,Nn,gc,ad,r,lr,as,Zs,Ji,d,2,-0,0),h);break e}Ky(l,s,Nn,gc,ad,r,lr,as,Zs,Ji,d,0,-0,0)}}break}while(!0);jr(t)}function Ky(t,r,s,l,h,d,_,T,I,q,W,ne,K,Y){if(t.timeoutHandle=-1,ne=r.subtreeFlags,(ne&8192||(ne&16785408)===16785408)&&(Ol={stylesheets:null,count:0,unsuspend:jw},zy(r),ne=qw(),ne!==null)){t.cancelPendingCommit=ne(Wy.bind(null,t,r,d,s,l,h,_,T,I,W,1,K,Y)),na(t,d,_,!q);return}Wy(t,r,d,s,l,h,_,T,I)}function sw(t){for(var r=t;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!zn(d(),h))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function na(t,r,s,l){r&=~id,r&=~as,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-Lt(h),_=1<<d;l[d]=-1,h&=~_}s!==0&&Tn(t,s,r)}function yc(){return(ft&6)===0?(bl(0),!1):!0}function cd(){if(Qe!==null){if(dt===0)var t=Qe.return;else t=Qe,di=Wa=null,Cf(t),Ks=null,ml=0,t=Qe;for(;t!==null;)Ay(t.alternate,t),t=t.return;Qe=null}}function eo(t,r){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,bw(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),cd(),St=t,Qe=s=ci(t.current,null),tt=r,dt=0,qn=null,Ji=!1,Xs=Xn(t,r),rd=!1,Zs=lr=id=as=Wi=Ot=0,Nn=Sl=null,ad=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Lt(l),d=1<<h;r|=t[h],l&=~d}return Ti=r,zu(),s}function Yy(t,r){Ke=null,G.H=ic,r===al||r===Qu?(r=cg(),dt=3):r===og?(r=cg(),dt=4):dt=r===hy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,qn=r,Qe===null&&(Ot=1,uc(t,rr(r,t.current)))}function Qy(){var t=G.H;return G.H=ic,t===null?ic:t}function $y(){var t=G.A;return G.A=iw,t}function hd(){Ot=4,Ji||(tt&4194048)!==tt&&or.current!==null||(Xs=!0),(Wi&134217727)===0&&(as&134217727)===0||St===null||na(St,tt,lr,!1)}function fd(t,r,s){var l=ft;ft|=2;var h=Qy(),d=$y();(St!==t||tt!==r)&&(gc=null,eo(t,r)),r=!1;var _=Ot;e:do try{if(dt!==0&&Qe!==null){var T=Qe,I=qn;switch(dt){case 8:cd(),_=6;break e;case 3:case 2:case 9:case 6:or.current===null&&(r=!0);var q=dt;if(dt=0,qn=null,to(t,T,I,q),s&&Xs){_=0;break e}break;default:q=dt,dt=0,qn=null,to(t,T,I,q)}}ow(),_=Ot;break}catch(W){Yy(t,W)}while(!0);return r&&t.shellSuspendCounter++,di=Wa=null,ft=l,G.H=h,G.A=d,Qe===null&&(St=null,tt=0,zu()),_}function ow(){for(;Qe!==null;)Xy(Qe)}function lw(t,r){var s=ft;ft|=2;var l=Qy(),h=$y();St!==t||tt!==r?(gc=null,pc=En()+500,eo(t,r)):Xs=Xn(t,r);e:do try{if(dt!==0&&Qe!==null){r=Qe;var d=qn;t:switch(dt){case 1:dt=0,qn=null,to(t,r,d,1);break;case 2:case 9:if(lg(d)){dt=0,qn=null,Zy(r);break}r=function(){dt!==2&&dt!==9||St!==t||(dt=7),jr(t)},d.then(r,r);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:lg(d)?(dt=0,qn=null,Zy(r)):(dt=0,qn=null,to(t,r,d,7));break;case 5:var _=null;switch(Qe.tag){case 26:_=Qe.memoizedState;case 5:case 27:var T=Qe;if(!_||Nv(_)){dt=0,qn=null;var I=T.sibling;if(I!==null)Qe=I;else{var q=T.return;q!==null?(Qe=q,vc(q)):Qe=null}break t}}dt=0,qn=null,to(t,r,d,5);break;case 6:dt=0,qn=null,to(t,r,d,6);break;case 8:cd(),Ot=6;break e;default:throw Error(a(462))}}uw();break}catch(W){Yy(t,W)}while(!0);return di=Wa=null,G.H=l,G.A=h,ft=s,Qe!==null?0:(St=null,tt=0,zu(),Ot)}function uw(){for(;Qe!==null&&!Na();)Xy(Qe)}function Xy(t){var r=wy(t.alternate,t,Ti);t.memoizedProps=t.pendingProps,r===null?vc(t):Qe=r}function Zy(t){var r=t,s=r.alternate;switch(r.tag){case 15:case 0:r=yy(s,r,r.pendingProps,r.type,void 0,tt);break;case 11:r=yy(s,r,r.pendingProps,r.type.render,r.ref,tt);break;case 5:Cf(r);default:Ay(s,r),r=Qe=Jp(r,Ti),r=wy(s,r,Ti)}t.memoizedProps=t.pendingProps,r===null?vc(t):Qe=r}function to(t,r,s,l){di=Wa=null,Cf(r),Ks=null,ml=0;var h=r.return;try{if(JS(t,h,r,s,tt)){Ot=1,uc(t,rr(s,t.current)),Qe=null;return}}catch(d){if(h!==null)throw Qe=h,d;Ot=1,uc(t,rr(s,t.current)),Qe=null;return}r.flags&32768?(ct||l===1?t=!0:Xs||(tt&536870912)!==0?t=!1:(Ji=t=!0,(l===2||l===9||l===3||l===6)&&(l=or.current,l!==null&&l.tag===13&&(l.flags|=16384))),Jy(r,t)):vc(r)}function vc(t){var r=t;do{if((r.flags&32768)!==0){Jy(r,Ji);return}t=r.return;var s=ew(r.alternate,r,Ti);if(s!==null){Qe=s;return}if(r=r.sibling,r!==null){Qe=r;return}Qe=r=t}while(r!==null);Ot===0&&(Ot=5)}function Jy(t,r){do{var s=tw(t.alternate,t);if(s!==null){s.flags&=32767,Qe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(t=t.sibling,t!==null)){Qe=t;return}Qe=t=s}while(t!==null);Ot=6,Qe=null}function Wy(t,r,s,l,h,d,_,T,I){t.cancelPendingCommit=null;do _c();while(on!==0);if((ft&6)!==0)throw Error(a(327));if(r!==null){if(r===t.current)throw Error(a(177));if(d=r.lanes|r.childLanes,d|=tf,Vi(t,s,d,_,T,I),t===St&&(Qe=St=null,tt=0),Js=r,ta=t,Ws=s,od=d,ld=h,qy=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,dw(Wr,function(){return iv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=le.p,le.p=2,_=ft,ft|=4;try{nw(t,r,s)}finally{ft=_,le.p=h,G.T=l}}on=1,ev(),tv(),nv()}}function ev(){if(on===1){on=0;var t=ta,r=Js,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var l=le.p;le.p=2;var h=ft;ft|=4;try{Ly(r,t);var d=bd,_=Hp(t.containerInfo),T=d.focusedElem,I=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&jp(T.ownerDocument.documentElement,T)){if(I!==null&&Xh(T)){var q=I.start,W=I.end;if(W===void 0&&(W=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(W,T.value.length);else{var ne=T.ownerDocument||document,K=ne&&ne.defaultView||window;if(K.getSelection){var Y=K.getSelection(),xe=T.textContent.length,De=Math.min(I.start,xe),vt=I.end===void 0?De:Math.min(I.end,xe);!Y.extend&&De>vt&&(_=vt,vt=De,De=_);var U=Bp(T,De),V=Bp(T,vt);if(U&&V&&(Y.rangeCount!==1||Y.anchorNode!==U.node||Y.anchorOffset!==U.offset||Y.focusNode!==V.node||Y.focusOffset!==V.offset)){var B=ne.createRange();B.setStart(U.node,U.offset),Y.removeAllRanges(),De>vt?(Y.addRange(B),Y.extend(V.node,V.offset)):(B.setEnd(V.node,V.offset),Y.addRange(B))}}}}for(ne=[],Y=T;Y=Y.parentNode;)Y.nodeType===1&&ne.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ne.length;T++){var te=ne[T];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Mc=!!wd,bd=wd=null}finally{ft=h,le.p=l,G.T=s}}t.current=r,on=2}}function tv(){if(on===2){on=0;var t=ta,r=Js,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var l=le.p;le.p=2;var h=ft;ft|=4;try{Ny(t,r.alternate,r)}finally{ft=h,le.p=l,G.T=s}}on=3}}function nv(){if(on===4||on===3){on=0,Ts();var t=ta,r=Js,s=Ws,l=qy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?on=5:(on=0,Js=ta=null,rv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ea=null),Li(s),r=r.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(ot,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=G.T,h=le.p,le.p=2,G.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{G.T=r,le.p=h}}(Ws&3)!==0&&_c(),jr(t),h=t.pendingLanes,(s&4194090)!==0&&(h&42)!==0?t===ud?wl++:(wl=0,ud=t):wl=0,bl(0)}}function rv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,rl(r)))}function _c(t){return ev(),tv(),nv(),iv()}function iv(){if(on!==5)return!1;var t=ta,r=od;od=0;var s=Li(Ws),l=G.T,h=le.p;try{le.p=32>s?32:s,G.T=null,s=ld,ld=null;var d=ta,_=Ws;if(on=0,Js=ta=null,Ws=0,(ft&6)!==0)throw Error(a(331));var T=ft;if(ft|=4,jy(d.current),ky(d,d.current,_,s),ft=T,bl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(ot,d)}catch{}return!0}finally{le.p=h,G.T=l,rv(t,r)}}function av(t,r,s){r=rr(s,r),r=jf(t.stateNode,r,2),t=Gi(t,r,2),t!==null&&(mr(t,2),jr(t))}function Et(t,r,s){if(t.tag===3)av(t,t,s);else for(;r!==null;){if(r.tag===3){av(r,t,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ea===null||!ea.has(l))){t=rr(s,t),s=uy(2),l=Gi(r,s,2),l!==null&&(cy(s,l,r,t),mr(l,2),jr(l));break}}r=r.return}}function dd(t,r,s){var l=t.pingCache;if(l===null){l=t.pingCache=new aw;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(s)||(rd=!0,h.add(s),t=cw.bind(null,t,r,s),r.then(t,t))}function cw(t,r,s){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,St===t&&(tt&s)===s&&(Ot===4||Ot===3&&(tt&62914560)===tt&&300>En()-sd?(ft&2)===0&&eo(t,0):id|=s,Zs===tt&&(Zs=0)),jr(t)}function sv(t,r){r===0&&(r=Pa()),t=Ls(t,r),t!==null&&(mr(t,r),jr(t))}function hw(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),sv(t,s)}function fw(t,r){var s=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(r),sv(t,s)}function dw(t,r){return Jr(t,r)}var Ec=null,no=null,md=!1,Tc=!1,pd=!1,ss=0;function jr(t){t!==no&&t.next===null&&(no===null?Ec=no=t:no=no.next=t),Tc=!0,md||(md=!0,pw())}function bl(t,r){if(!pd&&Tc){pd=!0;do for(var s=!1,l=Ec;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Lt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,cv(l,d))}else d=tt,d=ei(l,l===St?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Xn(l,d)||(s=!0,cv(l,d));l=l.next}while(s);pd=!1}}function mw(){ov()}function ov(){Tc=md=!1;var t=0;ss!==0&&(ww()&&(t=ss),ss=0);for(var r=En(),s=null,l=Ec;l!==null;){var h=l.next,d=lv(l,r);d===0?(l.next=null,s===null?Ec=h:s.next=h,h===null&&(no=s)):(s=l,(t!==0||(d&3)!==0)&&(Tc=!0)),l=h}bl(t)}function lv(t,r){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Lt(d),T=1<<_,I=h[_];I===-1?((T&s)===0||(T&l)!==0)&&(h[_]=Pi(T,r)):I<=r&&(t.expiredLanes|=T),d&=~T}if(r=St,s=tt,s=ei(t,t===r?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===r&&(dt===2||dt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&_n(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Xn(t,s)){if(r=s&-s,r===t.callbackPriority)return r;switch(l!==null&&_n(l),Li(s)){case 2:case 8:s=Mi;break;case 32:s=Wr;break;case 268435456:s=Qn;break;default:s=Wr}return l=uv.bind(null,t),s=Jr(s,l),t.callbackPriority=r,t.callbackNode=s,r}return l!==null&&l!==null&&_n(l),t.callbackPriority=2,t.callbackNode=null,2}function uv(t,r){if(on!==0&&on!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(_c()&&t.callbackNode!==s)return null;var l=tt;return l=ei(t,t===St?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Gy(t,l,r),lv(t,En()),t.callbackNode!=null&&t.callbackNode===s?uv.bind(null,t):null)}function cv(t,r){if(_c())return null;Gy(t,r,!0)}function pw(){Aw(function(){(ft&6)!==0?Jr(xa,mw):ov()})}function gd(){return ss===0&&(ss=ti()),ss}function hv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:bs(""+t)}function fv(t,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,t.id&&s.setAttribute("form",t.id),r.parentNode.insertBefore(s,r),t=new FormData(t),s.parentNode.removeChild(s),t}function gw(t,r,s,l,h){if(r==="submit"&&s&&s.stateNode===h){var d=hv((h[oe]||null).action),_=l.submitter;_&&(r=(r=_[oe]||null)?hv(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var T=new As("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ss!==0){var I=_?fv(h,_):new FormData(h);Lf(s,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=_?fv(h,_):new FormData(h),Lf(s,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var yd=0;yd<ef.length;yd++){var vd=ef[yd],yw=vd.toLowerCase(),vw=vd[0].toUpperCase()+vd.slice(1);yr(yw,"on"+vw)}yr(Gp,"onAnimationEnd"),yr(Kp,"onAnimationIteration"),yr(Yp,"onAnimationStart"),yr("dblclick","onDoubleClick"),yr("focusin","onFocus"),yr("focusout","onBlur"),yr(VS,"onTransitionRun"),yr(LS,"onTransitionStart"),yr(US,"onTransitionCancel"),yr(Qp,"onTransitionEnd"),Xt("onMouseEnter",["mouseout","mouseover"]),Xt("onMouseLeave",["mouseout","mouseover"]),Xt("onPointerEnter",["pointerout","pointerover"]),Xt("onPointerLeave",["pointerout","pointerover"]),rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_w=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function dv(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var T=l[_],I=T.instance,q=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch(W){lc(W)}h.currentTarget=null,d=I}else for(_=0;_<l.length;_++){if(T=l[_],I=T.instance,q=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch(W){lc(W)}h.currentTarget=null,d=I}}}}function $e(t,r){var s=r[be];s===void 0&&(s=r[be]=new Set);var l=t+"__bubble";s.has(l)||(mv(r,t,2,!1),s.add(l))}function _d(t,r,s){var l=0;r&&(l|=4),mv(s,t,l,r)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function Ed(t){if(!t[Sc]){t[Sc]=!0,ut.forEach(function(s){s!=="selectionchange"&&(_w.has(s)||_d(s,!1,t),_d(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Sc]||(r[Sc]=!0,_d("selectionchange",!1,r))}}function mv(t,r,s,l){switch(kv(r)){case 2:var h=Kw;break;case 8:h=Yw;break;default:h=Pd}s=h.bind(null,r,s,t),h=void 0,!tr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,s,{capture:!0,passive:h}):t.addEventListener(r,s,!0):h!==void 0?t.addEventListener(r,s,{passive:h}):t.addEventListener(r,s,!1)}function Td(t,r,s,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=je(T),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=d=_;continue e}T=T.parentNode}}l=l.return}bu(function(){var q=d,W=er(s),ne=[];e:{var K=$p.get(t);if(K!==void 0){var Y=As,xe=t;switch(t){case"keypress":if(Nr(s)===0)break e;case"keydown":case"keyup":Y=Ms;break;case"focusin":xe="focus",Y=Is;break;case"focusout":xe="blur",Y=Is;break;case"beforeblur":case"afterblur":Y=Is;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Kh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Nu;break;case Gp:case Kp:case Yp:Y=Ds;break;case Qp:Y=Pu;break;case"scroll":case"scrollend":Y=Au;break;case"wheel":Y=Ns;break;case"copy":case"cut":case"paste":Y=Os;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=$o;break;case"toggle":case"beforetoggle":Y=Lu}var De=(r&4)!==0,vt=!De&&(t==="scroll"||t==="scrollend"),U=De?K!==null?K+"Capture":null:K;De=[];for(var V=q,B;V!==null;){var te=V;if(B=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||B===null||U===null||(te=za(V,U),te!=null&&De.push(Rl(V,te,B))),vt)break;V=V.return}0<De.length&&(K=new Y(K,xe,null,s,W),ne.push({event:K,listeners:De}))}}if((r&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",K&&s!==ii&&(xe=s.relatedTarget||s.fromElement)&&(je(xe)||xe[pe]))break e;if((Y||K)&&(K=W.window===W?W:(K=W.ownerDocument)?K.defaultView||K.parentWindow:window,Y?(xe=s.relatedTarget||s.toElement,Y=q,xe=xe?je(xe):null,xe!==null&&(vt=u(xe),De=xe.tag,xe!==vt||De!==5&&De!==27&&De!==6)&&(xe=null)):(Y=null,xe=q),Y!==xe)){if(De=nr,te="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(De=$o,te="onPointerLeave",U="onPointerEnter",V="pointer"),vt=Y==null?K:_t(Y),B=xe==null?K:_t(xe),K=new De(te,V+"leave",Y,s,W),K.target=vt,K.relatedTarget=B,te=null,je(W)===q&&(De=new De(U,V+"enter",xe,s,W),De.target=B,De.relatedTarget=vt,te=De),vt=te,Y&&xe)t:{for(De=Y,U=xe,V=0,B=De;B;B=ro(B))V++;for(B=0,te=U;te;te=ro(te))B++;for(;0<V-B;)De=ro(De),V--;for(;0<B-V;)U=ro(U),B--;for(;V--;){if(De===U||U!==null&&De===U.alternate)break t;De=ro(De),U=ro(U)}De=null}else De=null;Y!==null&&pv(ne,K,Y,De,!1),xe!==null&&vt!==null&&pv(ne,vt,xe,De,!0)}}e:{if(K=q?_t(q):window,Y=K.nodeName&&K.nodeName.toLowerCase(),Y==="select"||Y==="input"&&K.type==="file")var ye=Pp;else if(Gt(K))if(Vp)ye=NS;else{ye=OS;var Ye=DS}else Y=K.nodeName,!Y||Y.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?q&&Ho(q.elementType)&&(ye=Pp):ye=MS;if(ye&&(ye=ye(t,q))){ui(ne,ye,s,W);break e}Ye&&Ye(t,K,q),t==="focusout"&&q&&K.type==="number"&&q.memoizedProps.value!=null&&Bi(K,"number",K.value)}switch(Ye=q?_t(q):window,t){case"focusin":(Gt(Ye)||Ye.contentEditable==="true")&&(xs=Ye,Zh=q,Jo=null);break;case"focusout":Jo=Zh=xs=null;break;case"mousedown":Jh=!0;break;case"contextmenu":case"mouseup":case"dragend":Jh=!1,qp(ne,s,W);break;case"selectionchange":if(PS)break;case"keydown":case"keyup":qp(ne,s,W)}var Ae;if(Vr)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else We?$(t,s)&&(Oe="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Oe="onCompositionStart");Oe&&(v&&s.locale!=="ko"&&(We||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&We&&(Ae=Fo()):(Mr=W,ji="value"in Mr?Mr.value:Mr.textContent,We=!0)),Ye=wc(q,Oe),0<Ye.length&&(Oe=new Yo(Oe,t,null,s,W),ne.push({event:Oe,listeners:Ye}),Ae?Oe.data=Ae:(Ae=ce(s),Ae!==null&&(Oe.data=Ae)))),(Ae=y?Ft(t,s):et(t,s))&&(Oe=wc(q,"onBeforeInput"),0<Oe.length&&(Ye=new Yo("onBeforeInput","beforeinput",null,s,W),ne.push({event:Ye,listeners:Oe}),Ye.data=Ae)),gw(ne,t,q,s,W)}dv(ne,r)})}function Rl(t,r,s){return{instance:t,listener:r,currentTarget:s}}function wc(t,r){for(var s=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=za(t,s),h!=null&&l.unshift(Rl(t,h,d)),h=za(t,r),h!=null&&l.push(Rl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function ro(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function pv(t,r,s,l,h){for(var d=r._reactName,_=[];s!==null&&s!==l;){var T=s,I=T.alternate,q=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||q===null||(I=q,h?(q=za(s,d),q!=null&&_.unshift(Rl(s,q,I))):h||(q=za(s,d),q!=null&&_.push(Rl(s,q,I)))),s=s.return}_.length!==0&&t.push({event:r,listeners:_})}var Ew=/\r\n?/g,Tw=/\u0000|\uFFFD/g;function gv(t){return(typeof t=="string"?t:""+t).replace(Ew,`
`).replace(Tw,"")}function yv(t,r){return r=gv(r),gv(t)===r}function bc(){}function yt(t,r,s,l,h,d){switch(s){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Wn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Wn(t,""+l);break;case"className":wn(t,"class",l);break;case"tabIndex":wn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(t,s,l);break;case"style":jo(t,l,d);break;case"data":if(r!=="object"){wn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=bs(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(r!=="input"&&yt(t,r,"name",h.name,h,null),yt(t,r,"formEncType",h.formEncType,h,null),yt(t,r,"formMethod",h.formMethod,h,null),yt(t,r,"formTarget",h.formTarget,h,null)):(yt(t,r,"encType",h.encType,h,null),yt(t,r,"method",h.method,h,null),yt(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=bs(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=bc);break;case"onScroll":l!=null&&$e("scroll",t);break;case"onScrollEnd":l!=null&&$e("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=bs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":$e("beforetoggle",t),$e("toggle",t),Un(t,"popover",l);break;case"xlinkActuate":Ne(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ne(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ne(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ne(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ne(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ne(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Un(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Fh.get(s)||s,Un(t,s,l))}}function Sd(t,r,s,l,h,d){switch(s){case"style":jo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Wn(t,l):(typeof l=="number"||typeof l=="bigint")&&Wn(t,""+l);break;case"onScroll":l!=null&&$e("scroll",t);break;case"onScrollEnd":l!=null&&$e("scrollend",t);break;case"onClick":l!=null&&(t.onclick=bc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dn.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),r=s.slice(2,h?s.length-7:void 0),d=t[oe]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(r,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Un(t,s,l)}}}function ln(t,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",t),$e("load",t);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var _=s[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:yt(t,r,d,_,s,null)}}h&&yt(t,r,"srcSet",s.srcSet,s,null),l&&yt(t,r,"src",s.src,s,null);return;case"input":$e("invalid",t);var T=d=_=h=null,I=null,q=null;for(l in s)if(s.hasOwnProperty(l)){var W=s[l];if(W!=null)switch(l){case"name":h=W;break;case"type":_=W;break;case"checked":I=W;break;case"defaultChecked":q=W;break;case"value":d=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(137,r));break;default:yt(t,r,l,W,s,null)}}La(t,d,T,I,q,_,h,!1),ws(t);return;case"select":$e("invalid",t),l=_=d=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:yt(t,r,h,T,s,null)}r=d,s=_,t.multiple=!!l,r!=null?ri(t,!!l,r,!1):s!=null&&ri(t,!!l,s,!0);return;case"textarea":$e("invalid",t),d=h=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(T=s[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:yt(t,r,_,T,s,null)}Ua(t,l,h,d),ws(t);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(l=s[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:yt(t,r,I,l,s,null)}return;case"dialog":$e("beforetoggle",t),$e("toggle",t),$e("cancel",t),$e("close",t);break;case"iframe":case"object":$e("load",t);break;case"video":case"audio":for(l=0;l<Al.length;l++)$e(Al[l],t);break;case"image":$e("error",t),$e("load",t);break;case"details":$e("toggle",t);break;case"embed":case"source":case"link":$e("error",t),$e("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in s)if(s.hasOwnProperty(q)&&(l=s[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:yt(t,r,q,l,s,null)}return;default:if(Ho(r)){for(W in s)s.hasOwnProperty(W)&&(l=s[W],l!==void 0&&Sd(t,r,W,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&yt(t,r,T,l,s,null))}function Sw(t,r,s,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,I=null,q=null,W=null;for(Y in s){var ne=s[Y];if(s.hasOwnProperty(Y)&&ne!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":I=ne;default:l.hasOwnProperty(Y)||yt(t,r,Y,null,l,ne)}}for(var K in l){var Y=l[K];if(ne=s[K],l.hasOwnProperty(K)&&(Y!=null||ne!=null))switch(K){case"type":d=Y;break;case"name":h=Y;break;case"checked":q=Y;break;case"defaultChecked":W=Y;break;case"value":_=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,r));break;default:Y!==ne&&yt(t,r,K,Y,l,ne)}}kn(t,_,T,I,q,W,d,h);return;case"select":Y=_=T=K=null;for(d in s)if(I=s[d],s.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":Y=I;default:l.hasOwnProperty(d)||yt(t,r,d,null,l,I)}for(h in l)if(d=l[h],I=s[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":K=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==I&&yt(t,r,h,d,l,I)}r=T,s=_,l=Y,K!=null?ri(t,!!s,K,!1):!!l!=!!s&&(r!=null?ri(t,!!s,r,!0):ri(t,!!s,s?[]:"",!1));return;case"textarea":Y=K=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:yt(t,r,T,null,l,h)}for(_ in l)if(h=l[_],d=s[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":K=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&yt(t,r,_,h,l,d)}pt(t,K,Y);return;case"option":for(var xe in s)if(K=s[xe],s.hasOwnProperty(xe)&&K!=null&&!l.hasOwnProperty(xe))switch(xe){case"selected":t.selected=!1;break;default:yt(t,r,xe,null,l,K)}for(I in l)if(K=l[I],Y=s[I],l.hasOwnProperty(I)&&K!==Y&&(K!=null||Y!=null))switch(I){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:yt(t,r,I,K,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in s)K=s[De],s.hasOwnProperty(De)&&K!=null&&!l.hasOwnProperty(De)&&yt(t,r,De,null,l,K);for(q in l)if(K=l[q],Y=s[q],l.hasOwnProperty(q)&&K!==Y&&(K!=null||Y!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,r));break;default:yt(t,r,q,K,l,Y)}return;default:if(Ho(r)){for(var vt in s)K=s[vt],s.hasOwnProperty(vt)&&K!==void 0&&!l.hasOwnProperty(vt)&&Sd(t,r,vt,void 0,l,K);for(W in l)K=l[W],Y=s[W],!l.hasOwnProperty(W)||K===Y||K===void 0&&Y===void 0||Sd(t,r,W,K,l,Y);return}}for(var U in s)K=s[U],s.hasOwnProperty(U)&&K!=null&&!l.hasOwnProperty(U)&&yt(t,r,U,null,l,K);for(ne in l)K=l[ne],Y=s[ne],!l.hasOwnProperty(ne)||K===Y||K==null&&Y==null||yt(t,r,ne,K,l,Y)}var wd=null,bd=null;function Ac(t){return t.nodeType===9?t:t.ownerDocument}function vv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _v(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Ad(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Rd=null;function ww(){var t=window.event;return t&&t.type==="popstate"?t===Rd?!1:(Rd=t,!0):(Rd=null,!1)}var Ev=typeof setTimeout=="function"?setTimeout:void 0,bw=typeof clearTimeout=="function"?clearTimeout:void 0,Tv=typeof Promise=="function"?Promise:void 0,Aw=typeof queueMicrotask=="function"?queueMicrotask:typeof Tv<"u"?function(t){return Tv.resolve(null).then(t).catch(Rw)}:Ev;function Rw(t){setTimeout(function(){throw t})}function ra(t){return t==="head"}function Sv(t,r){var s=r,l=0,h=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<l&&8>l){s=l;var _=t.ownerDocument;if(s&1&&Cl(_.documentElement),s&2&&Cl(_.body),s&4)for(s=_.head,Cl(s),_=s.firstChild;_;){var T=_.nextSibling,I=_.nodeName;_[Ee]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&_.rel.toLowerCase()==="stylesheet"||s.removeChild(_),_=T}}if(h===0){t.removeChild(d),Vl(r);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=d}while(s);Vl(r)}function Cd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Cd(s),Te(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Cw(t,r,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ee])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=_r(t.nextSibling),t===null)break}return null}function Iw(t,r,s){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=_r(t.nextSibling),t===null))return null;return t}function Id(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Dw(t,r){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")r();else{var l=function(){r(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function _r(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Dd=null;function wv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return t;r--}else s==="/$"&&r++}t=t.previousSibling}return null}function bv(t,r,s){switch(r=Ac(s),t){case"html":if(t=r.documentElement,!t)throw Error(a(452));return t;case"head":if(t=r.head,!t)throw Error(a(453));return t;case"body":if(t=r.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Cl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Te(t)}var ur=new Map,Av=new Set;function Rc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Si=le.d;le.d={f:Ow,r:Mw,D:Nw,C:xw,L:Pw,m:Vw,X:Uw,S:Lw,M:kw};function Ow(){var t=Si.f(),r=yc();return t||r}function Mw(t){var r=it(t);r!==null&&r.tag===5&&r.type==="form"?Gg(r):Si.r(t)}var io=typeof document>"u"?null:document;function Rv(t,r,s){var l=io;if(l&&typeof r=="string"&&r){var h=Ut(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Av.has(h)||(Av.add(h),t={rel:t,crossOrigin:s,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),ln(r,"link",t),Ue(r),l.head.appendChild(r)))}}function Nw(t){Si.D(t),Rv("dns-prefetch",t,null)}function xw(t,r){Si.C(t,r),Rv("preconnect",t,r)}function Pw(t,r,s){Si.L(t,r,s);var l=io;if(l&&t&&r){var h='link[rel="preload"][as="'+Ut(r)+'"]';r==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Ut(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Ut(s.imageSizes)+'"]')):h+='[href="'+Ut(t)+'"]';var d=h;switch(r){case"style":d=ao(t);break;case"script":d=so(t)}ur.has(d)||(t=E({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:t,as:r},s),ur.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Il(d))||r==="script"&&l.querySelector(Dl(d))||(r=l.createElement("link"),ln(r,"link",t),Ue(r),l.head.appendChild(r)))}}function Vw(t,r){Si.m(t,r);var s=io;if(s&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Ut(l)+'"][href="'+Ut(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=so(t)}if(!ur.has(d)&&(t=E({rel:"modulepreload",href:t},r),ur.set(d,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Dl(d)))return}l=s.createElement("link"),ln(l,"link",t),Ue(l),s.head.appendChild(l)}}}function Lw(t,r,s){Si.S(t,r,s);var l=io;if(l&&t){var h=lt(l).hoistableStyles,d=ao(t);r=r||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Il(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},s),(s=ur.get(d))&&Od(t,s);var I=_=l.createElement("link");Ue(I),ln(I,"link",t),I._p=new Promise(function(q,W){I.onload=q,I.onerror=W}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Cc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function Uw(t,r){Si.X(t,r);var s=io;if(s&&t){var l=lt(s).hoistableScripts,h=so(t),d=l.get(h);d||(d=s.querySelector(Dl(h)),d||(t=E({src:t,async:!0},r),(r=ur.get(h))&&Md(t,r),d=s.createElement("script"),Ue(d),ln(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function kw(t,r){Si.M(t,r);var s=io;if(s&&t){var l=lt(s).hoistableScripts,h=so(t),d=l.get(h);d||(d=s.querySelector(Dl(h)),d||(t=E({src:t,async:!0,type:"module"},r),(r=ur.get(h))&&Md(t,r),d=s.createElement("script"),Ue(d),ln(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Cv(t,r,s,l){var h=(h=Ie.current)?Rc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=ao(s.href),s=lt(h).hoistableStyles,l=s.get(r),l||(l={type:"style",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=ao(s.href);var d=lt(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Il(t)))&&!d._p&&(_.instance=d,_.state.loading=5),ur.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ur.set(t,s),d||zw(h,t,s,_.state))),r&&l===null)throw Error(a(528,""));return _}if(r&&l!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=so(s),s=lt(h).hoistableScripts,l=s.get(r),l||(l={type:"script",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ao(t){return'href="'+Ut(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function Iv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function zw(t,r,s,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),ln(r,"link",s),Ue(r),t.head.appendChild(r))}function so(t){return'[src="'+Ut(t)+'"]'}function Dl(t){return"script[async]"+t}function Dv(t,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Ut(s.href)+'"]');if(l)return r.instance=l,Ue(l),l;var h=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ue(l),ln(l,"style",h),Cc(l,s.precedence,t),r.instance=l;case"stylesheet":h=ao(s.href);var d=t.querySelector(Il(h));if(d)return r.state.loading|=4,r.instance=d,Ue(d),d;l=Iv(s),(h=ur.get(h))&&Od(l,h),d=(t.ownerDocument||t).createElement("link"),Ue(d);var _=d;return _._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),ln(d,"link",l),r.state.loading|=4,Cc(d,s.precedence,t),r.instance=d;case"script":return d=so(s.src),(h=t.querySelector(Dl(d)))?(r.instance=h,Ue(h),h):(l=s,(h=ur.get(d))&&(l=E({},s),Md(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ue(h),ln(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Cc(l,s.precedence,t));return r.instance}function Cc(t,r,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(t,r.firstChild))}function Od(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Md(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Ic=null;function Ov(t,r,s){if(Ic===null){var l=new Map,h=Ic=new Map;h.set(s,l)}else h=Ic,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[Ee]||d[re]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function Mv(t,r,s){t=t.ownerDocument||t,t.head.insertBefore(s,r==="title"?t.querySelector("head > title"):null)}function Bw(t,r,s){if(s===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Nv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ol=null;function jw(){}function Hw(t,r,s){if(Ol===null)throw Error(a(475));var l=Ol;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=ao(s.href),d=t.querySelector(Il(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Dc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,Ue(d);return}d=t.ownerDocument||t,s=Iv(s),(h=ur.get(h))&&Od(s,h),d=d.createElement("link"),Ue(d);var _=d;_._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),ln(d,"link",s),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Dc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function qw(){if(Ol===null)throw Error(a(475));var t=Ol;return t.stylesheets&&t.count===0&&Nd(t,t.stylesheets),0<t.count?function(r){var s=setTimeout(function(){if(t.stylesheets&&Nd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Dc(){if(this.count--,this.count===0){if(this.stylesheets)Nd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Oc=null;function Nd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Oc=new Map,r.forEach(Fw,t),Oc=null,Dc.call(t))}function Fw(t,r){if(!(r.state.loading&4)){var s=Oc.get(t);if(s)var l=s.get(null);else{s=new Map,Oc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}h=r.instance,_=h.getAttribute("data-precedence"),d=s.get(_)||l,d===l&&s.set(null,h),s.set(_,h),this.count++,l=Dc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Ml={$$typeof:ae,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function Gw(t,r,s,l,h,d,_,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zn(0),this.hiddenUpdates=Zn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function xv(t,r,s,l,h,d,_,T,I,q,W,ne){return t=new Gw(t,r,s,_,T,I,q,ne),r=1,d===!0&&(r|=24),d=Bn(3,null,null,r),t.current=d,d.stateNode=t,r=df(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:r},yf(d),t}function Pv(t){return t?(t=Us,t):Us}function Vv(t,r,s,l,h,d){h=Pv(h),l.context===null?l.context=h:l.pendingContext=h,l=Fi(r),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Gi(t,l,r),s!==null&&(Gn(s,t,r),ol(s,t,r))}function Lv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function xd(t,r){Lv(t,r),(t=t.alternate)&&Lv(t,r)}function Uv(t){if(t.tag===13){var r=Ls(t,67108864);r!==null&&Gn(r,t,67108864),xd(t,67108864)}}var Mc=!0;function Kw(t,r,s,l){var h=G.T;G.T=null;var d=le.p;try{le.p=2,Pd(t,r,s,l)}finally{le.p=d,G.T=h}}function Yw(t,r,s,l){var h=G.T;G.T=null;var d=le.p;try{le.p=8,Pd(t,r,s,l)}finally{le.p=d,G.T=h}}function Pd(t,r,s,l){if(Mc){var h=Vd(l);if(h===null)Td(t,r,l,Nc,s),zv(t,l);else if($w(h,t,r,s,l))l.stopPropagation();else if(zv(t,l),r&4&&-1<Qw.indexOf(t)){for(;h!==null;){var d=it(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Vn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var I=1<<31-Lt(_);T.entanglements[1]|=I,_&=~I}jr(d),(ft&6)===0&&(pc=En()+500,bl(0))}}break;case 13:T=Ls(d,2),T!==null&&Gn(T,d,2),yc(),xd(d,2)}if(d=Vd(l),d===null&&Td(t,r,l,Nc,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else Td(t,r,l,null,s)}}function Vd(t){return t=er(t),Ld(t)}var Nc=null;function Ld(t){if(Nc=null,t=je(t),t!==null){var r=u(t);if(r===null)t=null;else{var s=r.tag;if(s===13){if(t=f(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Nc=t,null}function kv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ko()){case xa:return 2;case Mi:return 8;case Wr:case dr:return 32;case Qn:return 268435456;default:return 32}default:return 32}}var Ud=!1,ia=null,aa=null,sa=null,Nl=new Map,xl=new Map,oa=[],Qw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zv(t,r){switch(t){case"focusin":case"focusout":ia=null;break;case"dragenter":case"dragleave":aa=null;break;case"mouseover":case"mouseout":sa=null;break;case"pointerover":case"pointerout":Nl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(r.pointerId)}}function Pl(t,r,s,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=it(r),r!==null&&Uv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function $w(t,r,s,l,h){switch(r){case"focusin":return ia=Pl(ia,t,r,s,l,h),!0;case"dragenter":return aa=Pl(aa,t,r,s,l,h),!0;case"mouseover":return sa=Pl(sa,t,r,s,l,h),!0;case"pointerover":var d=h.pointerId;return Nl.set(d,Pl(Nl.get(d)||null,t,r,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,xl.set(d,Pl(xl.get(d)||null,t,r,s,l,h)),!0}return!1}function Bv(t){var r=je(t.target);if(r!==null){var s=u(r);if(s!==null){if(r=s.tag,r===13){if(r=f(s),r!==null){t.blockedOn=r,k(t.priority,function(){if(s.tag===13){var l=Fn();l=Dr(l);var h=Ls(s,l);h!==null&&Gn(h,s,l),xd(s,l)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=Vd(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);ii=l,s.target.dispatchEvent(l),ii=null}else return r=it(s),r!==null&&Uv(r),t.blockedOn=s,!1;r.shift()}return!0}function jv(t,r,s){xc(t)&&s.delete(r)}function Xw(){Ud=!1,ia!==null&&xc(ia)&&(ia=null),aa!==null&&xc(aa)&&(aa=null),sa!==null&&xc(sa)&&(sa=null),Nl.forEach(jv),xl.forEach(jv)}function Pc(t,r){t.blockedOn===r&&(t.blockedOn=null,Ud||(Ud=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Xw)))}var Vc=null;function Hv(t){Vc!==t&&(Vc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Vc===t&&(Vc=null);for(var r=0;r<t.length;r+=3){var s=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(Ld(l||s)===null)continue;break}var d=it(s);d!==null&&(t.splice(r,3),r-=3,Lf(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Vl(t){function r(I){return Pc(I,t)}ia!==null&&Pc(ia,t),aa!==null&&Pc(aa,t),sa!==null&&Pc(sa,t),Nl.forEach(r),xl.forEach(r);for(var s=0;s<oa.length;s++){var l=oa[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<oa.length&&(s=oa[0],s.blockedOn===null);)Bv(s),s.blockedOn===null&&oa.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],_=h[oe]||null;if(typeof d=="function")_||Hv(s);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[oe]||null)T=_.formAction;else if(Ld(h)!==null)continue}else T=_.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),Hv(s)}}}function kd(t){this._internalRoot=t}Lc.prototype.render=kd.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,l=Fn();Vv(s,l,t,r,null,null)},Lc.prototype.unmount=kd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Vv(t.current,2,null,t,null,null),yc(),r[pe]=null}};function Lc(t){this._internalRoot=t}Lc.prototype.unstable_scheduleHydration=function(t){if(t){var r=D();t={blockedOn:null,target:t,priority:r};for(var s=0;s<oa.length&&r!==0&&r<oa[s].priority;s++);oa.splice(s,0,t),s===0&&Bv(t)}};var qv=e.version;if(qv!=="19.1.1")throw Error(a(527,qv,"19.1.1"));le.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=g(r),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var Zw={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{ot=Uc.inject(Zw),Ge=Uc}catch{}}return Ul.createRoot=function(t,r){if(!o(t))throw Error(a(299));var s=!1,l="",h=ay,d=sy,_=oy,T=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=xv(t,1,!1,null,null,s,l,h,d,_,T,null),t[pe]=r.current,Ed(t),new kd(r)},Ul.hydrateRoot=function(t,r,s){if(!o(t))throw Error(a(299));var l=!1,h="",d=ay,_=sy,T=oy,I=null,q=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks),s.formState!==void 0&&(q=s.formState)),r=xv(t,1,!0,r,s??null,l,h,d,_,T,I,q),r.context=Pv(null),s=r.current,l=Fn(),l=Dr(l),h=Fi(l),h.callback=null,Gi(s,h,l),s=l,r.current.lanes=s,mr(r,s),jr(r),t[pe]=r.current,Ed(t),new Lc(r)},Ul.version="19.1.1",Ul}var Wv;function ob(){if(Wv)return jd.exports;Wv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),jd.exports=sb(),jd.exports}var lb=ob();/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var JE=i=>{throw TypeError(i)},ub=(i,e,n)=>e.has(i)||JE("Cannot "+n),Gd=(i,e,n)=>(ub(i,e,"read from private field"),n?n.call(i):e.get(i)),cb=(i,e,n)=>e.has(i)?JE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,n),e_="popstate";function hb(i={}){function e(a,o){let{pathname:u,search:f,hash:m}=a.location;return Zl("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:ba(o)}return db(e,n,null,i)}function Xe(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function qt(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fb(){return Math.random().toString(36).substring(2,10)}function t_(i,e){return{usr:i.state,key:i.key,idx:e}}function Zl(i,e,n=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Ma(e):e,state:n,key:e&&e.key||a||fb()}}function ba({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Ma(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let a=i.indexOf("?");a>=0&&(e.search=i.substring(a),i=i.substring(0,a)),i&&(e.pathname=i)}return e}function db(i,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,m="POP",g=null,p=E();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function E(){return(f.state||{idx:null}).idx}function w(){m="POP";let Q=E(),Z=Q==null?null:Q-p;p=Q,g&&g({action:m,location:J.location,delta:Z})}function S(Q,Z){m="PUSH";let de=Zl(J.location,Q,Z);p=E()+1;let ae=t_(de,p),Se=J.createHref(de);try{f.pushState(ae,"",Se)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;o.location.assign(Se)}u&&g&&g({action:m,location:J.location,delta:1})}function P(Q,Z){m="REPLACE";let de=Zl(J.location,Q,Z);p=E();let ae=t_(de,p),Se=J.createHref(de);f.replaceState(ae,"",Se),u&&g&&g({action:m,location:J.location,delta:0})}function H(Q){return WE(Q)}let J={get action(){return m},get location(){return i(o,f)},listen(Q){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(e_,w),g=Q,()=>{o.removeEventListener(e_,w),g=null}},createHref(Q){return e(o,Q)},createURL:H,encodeLocation(Q){let Z=H(Q);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:S,replace:P,go(Q){return f.go(Q)}};return J}function WE(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Xe(n,"No window.location.(origin|href) available to create URL");let a=typeof i=="string"?i:ba(i);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}var jl,n_=class{constructor(i){if(cb(this,jl,new Map),i)for(let[e,n]of i)this.set(e,n)}get(i){if(Gd(this,jl).has(i))return Gd(this,jl).get(i);if(i.defaultValue!==void 0)return i.defaultValue;throw new Error("No value found for context")}set(i,e){Gd(this,jl).set(i,e)}};jl=new WeakMap;var mb=new Set(["lazy","caseSensitive","path","id","index","children"]);function pb(i){return mb.has(i)}var gb=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function yb(i){return gb.has(i)}function vb(i){return i.index===!0}function Jl(i,e,n=[],a={},o=!1){return i.map((u,f)=>{let m=[...n,String(f)],g=typeof u.id=="string"?u.id:m.join("-");if(Xe(u.index!==!0||!u.children,"Cannot specify children on an index route"),Xe(o||!a[g],`Found a route id collision on id "${g}".  Route id's must be globally unique within Data Router usages`),vb(u)){let p={...u,...e(u),id:g};return a[g]=p,p}else{let p={...u,...e(u),id:g,children:void 0};return a[g]=p,u.children&&(p.children=Jl(u.children,e,m,a,o)),p}})}function ha(i,e,n="/"){return Yc(i,e,n,!1)}function Yc(i,e,n,a){let o=typeof e=="string"?Ma(e):e,u=fr(o.pathname||"/",n);if(u==null)return null;let f=e0(i);Eb(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let p=Mb(u);m=Db(f[g],p,a)}return m}function _b(i,e){let{route:n,pathname:a,params:o}=i;return{id:n.id,pathname:a,params:o,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function e0(i,e=[],n=[],a="",o=!1){let u=(f,m,g=o,p)=>{let E={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(a)&&g)return;Xe(E.relativePath.startsWith(a),`Absolute route path "${E.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(a.length)}let w=Gr([a,E.relativePath]),S=n.concat(E);f.children&&f.children.length>0&&(Xe(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),e0(f.children,e,S,w,g)),!(f.path==null&&!f.index)&&e.push({path:w,score:Cb(w,f.index),routesMeta:S})};return i.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let g of t0(f.path))u(f,m,!0,g)}),e}function t0(i){let e=i.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=t0(a.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function Eb(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Ib(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var Tb=/^:[\w-]+$/,Sb=3,wb=2,bb=1,Ab=10,Rb=-2,r_=i=>i==="*";function Cb(i,e){let n=i.split("/"),a=n.length;return n.some(r_)&&(a+=Rb),e&&(a+=wb),n.filter(o=>!r_(o)).reduce((o,u)=>o+(Tb.test(u)?Sb:u===""?bb:Ab),a)}function Ib(i,e){return i.length===e.length&&i.slice(0,-1).every((a,o)=>a===e[o])?i[i.length-1]-e[e.length-1]:0}function Db(i,e,n=!1){let{routesMeta:a}=i,o={},u="/",f=[];for(let m=0;m<a.length;++m){let g=a[m],p=m===a.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=sh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},E),S=g.route;if(!w&&p&&n&&!a[a.length-1].route.index&&(w=sh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:Gr([u,w.pathname]),pathnameBase:Vb(Gr([u,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(u=Gr([u,w.pathnameBase]))}return f}function sh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,a]=Ob(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((p,{paramName:E,isOptional:w},S)=>{if(E==="*"){let H=m[S]||"";f=u.slice(0,u.length-H.length).replace(/(.)\/+$/,"$1")}const P=m[S];return w&&!P?p[E]=void 0:p[E]=(P||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:i}}function Ob(i,e=!1,n=!0){qt(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(a.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(a.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function Mb(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qt(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function fr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=i.charAt(n);return a&&a!=="/"?null:i.slice(n)||"/"}function Nb({basename:i,pathname:e}){return e==="/"?i:Gr([i,e])}function xb(i,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof i=="string"?Ma(i):i;return{pathname:n?n.startsWith("/")?n:Pb(n,e):e,search:Lb(a),hash:Ub(o)}}function Pb(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Kd(i,e,n,a){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function n0(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Hm(i){let e=n0(i);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function qm(i,e,n,a=!1){let o;typeof i=="string"?o=Ma(i):(o={...i},Xe(!o.pathname||!o.pathname.includes("?"),Kd("?","pathname","search",o)),Xe(!o.pathname||!o.pathname.includes("#"),Kd("#","pathname","hash",o)),Xe(!o.search||!o.search.includes("#"),Kd("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!a&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),w-=1;o.pathname=S.join("/")}m=w>=0?e[w]:"/"}let g=xb(o,m),p=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||E)&&(g.pathname+="/"),g}var Gr=i=>i.join("/").replace(/\/\/+/g,"/"),Vb=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Lb=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Ub=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,oh=class{constructor(i,e,n,a=!1){this.status=i,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Wl(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var r0=["POST","PUT","PATCH","DELETE"],kb=new Set(r0),zb=["GET",...r0],Bb=new Set(zb),jb=new Set([301,302,303,307,308]),Hb=new Set([307,308]),Yd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},qb={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},kl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Fb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fm=i=>Fb.test(i),Gb=i=>({hasErrorBoundary:!!i.hasErrorBoundary}),i0="remix-router-transitions",a0=Symbol("ResetLoaderData");function Kb(i){const e=i.window?i.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Xe(i.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=i.hydrationRouteProperties||[],o=i.mapRouteProperties||Gb,u={},f=Jl(i.routes,o,void 0,u),m,g=i.basename||"/",p=i.dataStrategy||Zb,E={unstable_middleware:!1,...i.future},w=null,S=new Set,P=null,H=null,J=null,Q=i.hydrationData!=null,Z=ha(f,i.history.location,g),de=!1,ae=null,Se;if(Z==null&&!i.patchRoutesOnNavigation){let D=cr(404,{pathname:i.history.location.pathname}),{matches:k,route:F}=p_(f);Se=!0,Z=k,ae={[F.id]:D}}else if(Z&&!i.hydrationData&&Tn(Z,f,i.history.location.pathname).active&&(Z=null),Z)if(Z.some(D=>D.route.lazy))Se=!1;else if(!Z.some(D=>D.route.loader))Se=!0;else{let D=i.hydrationData?i.hydrationData.loaderData:null,k=i.hydrationData?i.hydrationData.errors:null;if(k){let F=Z.findIndex(re=>k[re.route.id]!==void 0);Se=Z.slice(0,F+1).every(re=>!hm(re.route,D,k))}else Se=Z.every(F=>!hm(F.route,D,k))}else{Se=!1,Z=[];let D=Tn(null,f,i.history.location.pathname);D.active&&D.matches&&(de=!0,Z=D.matches)}let fe,j={historyAction:i.history.action,location:i.history.location,matches:Z,initialized:Se,navigation:Yd,restoreScrollPosition:i.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:i.hydrationData&&i.hydrationData.loaderData||{},actionData:i.hydrationData&&i.hydrationData.actionData||null,errors:i.hydrationData&&i.hydrationData.errors||ae,fetchers:new Map,blockers:new Map},N="POP",A=!1,R,M=!1,x=new Map,L=null,C=!1,Ve=!1,Fe=new Set,G=new Map,le=0,me=-1,ze=new Map,O=new Set,ee=new Map,ue=new Map,se=new Set,we=new Map,Be,Ie=null;function Vt(){if(w=i.history.listen(({action:D,location:k,delta:F})=>{if(Be){Be(),Be=void 0;return}qt(we.size===0||F!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let re=Pi({currentLocation:j.location,nextLocation:k,historyAction:D});if(re&&F!=null){let oe=new Promise(pe=>{Be=pe});i.history.go(F*-1),Xn(re,{state:"blocked",location:k,proceed(){Xn(re,{state:"proceeding",proceed:void 0,reset:void 0,location:k}),oe.then(()=>i.history.go(F))},reset(){let pe=new Map(j.blockers);pe.set(re,kl),wt({blockers:pe})}});return}return _n(D,k)}),n){uA(e,x);let D=()=>cA(e,x);e.addEventListener("pagehide",D),L=()=>e.removeEventListener("pagehide",D)}return j.initialized||_n("POP",j.location,{initialHydration:!0}),fe}function mt(){w&&w(),L&&L(),S.clear(),R&&R.abort(),j.fetchers.forEach((D,k)=>Lt(k)),j.blockers.forEach((D,k)=>ei(k))}function Yn(D){return S.add(D),()=>S.delete(D)}function wt(D,k={}){D.matches&&(D.matches=D.matches.map(oe=>{let pe=u[oe.route.id],be=oe.route;return be.element!==pe.element||be.errorElement!==pe.errorElement||be.hydrateFallbackElement!==pe.hydrateFallbackElement?{...oe,route:pe}:oe})),j={...j,...D};let F=[],re=[];j.fetchers.forEach((oe,pe)=>{oe.state==="idle"&&(se.has(pe)?F.push(pe):re.push(pe))}),se.forEach(oe=>{!j.fetchers.has(oe)&&!G.has(oe)&&F.push(oe)}),[...S].forEach(oe=>oe(j,{deletedFetchers:F,viewTransitionOpts:k.viewTransitionOpts,flushSync:k.flushSync===!0})),F.forEach(oe=>Lt(oe)),re.forEach(oe=>j.fetchers.delete(oe))}function hn(D,k,{flushSync:F}={}){let re=j.actionData!=null&&j.navigation.formMethod!=null&&Pn(j.navigation.formMethod)&&j.navigation.state==="loading"&&D.state?._isRedirect!==!0,oe;k.actionData?Object.keys(k.actionData).length>0?oe=k.actionData:oe=null:re?oe=j.actionData:oe=null;let pe=k.loaderData?d_(j.loaderData,k.loaderData,k.matches||[],k.errors):j.loaderData,be=j.blockers;be.size>0&&(be=new Map(be),be.forEach((Ee,Te)=>be.set(Te,kl)));let ve=C?!1:Vi(D,k.matches||j.matches),_e=A===!0||j.navigation.formMethod!=null&&Pn(j.navigation.formMethod)&&D.state?._isRedirect!==!0;m&&(f=m,m=void 0),C||N==="POP"||(N==="PUSH"?i.history.push(D,D.state):N==="REPLACE"&&i.history.replace(D,D.state));let Ce;if(N==="POP"){let Ee=x.get(j.location.pathname);Ee&&Ee.has(D.pathname)?Ce={currentLocation:j.location,nextLocation:D}:x.has(D.pathname)&&(Ce={currentLocation:D,nextLocation:j.location})}else if(M){let Ee=x.get(j.location.pathname);Ee?Ee.add(D.pathname):(Ee=new Set([D.pathname]),x.set(j.location.pathname,Ee)),Ce={currentLocation:j.location,nextLocation:D}}wt({...k,actionData:oe,loaderData:pe,historyAction:N,location:D,initialized:!0,navigation:Yd,revalidation:"idle",restoreScrollPosition:ve,preventScrollReset:_e,blockers:be},{viewTransitionOpts:Ce,flushSync:F===!0}),N="POP",A=!1,M=!1,C=!1,Ve=!1,Ie?.resolve(),Ie=null}async function br(D,k){if(typeof D=="number"){i.history.go(D);return}let F=cm(j.location,j.matches,g,D,k?.fromRouteId,k?.relative),{path:re,submission:oe,error:pe}=i_(!1,F,k),be=j.location,ve=Zl(j.location,re,k&&k.state);ve={...ve,...i.history.encodeLocation(ve)};let _e=k&&k.replace!=null?k.replace:void 0,Ce="PUSH";_e===!0?Ce="REPLACE":_e===!1||oe!=null&&Pn(oe.formMethod)&&oe.formAction===j.location.pathname+j.location.search&&(Ce="REPLACE");let Ee=k&&"preventScrollReset"in k?k.preventScrollReset===!0:void 0,Te=(k&&k.flushSync)===!0,je=Pi({currentLocation:be,nextLocation:ve,historyAction:Ce});if(je){Xn(je,{state:"blocked",location:ve,proceed(){Xn(je,{state:"proceeding",proceed:void 0,reset:void 0,location:ve}),br(D,k)},reset(){let it=new Map(j.blockers);it.set(je,kl),wt({blockers:it})}});return}await _n(Ce,ve,{submission:oe,pendingError:pe,preventScrollReset:Ee,replace:k&&k.replace,enableViewTransition:k&&k.viewTransition,flushSync:Te})}function Jr(){Ie||(Ie=hA()),xi(),wt({revalidation:"loading"});let D=Ie.promise;return j.navigation.state==="submitting"?D:j.navigation.state==="idle"?(_n(j.historyAction,j.location,{startUninterruptedRevalidation:!0}),D):(_n(N||j.historyAction,j.navigation.location,{overrideNavigation:j.navigation,enableViewTransition:M===!0}),D)}async function _n(D,k,F){R&&R.abort(),R=null,N=D,C=(F&&F.startUninterruptedRevalidation)===!0,mr(j.location,j.matches),A=(F&&F.preventScrollReset)===!0,M=(F&&F.enableViewTransition)===!0;let re=m||f,oe=F&&F.overrideNavigation,pe=F?.initialHydration&&j.matches&&j.matches.length>0&&!de?j.matches:ha(re,k,g),be=(F&&F.flushSync)===!0;if(pe&&j.initialized&&!Ve&&iA(j.location,k)&&!(F&&F.submission&&Pn(F.submission.formMethod))){hn(k,{matches:pe},{flushSync:be});return}let ve=Tn(pe,re,k.pathname);if(ve.active&&ve.matches&&(pe=ve.matches),!pe){let{error:lt,notFoundMatches:Ue,route:ut}=ti(k.pathname);hn(k,{matches:Ue,loaderData:{},errors:{[ut.id]:lt}},{flushSync:be});return}R=new AbortController;let _e=oo(i.history,k,R.signal,F&&F.submission),Ce=i.unstable_getContext?await i.unstable_getContext():new n_,Ee;if(F&&F.pendingError)Ee=[fa(pe).route.id,{type:"error",error:F.pendingError}];else if(F&&F.submission&&Pn(F.submission.formMethod)){let lt=await Na(_e,k,F.submission,pe,Ce,ve.active,F&&F.initialHydration===!0,{replace:F.replace,flushSync:be});if(lt.shortCircuited)return;if(lt.pendingActionResult){let[Ue,ut]=lt.pendingActionResult;if(Kn(ut)&&Wl(ut.error)&&ut.error.status===404){R=null,hn(k,{matches:lt.matches,loaderData:{},errors:{[Ue]:ut.error}});return}}pe=lt.matches||pe,Ee=lt.pendingActionResult,oe=Qd(k,F.submission),be=!1,ve.active=!1,_e=oo(i.history,_e.url,_e.signal)}let{shortCircuited:Te,matches:je,loaderData:it,errors:_t}=await Ts(_e,k,pe,Ce,ve.active,oe,F&&F.submission,F&&F.fetcherSubmission,F&&F.replace,F&&F.initialHydration===!0,be,Ee);Te||(R=null,hn(k,{matches:je||pe,...m_(Ee),loaderData:it,errors:_t}))}async function Na(D,k,F,re,oe,pe,be,ve={}){xi();let _e=oA(k,F);if(wt({navigation:_e},{flushSync:ve.flushSync===!0}),pe){let Te=await Ir(re,k.pathname,D.signal);if(Te.type==="aborted")return{shortCircuited:!0};if(Te.type==="error"){let je=fa(Te.partialMatches).route.id;return{matches:Te.partialMatches,pendingActionResult:[je,{type:"error",error:Te.error}]}}else if(Te.matches)re=Te.matches;else{let{notFoundMatches:je,error:it,route:_t}=ti(k.pathname);return{matches:je,pendingActionResult:[_t.id,{type:"error",error:it}]}}}let Ce,Ee=Qc(re,k);if(!Ee.route.action&&!Ee.route.lazy)Ce={type:"error",error:cr(405,{method:D.method,pathname:k.pathname,routeId:Ee.route.id})};else{let Te=fo(o,u,D,re,Ee,be?[]:a,oe),je=await Qn(D,Te,oe,null);if(Ce=je[Ee.route.id],!Ce){for(let it of re)if(je[it.route.id]){Ce=je[it.route.id];break}}if(D.signal.aborted)return{shortCircuited:!0}}if(ls(Ce)){let Te;return ve&&ve.replace!=null?Te=ve.replace:Te=c_(Ce.response.headers.get("Location"),new URL(D.url),g)===j.location.pathname+j.location.search,await dr(D,Ce,!0,{submission:F,replace:Te}),{shortCircuited:!0}}if(Kn(Ce)){let Te=fa(re,Ee.route.id);return(ve&&ve.replace)!==!0&&(N="PUSH"),{matches:re,pendingActionResult:[Te.route.id,Ce,Ee.route.id]}}return{matches:re,pendingActionResult:[Ee.route.id,Ce]}}async function Ts(D,k,F,re,oe,pe,be,ve,_e,Ce,Ee,Te){let je=pe||Qd(k,be),it=be||ve||y_(je),_t=!C&&!Ce;if(oe){if(_t){let bt=En(Te);wt({navigation:je,...bt!==void 0?{actionData:bt}:{}},{flushSync:Ee})}let Ne=await Ir(F,k.pathname,D.signal);if(Ne.type==="aborted")return{shortCircuited:!0};if(Ne.type==="error"){let bt=fa(Ne.partialMatches).route.id;return{matches:Ne.partialMatches,loaderData:{},errors:{[bt]:Ne.error}}}else if(Ne.matches)F=Ne.matches;else{let{error:bt,notFoundMatches:ni,route:bn}=ti(k.pathname);return{matches:ni,loaderData:{},errors:{[bn.id]:bt}}}}let lt=m||f,{dsMatches:Ue,revalidatingFetchers:ut}=a_(D,re,o,u,i.history,j,F,it,k,Ce?[]:a,Ce===!0,Ve,Fe,se,ee,O,lt,g,i.patchRoutesOnNavigation!=null,Te);if(me=++le,!i.dataStrategy&&!Ue.some(Ne=>Ne.shouldLoad)&&!Ue.some(Ne=>Ne.route.unstable_middleware)&&ut.length===0){let Ne=Rr();return hn(k,{matches:F,loaderData:{},errors:Te&&Kn(Te[1])?{[Te[0]]:Te[1].error}:null,...m_(Te),...Ne?{fetchers:new Map(j.fetchers)}:{}},{flushSync:Ee}),{shortCircuited:!0}}if(_t){let Ne={};if(!oe){Ne.navigation=je;let bt=En(Te);bt!==void 0&&(Ne.actionData=bt)}ut.length>0&&(Ne.fetchers=ko(ut)),wt(Ne,{flushSync:Ee})}ut.forEach(Ne=>{$n(Ne.key),Ne.controller&&G.set(Ne.key,Ne.controller)});let Dn=()=>ut.forEach(Ne=>$n(Ne.key));R&&R.signal.addEventListener("abort",Dn);let{loaderResults:rn,fetcherResults:Xt}=await Ni(Ue,ut,D,re);if(D.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",Dn),ut.forEach(Ne=>G.delete(Ne.key));let Sn=kc(rn);if(Sn)return await dr(D,Sn.result,!0,{replace:_e}),{shortCircuited:!0};if(Sn=kc(Xt),Sn)return O.add(Sn.key),await dr(D,Sn.result,!0,{replace:_e}),{shortCircuited:!0};let{loaderData:Ui,errors:Ln}=f_(j,F,rn,Te,ut,Xt);Ce&&j.errors&&(Ln={...j.errors,...Ln});let Jn=Rr(),Un=Cr(me),wn=Jn||Un||ut.length>0;return{matches:F,loaderData:Ui,errors:Ln,...wn?{fetchers:new Map(j.fetchers)}:{}}}function En(D){if(D&&!Kn(D[1]))return{[D[0]]:D[1].data};if(j.actionData)return Object.keys(j.actionData).length===0?null:j.actionData}function ko(D){return D.forEach(k=>{let F=j.fetchers.get(k.key),re=zl(void 0,F?F.data:void 0);j.fetchers.set(k.key,re)}),new Map(j.fetchers)}async function xa(D,k,F,re){$n(D);let oe=(re&&re.flushSync)===!0,pe=m||f,be=cm(j.location,j.matches,g,F,k,re?.relative),ve=ha(pe,be,g),_e=Tn(ve,pe,be);if(_e.active&&_e.matches&&(ve=_e.matches),!ve){Ge(D,k,cr(404,{pathname:be}),{flushSync:oe});return}let{path:Ce,submission:Ee,error:Te}=i_(!0,be,re);if(Te){Ge(D,k,Te,{flushSync:oe});return}let je=i.unstable_getContext?await i.unstable_getContext():new n_,it=(re&&re.preventScrollReset)===!0;if(Ee&&Pn(Ee.formMethod)){await Mi(D,k,Ce,ve,je,_e.active,oe,it,Ee);return}ee.set(D,{routeId:k,path:Ce}),await Wr(D,k,Ce,ve,je,_e.active,oe,it,Ee)}async function Mi(D,k,F,re,oe,pe,be,ve,_e){xi(),ee.delete(D);let Ce=j.fetchers.get(D);ot(D,lA(_e,Ce),{flushSync:be});let Ee=new AbortController,Te=oo(i.history,F,Ee.signal,_e);if(pe){let Tt=await Ir(re,new URL(Te.url).pathname,Te.signal,D);if(Tt.type==="aborted")return;if(Tt.type==="error"){Ge(D,k,Tt.error,{flushSync:be});return}else if(Tt.matches)re=Tt.matches;else{Ge(D,k,cr(404,{pathname:F}),{flushSync:be});return}}let je=Qc(re,F);if(!je.route.action&&!je.route.lazy){let Tt=cr(405,{method:_e.formMethod,pathname:F,routeId:k});Ge(D,k,Tt,{flushSync:be});return}G.set(D,Ee);let it=le,_t=fo(o,u,Te,re,je,a,oe),Ue=(await Qn(Te,_t,oe,D))[je.route.id];if(Te.signal.aborted){G.get(D)===Ee&&G.delete(D);return}if(se.has(D)){if(ls(Ue)||Kn(Ue)){ot(D,ca(void 0));return}}else{if(ls(Ue))if(G.delete(D),me>it){ot(D,ca(void 0));return}else return O.add(D),ot(D,zl(_e)),dr(Te,Ue,!1,{fetcherSubmission:_e,preventScrollReset:ve});if(Kn(Ue)){Ge(D,k,Ue.error);return}}let ut=j.navigation.location||j.location,Dn=oo(i.history,ut,Ee.signal),rn=m||f,Xt=j.navigation.state!=="idle"?ha(rn,j.navigation.location,g):j.matches;Xe(Xt,"Didn't find any matches after fetcher action");let Sn=++le;ze.set(D,Sn);let Ui=zl(_e,Ue.data);j.fetchers.set(D,Ui);let{dsMatches:Ln,revalidatingFetchers:Jn}=a_(Dn,oe,o,u,i.history,j,Xt,_e,ut,a,!1,Ve,Fe,se,ee,O,rn,g,i.patchRoutesOnNavigation!=null,[je.route.id,Ue]);Jn.filter(Tt=>Tt.key!==D).forEach(Tt=>{let pr=Tt.key,ki=j.fetchers.get(pr),zi=zl(void 0,ki?ki.data:void 0);j.fetchers.set(pr,zi),$n(pr),Tt.controller&&G.set(pr,Tt.controller)}),wt({fetchers:new Map(j.fetchers)});let Un=()=>Jn.forEach(Tt=>$n(Tt.key));Ee.signal.addEventListener("abort",Un);let{loaderResults:wn,fetcherResults:Ne}=await Ni(Ln,Jn,Dn,oe);if(Ee.signal.aborted)return;if(Ee.signal.removeEventListener("abort",Un),ze.delete(D),G.delete(D),Jn.forEach(Tt=>G.delete(Tt.key)),j.fetchers.has(D)){let Tt=ca(Ue.data);j.fetchers.set(D,Tt)}let bt=kc(wn);if(bt)return dr(Dn,bt.result,!1,{preventScrollReset:ve});if(bt=kc(Ne),bt)return O.add(bt.key),dr(Dn,bt.result,!1,{preventScrollReset:ve});let{loaderData:ni,errors:bn}=f_(j,Xt,wn,void 0,Jn,Ne);Cr(Sn),j.navigation.state==="loading"&&Sn>me?(Xe(N,"Expected pending action"),R&&R.abort(),hn(j.navigation.location,{matches:Xt,loaderData:ni,errors:bn,fetchers:new Map(j.fetchers)})):(wt({errors:bn,loaderData:d_(j.loaderData,ni,Xt,bn),fetchers:new Map(j.fetchers)}),Ve=!1)}async function Wr(D,k,F,re,oe,pe,be,ve,_e){let Ce=j.fetchers.get(D);ot(D,zl(_e,Ce?Ce.data:void 0),{flushSync:be});let Ee=new AbortController,Te=oo(i.history,F,Ee.signal);if(pe){let ut=await Ir(re,new URL(Te.url).pathname,Te.signal,D);if(ut.type==="aborted")return;if(ut.type==="error"){Ge(D,k,ut.error,{flushSync:be});return}else if(ut.matches)re=ut.matches;else{Ge(D,k,cr(404,{pathname:F}),{flushSync:be});return}}let je=Qc(re,F);G.set(D,Ee);let it=le,_t=fo(o,u,Te,re,je,a,oe),Ue=(await Qn(Te,_t,oe,D))[je.route.id];if(G.get(D)===Ee&&G.delete(D),!Te.signal.aborted){if(se.has(D)){ot(D,ca(void 0));return}if(ls(Ue))if(me>it){ot(D,ca(void 0));return}else{O.add(D),await dr(Te,Ue,!1,{preventScrollReset:ve});return}if(Kn(Ue)){Ge(D,k,Ue.error);return}ot(D,ca(Ue.data))}}async function dr(D,k,F,{submission:re,fetcherSubmission:oe,preventScrollReset:pe,replace:be}={}){k.response.headers.has("X-Remix-Revalidate")&&(Ve=!0);let ve=k.response.headers.get("Location");Xe(ve,"Expected a Location header on the redirect Response"),ve=c_(ve,new URL(D.url),g);let _e=Zl(j.location,ve,{_isRedirect:!0});if(n){let _t=!1;if(k.response.headers.has("X-Remix-Reload-Document"))_t=!0;else if(Fm(ve)){const lt=WE(ve,!0);_t=lt.origin!==e.location.origin||fr(lt.pathname,g)==null}if(_t){be?e.location.replace(ve):e.location.assign(ve);return}}R=null;let Ce=be===!0||k.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ee,formAction:Te,formEncType:je}=j.navigation;!re&&!oe&&Ee&&Te&&je&&(re=y_(j.navigation));let it=re||oe;if(Hb.has(k.response.status)&&it&&Pn(it.formMethod))await _n(Ce,_e,{submission:{...it,formAction:ve},preventScrollReset:pe||A,enableViewTransition:F?M:void 0});else{let _t=Qd(_e,re);await _n(Ce,_e,{overrideNavigation:_t,fetcherSubmission:oe,preventScrollReset:pe||A,enableViewTransition:F?M:void 0})}}async function Qn(D,k,F,re){let oe,pe={};try{oe=await Jb(p,D,k,re,F,!1)}catch(be){return k.filter(ve=>ve.shouldLoad).forEach(ve=>{pe[ve.route.id]={type:"error",error:be}}),pe}if(D.signal.aborted)return pe;for(let[be,ve]of Object.entries(oe))if(aA(ve)){let _e=ve.result;pe[be]={type:"redirect",response:nA(_e,D,be,k,g)}}else pe[be]=await tA(ve);return pe}async function Ni(D,k,F,re){let oe=Qn(F,D,re,null),pe=Promise.all(k.map(async _e=>{if(_e.matches&&_e.match&&_e.request&&_e.controller){let Ee=(await Qn(_e.request,_e.matches,re,_e.key))[_e.match.route.id];return{[_e.key]:Ee}}else return Promise.resolve({[_e.key]:{type:"error",error:cr(404,{pathname:_e.path})}})})),be=await oe,ve=(await pe).reduce((_e,Ce)=>Object.assign(_e,Ce),{});return{loaderResults:be,fetcherResults:ve}}function xi(){Ve=!0,ee.forEach((D,k)=>{G.has(k)&&Fe.add(k),$n(k)})}function ot(D,k,F={}){j.fetchers.set(D,k),wt({fetchers:new Map(j.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function Ge(D,k,F,re={}){let oe=fa(j.matches,k);Lt(D),wt({errors:{[oe.route.id]:F},fetchers:new Map(j.fetchers)},{flushSync:(re&&re.flushSync)===!0})}function fn(D){return ue.set(D,(ue.get(D)||0)+1),se.has(D)&&se.delete(D),j.fetchers.get(D)||qb}function Lt(D){let k=j.fetchers.get(D);G.has(D)&&!(k&&k.state==="loading"&&ze.has(D))&&$n(D),ee.delete(D),ze.delete(D),O.delete(D),se.delete(D),Fe.delete(D),j.fetchers.delete(D)}function Ss(D){let k=(ue.get(D)||0)-1;k<=0?(ue.delete(D),se.add(D)):ue.set(D,k),wt({fetchers:new Map(j.fetchers)})}function $n(D){let k=G.get(D);k&&(k.abort(),G.delete(D))}function Ar(D){for(let k of D){let F=fn(k),re=ca(F.data);j.fetchers.set(k,re)}}function Rr(){let D=[],k=!1;for(let F of O){let re=j.fetchers.get(F);Xe(re,`Expected fetcher: ${F}`),re.state==="loading"&&(O.delete(F),D.push(F),k=!0)}return Ar(D),k}function Cr(D){let k=[];for(let[F,re]of ze)if(re<D){let oe=j.fetchers.get(F);Xe(oe,`Expected fetcher: ${F}`),oe.state==="loading"&&($n(F),ze.delete(F),k.push(F))}return Ar(k),k.length>0}function Vn(D,k){let F=j.blockers.get(D)||kl;return we.get(D)!==k&&we.set(D,k),F}function ei(D){j.blockers.delete(D),we.delete(D)}function Xn(D,k){let F=j.blockers.get(D)||kl;Xe(F.state==="unblocked"&&k.state==="blocked"||F.state==="blocked"&&k.state==="blocked"||F.state==="blocked"&&k.state==="proceeding"||F.state==="blocked"&&k.state==="unblocked"||F.state==="proceeding"&&k.state==="unblocked",`Invalid blocker state transition: ${F.state} -> ${k.state}`);let re=new Map(j.blockers);re.set(D,k),wt({blockers:re})}function Pi({currentLocation:D,nextLocation:k,historyAction:F}){if(we.size===0)return;we.size>1&&qt(!1,"A router only supports one blocker at a time");let re=Array.from(we.entries()),[oe,pe]=re[re.length-1],be=j.blockers.get(oe);if(!(be&&be.state==="proceeding")&&pe({currentLocation:D,nextLocation:k,historyAction:F}))return oe}function ti(D){let k=cr(404,{pathname:D}),F=m||f,{matches:re,route:oe}=p_(F);return{notFoundMatches:re,route:oe,error:k}}function Pa(D,k,F){if(P=D,J=k,H=F||null,!Q&&j.navigation===Yd){Q=!0;let re=Vi(j.location,j.matches);re!=null&&wt({restoreScrollPosition:re})}return()=>{P=null,J=null,H=null}}function Zn(D,k){return H&&H(D,k.map(re=>_b(re,j.loaderData)))||D.key}function mr(D,k){if(P&&J){let F=Zn(D,k);P[F]=J()}}function Vi(D,k){if(P){let F=Zn(D,k),re=P[F];if(typeof re=="number")return re}return null}function Tn(D,k,F){if(i.patchRoutesOnNavigation)if(D){if(Object.keys(D[0].params).length>0)return{active:!0,matches:Yc(k,F,g,!0)}}else return{active:!0,matches:Yc(k,F,g,!0)||[]};return{active:!1,matches:null}}async function Ir(D,k,F,re){if(!i.patchRoutesOnNavigation)return{type:"success",matches:D};let oe=D;for(;;){let pe=m==null,be=m||f,ve=u;try{await i.patchRoutesOnNavigation({signal:F,path:k,matches:oe,fetcherKey:re,patch:(Ee,Te)=>{F.aborted||s_(Ee,Te,be,ve,o,!1)}})}catch(Ee){return{type:"error",error:Ee,partialMatches:oe}}finally{pe&&!F.aborted&&(f=[...f])}if(F.aborted)return{type:"aborted"};let _e=ha(be,k,g);if(_e)return{type:"success",matches:_e};let Ce=Yc(be,k,g,!0);if(!Ce||oe.length===Ce.length&&oe.every((Ee,Te)=>Ee.route.id===Ce[Te].route.id))return{type:"success",matches:null};oe=Ce}}function Dr(D){u={},m=Jl(D,o,void 0,u)}function Li(D,k,F=!1){let re=m==null;s_(D,k,m||f,u,o,F),re&&(f=[...f],wt({}))}return fe={get basename(){return g},get future(){return E},get state(){return j},get routes(){return f},get window(){return e},initialize:Vt,subscribe:Yn,enableScrollRestoration:Pa,navigate:br,fetch:xa,revalidate:Jr,createHref:D=>i.history.createHref(D),encodeLocation:D=>i.history.encodeLocation(D),getFetcher:fn,deleteFetcher:Ss,dispose:mt,getBlocker:Vn,deleteBlocker:ei,patchRoutes:Li,_internalFetchControllers:G,_internalSetRoutes:Dr,_internalSetStateDoNotUseOrYouWillBreakYourApp(D){wt(D)}},fe}function Yb(i){return i!=null&&("formData"in i&&i.formData!=null||"body"in i&&i.body!==void 0)}function cm(i,e,n,a,o,u){let f,m;if(o){f=[];for(let p of e)if(f.push(p),p.route.id===o){m=p;break}}else f=e,m=e[e.length-1];let g=qm(a||".",Hm(f),fr(i.pathname,n)||i.pathname,u==="path");if(a==null&&(g.search=i.search,g.hash=i.hash),(a==null||a===""||a===".")&&m){let p=Gm(g.search);if(m.route.index&&!p)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&p){let E=new URLSearchParams(g.search),w=E.getAll("index");E.delete("index"),w.filter(P=>P).forEach(P=>E.append("index",P));let S=E.toString();g.search=S?`?${S}`:""}}return n!=="/"&&(g.pathname=Nb({basename:n,pathname:g.pathname})),ba(g)}function i_(i,e,n){if(!n||!Yb(n))return{path:e};if(n.formMethod&&!sA(n.formMethod))return{path:e,error:cr(405,{method:n.formMethod})};let a=()=>({path:e,error:cr(400,{type:"invalid-body"})}),u=(n.formMethod||"get").toUpperCase(),f=f0(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Pn(u))return a();let w=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((S,[P,H])=>`${S}${P}=${H}
`,""):String(n.body);return{path:e,submission:{formMethod:u,formAction:f,formEncType:n.formEncType,formData:void 0,json:void 0,text:w}}}else if(n.formEncType==="application/json"){if(!Pn(u))return a();try{let w=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:u,formAction:f,formEncType:n.formEncType,formData:void 0,json:w,text:void 0}}}catch{return a()}}}Xe(typeof FormData=="function","FormData is not available in this environment");let m,g;if(n.formData)m=dm(n.formData),g=n.formData;else if(n.body instanceof FormData)m=dm(n.body),g=n.body;else if(n.body instanceof URLSearchParams)m=n.body,g=h_(m);else if(n.body==null)m=new URLSearchParams,g=new FormData;else try{m=new URLSearchParams(n.body),g=h_(m)}catch{return a()}let p={formMethod:u,formAction:f,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(Pn(p.formMethod))return{path:e,submission:p};let E=Ma(e);return i&&E.search&&Gm(E.search)&&m.append("index",""),E.search=`?${m}`,{path:ba(E),submission:p}}function a_(i,e,n,a,o,u,f,m,g,p,E,w,S,P,H,J,Q,Z,de,ae){let Se=ae?Kn(ae[1])?ae[1].error:ae[1].data:void 0,fe=o.createURL(u.location),j=o.createURL(g),N;if(E&&u.errors){let C=Object.keys(u.errors)[0];N=f.findIndex(Ve=>Ve.route.id===C)}else if(ae&&Kn(ae[1])){let C=ae[0];N=f.findIndex(Ve=>Ve.route.id===C)-1}let A=ae?ae[1].statusCode:void 0,R=A&&A>=400,M={currentUrl:fe,currentParams:u.matches[0]?.params||{},nextUrl:j,nextParams:f[0].params,...m,actionResult:Se,actionStatus:A},x=f.map((C,Ve)=>{let{route:Fe}=C,G=null;if(N!=null&&Ve>N?G=!1:Fe.lazy?G=!0:Fe.loader==null?G=!1:E?G=hm(Fe,u.loaderData,u.errors):Qb(u.loaderData,u.matches[Ve],C)&&(G=!0),G!==null)return fm(n,a,i,C,p,e,G);let le=R?!1:w||fe.pathname+fe.search===j.pathname+j.search||fe.search!==j.search||$b(u.matches[Ve],C),me={...M,defaultShouldRevalidate:le},ze=lh(C,me);return fm(n,a,i,C,p,e,ze,me)}),L=[];return H.forEach((C,Ve)=>{if(E||!f.some(ue=>ue.route.id===C.routeId)||P.has(Ve))return;let Fe=u.fetchers.get(Ve),G=Fe&&Fe.state!=="idle"&&Fe.data===void 0,le=ha(Q,C.path,Z);if(!le){if(de&&G)return;L.push({key:Ve,routeId:C.routeId,path:C.path,matches:null,match:null,request:null,controller:null});return}if(J.has(Ve))return;let me=Qc(le,C.path),ze=new AbortController,O=oo(o,C.path,ze.signal),ee=null;if(S.has(Ve))S.delete(Ve),ee=fo(n,a,O,le,me,p,e);else if(G)w&&(ee=fo(n,a,O,le,me,p,e));else{let ue={...M,defaultShouldRevalidate:R?!1:w};lh(me,ue)&&(ee=fo(n,a,O,le,me,p,e,ue))}ee&&L.push({key:Ve,routeId:C.routeId,path:C.path,matches:ee,match:me,request:O,controller:ze})}),{dsMatches:x,revalidatingFetchers:L}}function hm(i,e,n){if(i.lazy)return!0;if(!i.loader)return!1;let a=e!=null&&i.id in e,o=n!=null&&n[i.id]!==void 0;return!a&&o?!1:typeof i.loader=="function"&&i.loader.hydrate===!0?!0:!a&&!o}function Qb(i,e,n){let a=!e||n.route.id!==e.route.id,o=!i.hasOwnProperty(n.route.id);return a||o}function $b(i,e){let n=i.route.path;return i.pathname!==e.pathname||n!=null&&n.endsWith("*")&&i.params["*"]!==e.params["*"]}function lh(i,e){if(i.route.shouldRevalidate){let n=i.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function s_(i,e,n,a,o,u){let f;if(i){let p=a[i];Xe(p,`No route found to patch children into: routeId = ${i}`),p.children||(p.children=[]),f=p.children}else f=n;let m=[],g=[];if(e.forEach(p=>{let E=f.find(w=>s0(p,w));E?g.push({existingRoute:E,newRoute:p}):m.push(p)}),m.length>0){let p=Jl(m,o,[i||"_","patch",String(f?.length||"0")],a);f.push(...p)}if(u&&g.length>0)for(let p=0;p<g.length;p++){let{existingRoute:E,newRoute:w}=g[p],S=E,[P]=Jl([w],o,[],{},!0);Object.assign(S,{element:P.element?P.element:S.element,errorElement:P.errorElement?P.errorElement:S.errorElement,hydrateFallbackElement:P.hydrateFallbackElement?P.hydrateFallbackElement:S.hydrateFallbackElement})}}function s0(i,e){return"id"in i&&"id"in e&&i.id===e.id?!0:i.index===e.index&&i.path===e.path&&i.caseSensitive===e.caseSensitive?(!i.children||i.children.length===0)&&(!e.children||e.children.length===0)?!0:i.children.every((n,a)=>e.children?.some(o=>s0(n,o))):!1}var o_=new WeakMap,o0=({key:i,route:e,manifest:n,mapRouteProperties:a})=>{let o=n[e.id];if(Xe(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let u=o.lazy[i];if(!u)return;let f=o_.get(o);f||(f={},o_.set(o,f));let m=f[i];if(m)return m;let g=(async()=>{let p=pb(i),w=o[i]!==void 0&&i!=="hasErrorBoundary";if(p)qt(!p,"Route property "+i+" is not a supported lazy route property. This property will be ignored."),f[i]=Promise.resolve();else if(w)qt(!1,`Route "${o.id}" has a static property "${i}" defined. The lazy property will be ignored.`);else{let S=await u();S!=null&&(Object.assign(o,{[i]:S}),Object.assign(o,a(o)))}typeof o.lazy=="object"&&(o.lazy[i]=void 0,Object.values(o.lazy).every(S=>S===void 0)&&(o.lazy=void 0))})();return f[i]=g,g},l_=new WeakMap;function Xb(i,e,n,a,o){let u=n[i.id];if(Xe(u,"No route found in manifest"),!i.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof i.lazy=="function"){let E=l_.get(u);if(E)return{lazyRoutePromise:E,lazyHandlerPromise:E};let w=(async()=>{Xe(typeof i.lazy=="function","No lazy route function found");let S=await i.lazy(),P={};for(let H in S){let J=S[H];if(J===void 0)continue;let Q=yb(H),de=u[H]!==void 0&&H!=="hasErrorBoundary";Q?qt(!Q,"Route property "+H+" is not a supported property to be returned from a lazy route function. This property will be ignored."):de?qt(!de,`Route "${u.id}" has a static property "${H}" defined but its lazy function is also returning a value for this property. The lazy route property "${H}" will be ignored.`):P[H]=J}Object.assign(u,P),Object.assign(u,{...a(u),lazy:void 0})})();return l_.set(u,w),w.catch(()=>{}),{lazyRoutePromise:w,lazyHandlerPromise:w}}let f=Object.keys(i.lazy),m=[],g;for(let E of f){if(o&&o.includes(E))continue;let w=o0({key:E,route:i,manifest:n,mapRouteProperties:a});w&&(m.push(w),E===e&&(g=w))}let p=m.length>0?Promise.all(m).then(()=>{}):void 0;return p?.catch(()=>{}),g?.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:g}}async function u_(i){let e=i.matches.filter(o=>o.shouldLoad),n={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,u)=>{n[e[u].route.id]=o}),n}async function Zb(i){if(!i.matches.some(n=>n.route.unstable_middleware))return u_(i);let e=!1;return u0(i,()=>(e=!0,u_(i)),(n,a)=>l0(n,a,i.matches,e))}function l0(i,e,n,a){if(a)return{[e]:{type:"error",result:i}};{let o=Math.min(n.findIndex(f=>f.route.id===e)||0,n.findIndex(f=>f.unstable_shouldCallHandler())||0);return{[fa(n,n[o].route.id).route.id]:{type:"error",result:i}}}}async function u0(i,e,n){let{matches:a,request:o,params:u,context:f}=i,m=a.flatMap(p=>p.route.unstable_middleware?p.route.unstable_middleware.map(E=>[p.route.id,E]):[]),g={};return await c0({request:o,params:u,context:f},m,e,n,g),g}async function c0(i,e,n,a,o={},u=0){let{request:f}=i;if(f.signal.aborted)throw f.signal.reason?f.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${f.method} ${f.url}`);let m=e[u];if(!m){let S=await n();Object.assign(o,S);return}let[g,p]=m,E=!1,w=async()=>{if(E)throw new Error("You may only call `next()` once per middleware");E=!0;try{let S=await c0(i,e,n,a,o,u+1);Object.assign(o,S)}catch(S){let P=await a(S,g);Object.assign(o,P)}};try{let S=await p({request:i.request,params:i.params,context:i.context},w);typeof S<"u"&&console.warn("client middlewares are not intended to return values, the value will be ignored",S),E||await w()}catch(S){let P=await a(S,g);Object.assign(o,P)}}function h0(i,e,n,a,o){let u=o0({key:"unstable_middleware",route:a.route,manifest:e,mapRouteProperties:i}),f=Xb(a.route,Pn(n.method)?"action":"loader",e,i,o);return{middleware:u,route:f.lazyRoutePromise,handler:f.lazyHandlerPromise}}function fm(i,e,n,a,o,u,f,m=null){let g=!1,p=h0(i,e,n,a,o);return{...a,_lazyPromises:p,shouldLoad:f,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler(E){return g=!0,m?typeof E=="boolean"?lh(a,{...m,defaultShouldRevalidate:E}):lh(a,m):f},resolve(E){return g||f||E&&!Pn(n.method)&&(a.route.lazy||a.route.loader)?Wb({request:n,match:a,lazyHandlerPromise:p?.handler,lazyRoutePromise:p?.route,handlerOverride:E,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function fo(i,e,n,a,o,u,f,m=null){return a.map(g=>g.route.id!==o.route.id?{...g,shouldLoad:!1,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler:()=>!1,_lazyPromises:h0(i,e,n,g,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:fm(i,e,n,g,u,f,!0,m))}async function Jb(i,e,n,a,o,u){n.some(p=>p._lazyPromises?.middleware)&&await Promise.all(n.map(p=>p._lazyPromises?.middleware));let f={request:e,params:n[0].params,context:o,matches:n},g=await i({...f,fetcherKey:a,unstable_runClientMiddleware:p=>{let E=f,w=!1;return u0(E,()=>(w=!0,p({...E,fetcherKey:a,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(S,P)=>l0(S,P,n,w))}});try{await Promise.all(n.flatMap(p=>[p._lazyPromises?.handler,p._lazyPromises?.route]))}catch{}return g}async function Wb({request:i,match:e,lazyHandlerPromise:n,lazyRoutePromise:a,handlerOverride:o,scopedContext:u}){let f,m,g=Pn(i.method),p=g?"action":"loader",E=w=>{let S,P=new Promise((Q,Z)=>S=Z);m=()=>S(),i.signal.addEventListener("abort",m);let H=Q=>typeof w!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${e.route.id}]`)):w({request:i,params:e.params,context:u},...Q!==void 0?[Q]:[]),J=(async()=>{try{return{type:"data",result:await(o?o(Z=>H(Z)):H())}}catch(Q){return{type:"error",result:Q}}})();return Promise.race([J,P])};try{let w=g?e.route.action:e.route.loader;if(n||a)if(w){let S,[P]=await Promise.all([E(w).catch(H=>{S=H}),n,a]);if(S!==void 0)throw S;f=P}else{await n;let S=g?e.route.action:e.route.loader;if(S)[f]=await Promise.all([E(S),a]);else if(p==="action"){let P=new URL(i.url),H=P.pathname+P.search;throw cr(405,{method:i.method,pathname:H,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(w)f=await E(w);else{let S=new URL(i.url),P=S.pathname+S.search;throw cr(404,{pathname:P})}}catch(w){return{type:"error",result:w}}finally{m&&i.signal.removeEventListener("abort",m)}return f}async function eA(i){let e=i.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?i.body==null?null:i.json():i.text()}async function tA(i){let{result:e,type:n}=i;if(d0(e)){let a;try{a=await eA(e)}catch(o){return{type:"error",error:o}}return n==="error"?{type:"error",error:new oh(e.status,e.statusText,a),statusCode:e.status,headers:e.headers}:{type:"data",data:a,statusCode:e.status,headers:e.headers}}return n==="error"?g_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new oh(e.init?.status||500,void 0,e.data),statusCode:Wl(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Wl(e)?e.status:void 0}:g_(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function nA(i,e,n,a,o){let u=i.headers.get("Location");if(Xe(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!Fm(u)){let f=a.slice(0,a.findIndex(m=>m.route.id===n)+1);u=cm(new URL(e.url),f,o,u),i.headers.set("Location",u)}return i}function c_(i,e,n){if(Fm(i)){let a=i,o=a.startsWith("//")?new URL(e.protocol+a):new URL(a),u=fr(o.pathname,n)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return i}function oo(i,e,n,a){let o=i.createURL(f0(e)).toString(),u={signal:n};if(a&&Pn(a.formMethod)){let{formMethod:f,formEncType:m}=a;u.method=f.toUpperCase(),m==="application/json"?(u.headers=new Headers({"Content-Type":m}),u.body=JSON.stringify(a.json)):m==="text/plain"?u.body=a.text:m==="application/x-www-form-urlencoded"&&a.formData?u.body=dm(a.formData):u.body=a.formData}return new Request(o,u)}function dm(i){let e=new URLSearchParams;for(let[n,a]of i.entries())e.append(n,typeof a=="string"?a:a.name);return e}function h_(i){let e=new FormData;for(let[n,a]of i.entries())e.append(n,a);return e}function rA(i,e,n,a=!1,o=!1){let u={},f=null,m,g=!1,p={},E=n&&Kn(n[1])?n[1].error:void 0;return i.forEach(w=>{if(!(w.route.id in e))return;let S=w.route.id,P=e[S];if(Xe(!ls(P),"Cannot handle redirect results in processLoaderData"),Kn(P)){let H=P.error;if(E!==void 0&&(H=E,E=void 0),f=f||{},o)f[S]=H;else{let J=fa(i,S);f[J.route.id]==null&&(f[J.route.id]=H)}a||(u[S]=a0),g||(g=!0,m=Wl(P.error)?P.error.status:500),P.headers&&(p[S]=P.headers)}else u[S]=P.data,P.statusCode&&P.statusCode!==200&&!g&&(m=P.statusCode),P.headers&&(p[S]=P.headers)}),E!==void 0&&n&&(f={[n[0]]:E},n[2]&&(u[n[2]]=void 0)),{loaderData:u,errors:f,statusCode:m||200,loaderHeaders:p}}function f_(i,e,n,a,o,u){let{loaderData:f,errors:m}=rA(e,n,a);return o.filter(g=>!g.matches||g.matches.some(p=>p.shouldLoad)).forEach(g=>{let{key:p,match:E,controller:w}=g;if(w&&w.signal.aborted)return;let S=u[p];if(Xe(S,"Did not find corresponding fetcher result"),Kn(S)){let P=fa(i.matches,E?.route.id);m&&m[P.route.id]||(m={...m,[P.route.id]:S.error}),i.fetchers.delete(p)}else if(ls(S))Xe(!1,"Unhandled fetcher revalidation redirect");else{let P=ca(S.data);i.fetchers.set(p,P)}}),{loaderData:f,errors:m}}function d_(i,e,n,a){let o=Object.entries(e).filter(([,u])=>u!==a0).reduce((u,[f,m])=>(u[f]=m,u),{});for(let u of n){let f=u.route.id;if(!e.hasOwnProperty(f)&&i.hasOwnProperty(f)&&u.route.loader&&(o[f]=i[f]),a&&a.hasOwnProperty(f))break}return o}function m_(i){return i?Kn(i[1])?{actionData:{}}:{actionData:{[i[0]]:i[1].data}}:{}}function fa(i,e){return(e?i.slice(0,i.findIndex(a=>a.route.id===e)+1):[...i]).reverse().find(a=>a.route.hasErrorBoundary===!0)||i[0]}function p_(i){let e=i.length===1?i[0]:i.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function cr(i,{pathname:e,routeId:n,method:a,type:o,message:u}={}){let f="Unknown Server Error",m="Unknown @remix-run/router error";return i===400?(f="Bad Request",a&&e&&n?m=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(m="Unable to encode submission body")):i===403?(f="Forbidden",m=`Route "${n}" does not match URL "${e}"`):i===404?(f="Not Found",m=`No route matches URL "${e}"`):i===405&&(f="Method Not Allowed",a&&e&&n?m=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:a&&(m=`Invalid request method "${a.toUpperCase()}"`)),new oh(i||500,f,new Error(m),!0)}function kc(i){let e=Object.entries(i);for(let n=e.length-1;n>=0;n--){let[a,o]=e[n];if(ls(o))return{key:a,result:o}}}function f0(i){let e=typeof i=="string"?Ma(i):i;return ba({...e,hash:""})}function iA(i,e){return i.pathname!==e.pathname||i.search!==e.search?!1:i.hash===""?e.hash!=="":i.hash===e.hash?!0:e.hash!==""}function aA(i){return d0(i.result)&&jb.has(i.result.status)}function Kn(i){return i.type==="error"}function ls(i){return(i&&i.type)==="redirect"}function g_(i){return typeof i=="object"&&i!=null&&"type"in i&&"data"in i&&"init"in i&&i.type==="DataWithResponseInit"}function d0(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.headers=="object"&&typeof i.body<"u"}function sA(i){return Bb.has(i.toUpperCase())}function Pn(i){return kb.has(i.toUpperCase())}function Gm(i){return new URLSearchParams(i).getAll("index").some(e=>e==="")}function Qc(i,e){let n=typeof e=="string"?Ma(e).search:e.search;if(i[i.length-1].route.index&&Gm(n||""))return i[i.length-1];let a=n0(i);return a[a.length-1]}function y_(i){let{formMethod:e,formAction:n,formEncType:a,text:o,formData:u,json:f}=i;if(!(!e||!n||!a)){if(o!=null)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:n,formEncType:a,formData:u,json:void 0,text:void 0};if(f!==void 0)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:f,text:void 0}}}function Qd(i,e){return e?{state:"loading",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function oA(i,e){return{state:"submitting",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function zl(i,e){return i?{state:"loading",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function lA(i,e){return{state:"submitting",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e?e.data:void 0}}function ca(i){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function uA(i,e){try{let n=i.sessionStorage.getItem(i0);if(n){let a=JSON.parse(n);for(let[o,u]of Object.entries(a||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function cA(i,e){if(e.size>0){let n={};for(let[a,o]of e)n[a]=[...o];try{i.sessionStorage.setItem(i0,JSON.stringify(n))}catch(a){qt(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function hA(){let i,e,n=new Promise((a,o)=>{i=async u=>{a(u);try{await n}catch{}},e=async u=>{o(u);try{await n}catch{}}});return{promise:n,resolve:i,reject:e}}var vs=X.createContext(null);vs.displayName="DataRouter";var uu=X.createContext(null);uu.displayName="DataRouterState";X.createContext(!1);var Km=X.createContext({isTransitioning:!1});Km.displayName="ViewTransition";var m0=X.createContext(new Map);m0.displayName="Fetchers";var fA=X.createContext(null);fA.displayName="Await";var Zr=X.createContext(null);Zr.displayName="Navigation";var bh=X.createContext(null);bh.displayName="Location";var Ii=X.createContext({outlet:null,matches:[],isDataRoute:!1});Ii.displayName="Route";var Ym=X.createContext(null);Ym.displayName="RouteError";function dA(i,{relative:e}={}){Xe(cu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=X.useContext(Zr),{hash:o,pathname:u,search:f}=hu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Gr([n,u])),a.createHref({pathname:m,search:f,hash:o})}function cu(){return X.useContext(bh)!=null}function _s(){return Xe(cu(),"useLocation() may be used only in the context of a <Router> component."),X.useContext(bh).location}var p0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function g0(i){X.useContext(Zr).static||X.useLayoutEffect(i)}function mA(){let{isDataRoute:i}=X.useContext(Ii);return i?CA():pA()}function pA(){Xe(cu(),"useNavigate() may be used only in the context of a <Router> component.");let i=X.useContext(vs),{basename:e,navigator:n}=X.useContext(Zr),{matches:a}=X.useContext(Ii),{pathname:o}=_s(),u=JSON.stringify(Hm(a)),f=X.useRef(!1);return g0(()=>{f.current=!0}),X.useCallback((g,p={})=>{if(qt(f.current,p0),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=qm(g,JSON.parse(u),o,p.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Gr([e,E.pathname])),(p.replace?n.replace:n.push)(E,p.state,p)},[e,n,u,o,i])}X.createContext(null);function hu(i,{relative:e}={}){let{matches:n}=X.useContext(Ii),{pathname:a}=_s(),o=JSON.stringify(Hm(n));return X.useMemo(()=>qm(i,JSON.parse(o),a,e==="path"),[i,o,a,e])}function gA(i,e,n,a){Xe(cu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=X.useContext(Zr),{matches:u}=X.useContext(Ii),f=u[u.length-1],m=f?f.params:{},g=f?f.pathname:"/",p=f?f.pathnameBase:"/",E=f&&f.route;{let Z=E&&E.path||"";y0(g,!E||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let w=_s(),S;S=w;let P=S.pathname||"/",H=P;if(p!=="/"){let Z=p.replace(/^\//,"").split("/");H="/"+P.replace(/^\//,"").split("/").slice(Z.length).join("/")}let J=ha(i,{pathname:H});return qt(E||J!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),qt(J==null||J[J.length-1].route.element!==void 0||J[J.length-1].route.Component!==void 0||J[J.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),TA(J&&J.map(Z=>Object.assign({},Z,{params:Object.assign({},m,Z.params),pathname:Gr([p,o.encodeLocation?o.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?p:Gr([p,o.encodeLocation?o.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),u,n,a)}function yA(){let i=RA(),e=Wl(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=X.createElement(X.Fragment,null,X.createElement("p",null," Hey developer "),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:u},"ErrorBoundary")," or"," ",X.createElement("code",{style:u},"errorElement")," prop on your route.")),X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),n?X.createElement("pre",{style:o},n):null,f)}var vA=X.createElement(yA,null),_A=class extends X.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?X.createElement(Ii.Provider,{value:this.props.routeContext},X.createElement(Ym.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function EA({routeContext:i,match:e,children:n}){let a=X.useContext(vs);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),X.createElement(Ii.Provider,{value:i},n)}function TA(i,e=[],n=null,a=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n?.errors;if(u!=null){let g=o.findIndex(p=>p.route.id&&u?.[p.route.id]!==void 0);Xe(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let f=!1,m=-1;if(n)for(let g=0;g<o.length;g++){let p=o[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=g),p.route.id){let{loaderData:E,errors:w}=n,S=p.route.loader&&!E.hasOwnProperty(p.route.id)&&(!w||w[p.route.id]===void 0);if(p.route.lazy||S){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,p,E)=>{let w,S=!1,P=null,H=null;n&&(w=u&&p.route.id?u[p.route.id]:void 0,P=p.route.errorElement||vA,f&&(m<0&&E===0?(y0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,H=null):m===E&&(S=!0,H=p.route.hydrateFallbackElement||null)));let J=e.concat(o.slice(0,E+1)),Q=()=>{let Z;return w?Z=P:S?Z=H:p.route.Component?Z=X.createElement(p.route.Component,null):p.route.element?Z=p.route.element:Z=g,X.createElement(EA,{match:p,routeContext:{outlet:g,matches:J,isDataRoute:n!=null},children:Z})};return n&&(p.route.ErrorBoundary||p.route.errorElement||E===0)?X.createElement(_A,{location:n.location,revalidation:n.revalidation,component:P,error:w,children:Q(),routeContext:{outlet:null,matches:J,isDataRoute:!0}}):Q()},null)}function Qm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SA(i){let e=X.useContext(vs);return Xe(e,Qm(i)),e}function wA(i){let e=X.useContext(uu);return Xe(e,Qm(i)),e}function bA(i){let e=X.useContext(Ii);return Xe(e,Qm(i)),e}function $m(i){let e=bA(i),n=e.matches[e.matches.length-1];return Xe(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function AA(){return $m("useRouteId")}function RA(){let i=X.useContext(Ym),e=wA("useRouteError"),n=$m("useRouteError");return i!==void 0?i:e.errors?.[n]}function CA(){let{router:i}=SA("useNavigate"),e=$m("useNavigate"),n=X.useRef(!1);return g0(()=>{n.current=!0}),X.useCallback(async(o,u={})=>{qt(n.current,p0),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var v_={};function y0(i,e,n){!e&&!v_[i]&&(v_[i]=!0,qt(!1,n))}var __={};function E_(i,e){!i&&!__[e]&&(__[e]=!0,console.warn(e))}function IA(i){let e={hasErrorBoundary:i.hasErrorBoundary||i.ErrorBoundary!=null||i.errorElement!=null};return i.Component&&(i.element&&qt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:X.createElement(i.Component),Component:void 0})),i.HydrateFallback&&(i.hydrateFallbackElement&&qt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:X.createElement(i.HydrateFallback),HydrateFallback:void 0})),i.ErrorBoundary&&(i.errorElement&&qt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:X.createElement(i.ErrorBoundary),ErrorBoundary:void 0})),e}var DA=["HydrateFallback","hydrateFallbackElement"],OA=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}};function MA({router:i,flushSync:e}){let[n,a]=X.useState(i.state),[o,u]=X.useState(),[f,m]=X.useState({isTransitioning:!1}),[g,p]=X.useState(),[E,w]=X.useState(),[S,P]=X.useState(),H=X.useRef(new Map),J=X.useCallback((ae,{deletedFetchers:Se,flushSync:fe,viewTransitionOpts:j})=>{ae.fetchers.forEach((A,R)=>{A.data!==void 0&&H.current.set(R,A.data)}),Se.forEach(A=>H.current.delete(A)),E_(fe===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let N=i.window!=null&&i.window.document!=null&&typeof i.window.document.startViewTransition=="function";if(E_(j==null||N,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!j||!N){e&&fe?e(()=>a(ae)):X.startTransition(()=>a(ae));return}if(e&&fe){e(()=>{E&&(g&&g.resolve(),E.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:j.currentLocation,nextLocation:j.nextLocation})});let A=i.window.document.startViewTransition(()=>{e(()=>a(ae))});A.finished.finally(()=>{e(()=>{p(void 0),w(void 0),u(void 0),m({isTransitioning:!1})})}),e(()=>w(A));return}E?(g&&g.resolve(),E.skipTransition(),P({state:ae,currentLocation:j.currentLocation,nextLocation:j.nextLocation})):(u(ae),m({isTransitioning:!0,flushSync:!1,currentLocation:j.currentLocation,nextLocation:j.nextLocation}))},[i.window,e,E,g]);X.useLayoutEffect(()=>i.subscribe(J),[i,J]),X.useEffect(()=>{f.isTransitioning&&!f.flushSync&&p(new OA)},[f]),X.useEffect(()=>{if(g&&o&&i.window){let ae=o,Se=g.promise,fe=i.window.document.startViewTransition(async()=>{X.startTransition(()=>a(ae)),await Se});fe.finished.finally(()=>{p(void 0),w(void 0),u(void 0),m({isTransitioning:!1})}),w(fe)}},[o,g,i.window]),X.useEffect(()=>{g&&o&&n.location.key===o.location.key&&g.resolve()},[g,E,n.location,o]),X.useEffect(()=>{!f.isTransitioning&&S&&(u(S.state),m({isTransitioning:!0,flushSync:!1,currentLocation:S.currentLocation,nextLocation:S.nextLocation}),P(void 0))},[f.isTransitioning,S]);let Q=X.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:ae=>i.navigate(ae),push:(ae,Se,fe)=>i.navigate(ae,{state:Se,preventScrollReset:fe?.preventScrollReset}),replace:(ae,Se,fe)=>i.navigate(ae,{replace:!0,state:Se,preventScrollReset:fe?.preventScrollReset})}),[i]),Z=i.basename||"/",de=X.useMemo(()=>({router:i,navigator:Q,static:!1,basename:Z}),[i,Q,Z]);return X.createElement(X.Fragment,null,X.createElement(vs.Provider,{value:de},X.createElement(uu.Provider,{value:n},X.createElement(m0.Provider,{value:H.current},X.createElement(Km.Provider,{value:f},X.createElement(PA,{basename:Z,location:n.location,navigationType:n.historyAction,navigator:Q},X.createElement(NA,{routes:i.routes,future:i.future,state:n})))))),null)}var NA=X.memo(xA);function xA({routes:i,future:e,state:n}){return gA(i,void 0,n,e)}function PA({basename:i="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){Xe(!cu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=X.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Ma(n));let{pathname:g="/",search:p="",hash:E="",state:w=null,key:S="default"}=n,P=X.useMemo(()=>{let H=fr(g,f);return H==null?null:{location:{pathname:H,search:p,hash:E,state:w,key:S},navigationType:a}},[f,g,p,E,w,S,a]);return qt(P!=null,`<Router basename="${f}"> is not able to match the URL "${g}${p}${E}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:X.createElement(Zr.Provider,{value:m},X.createElement(bh.Provider,{children:e,value:P}))}var $c="get",Xc="application/x-www-form-urlencoded";function Ah(i){return i!=null&&typeof i.tagName=="string"}function VA(i){return Ah(i)&&i.tagName.toLowerCase()==="button"}function LA(i){return Ah(i)&&i.tagName.toLowerCase()==="form"}function UA(i){return Ah(i)&&i.tagName.toLowerCase()==="input"}function kA(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function zA(i,e){return i.button===0&&(!e||e==="_self")&&!kA(i)}var zc=null;function BA(){if(zc===null)try{new FormData(document.createElement("form"),0),zc=!1}catch{zc=!0}return zc}var jA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $d(i){return i!=null&&!jA.has(i)?(qt(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xc}"`),null):i}function HA(i,e){let n,a,o,u,f;if(LA(i)){let m=i.getAttribute("action");a=m?fr(m,e):null,n=i.getAttribute("method")||$c,o=$d(i.getAttribute("enctype"))||Xc,u=new FormData(i)}else if(VA(i)||UA(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(a=g?fr(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||$c,o=$d(i.getAttribute("formenctype"))||$d(m.getAttribute("enctype"))||Xc,u=new FormData(m,i),!BA()){let{name:p,type:E,value:w}=i;if(E==="image"){let S=p?`${p}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else p&&u.append(p,w)}}else{if(Ah(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$c,a=null,o=Xc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Xm(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function qA(i,e,n){let a=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return a.pathname==="/"?a.pathname=`_root.${n}`:e&&fr(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function FA(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GA(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function KA(i,e,n){let a=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await FA(u,n);return f.links?f.links():[]}return[]}));return XA(a.flat(1).filter(GA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function T_(i,e,n,a,o,u){let f=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,p)=>f(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{let E=a.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function YA(i,e,{includeHydrateFallback:n}={}){return QA(i.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function QA(i){return[...new Set(i)]}function $A(i){let e={},n=Object.keys(i).sort();for(let a of n)e[a]=i[a];return e}function XA(i,e){let n=new Set;return new Set(e),i.reduce((a,o)=>{let u=JSON.stringify($A(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}function v0(){let i=X.useContext(vs);return Xm(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function ZA(){let i=X.useContext(uu);return Xm(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Zm=X.createContext(void 0);Zm.displayName="FrameworkContext";function _0(){let i=X.useContext(Zm);return Xm(i,"You must render this element inside a <HydratedRouter> element"),i}function JA(i,e){let n=X.useContext(Zm),[a,o]=X.useState(!1),[u,f]=X.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:E,onTouchStart:w}=e,S=X.useRef(null);X.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let J=Z=>{Z.forEach(de=>{f(de.isIntersecting)})},Q=new IntersectionObserver(J,{threshold:.5});return S.current&&Q.observe(S.current),()=>{Q.disconnect()}}},[i]),X.useEffect(()=>{if(a){let J=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(J)}}},[a]);let P=()=>{o(!0)},H=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:Bl(m,P),onBlur:Bl(g,H),onMouseEnter:Bl(p,P),onMouseLeave:Bl(E,H),onTouchStart:Bl(w,P)}]:[!1,S,{}]}function Bl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function WA({page:i,...e}){let{router:n}=v0(),a=X.useMemo(()=>ha(n.routes,i,n.basename),[n.routes,i,n.basename]);return a?X.createElement(t1,{page:i,matches:a,...e}):null}function e1(i){let{manifest:e,routeModules:n}=_0(),[a,o]=X.useState([]);return X.useEffect(()=>{let u=!1;return KA(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),a}function t1({page:i,matches:e,...n}){let a=_s(),{manifest:o,routeModules:u}=_0(),{basename:f}=v0(),{loaderData:m,matches:g}=ZA(),p=X.useMemo(()=>T_(i,e,g,o,a,"data"),[i,e,g,o,a]),E=X.useMemo(()=>T_(i,e,g,o,a,"assets"),[i,e,g,o,a]),w=X.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let H=new Set,J=!1;if(e.forEach(Z=>{let de=o.routes[Z.route.id];!de||!de.hasLoader||(!p.some(ae=>ae.route.id===Z.route.id)&&Z.route.id in m&&u[Z.route.id]?.shouldRevalidate||de.hasClientLoader?J=!0:H.add(Z.route.id))}),H.size===0)return[];let Q=qA(i,f,"data");return J&&H.size>0&&Q.searchParams.set("_routes",e.filter(Z=>H.has(Z.route.id)).map(Z=>Z.route.id).join(",")),[Q.pathname+Q.search]},[f,m,a,o,p,e,i,u]),S=X.useMemo(()=>YA(E,o),[E,o]),P=e1(E);return X.createElement(X.Fragment,null,w.map(H=>X.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...n})),S.map(H=>X.createElement("link",{key:H,rel:"modulepreload",href:H,...n})),P.map(({key:H,link:J})=>X.createElement("link",{key:H,nonce:n.nonce,...J})))}function n1(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var E0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{E0&&(window.__reactRouterVersion="7.8.1")}catch{}function r1(i,e){return Kb({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:hb({window:e?.window}),hydrationData:i1(),routes:i,mapRouteProperties:IA,hydrationRouteProperties:DA,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function i1(){let i=window?.__staticRouterHydrationData;return i&&i.errors&&(i={...i,errors:a1(i.errors)}),i}function a1(i){if(!i)return null;let e=Object.entries(i),n={};for(let[a,o]of e)if(o&&o.__type==="RouteErrorResponse")n[a]=new oh(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let f=new u(o.message);f.stack="",n[a]=f}catch{}}if(n[a]==null){let u=new Error(o.message);u.stack="",n[a]=u}}else n[a]=o;return n}var T0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,S0=X.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:p,preventScrollReset:E,viewTransition:w,...S},P){let{basename:H}=X.useContext(Zr),J=typeof p=="string"&&T0.test(p),Q,Z=!1;if(typeof p=="string"&&J&&(Q=p,E0))try{let R=new URL(window.location.href),M=p.startsWith("//")?new URL(R.protocol+p):new URL(p),x=fr(M.pathname,H);M.origin===R.origin&&x!=null?p=x+M.search+M.hash:Z=!0}catch{qt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let de=dA(p,{relative:o}),[ae,Se,fe]=JA(a,S),j=u1(p,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:w});function N(R){e&&e(R),R.defaultPrevented||j(R)}let A=X.createElement("a",{...S,...fe,href:Q||de,onClick:Z||u?e:N,ref:n1(P,Se),target:g,"data-discover":!J&&n==="render"?"true":void 0});return ae&&!J?X.createElement(X.Fragment,null,A,X.createElement(WA,{page:de})):A});S0.displayName="Link";var s1=X.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...p},E){let w=hu(f,{relative:p.relative}),S=_s(),P=X.useContext(uu),{navigator:H,basename:J}=X.useContext(Zr),Q=P!=null&&m1(w)&&m===!0,Z=H.encodeLocation?H.encodeLocation(w).pathname:w.pathname,de=S.pathname,ae=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(de=de.toLowerCase(),ae=ae?ae.toLowerCase():null,Z=Z.toLowerCase()),ae&&J&&(ae=fr(ae,J)||ae);const Se=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let fe=de===Z||!o&&de.startsWith(Z)&&de.charAt(Se)==="/",j=ae!=null&&(ae===Z||!o&&ae.startsWith(Z)&&ae.charAt(Z.length)==="/"),N={isActive:fe,isPending:j,isTransitioning:Q},A=fe?e:void 0,R;typeof a=="function"?R=a(N):R=[a,fe?"active":null,j?"pending":null,Q?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(N):u;return X.createElement(S0,{...p,"aria-current":A,className:R,ref:E,style:M,to:f,viewTransition:m},typeof g=="function"?g(N):g)});s1.displayName="NavLink";var o1=X.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:f=$c,action:m,onSubmit:g,relative:p,preventScrollReset:E,viewTransition:w,...S},P)=>{let H=f1(),J=d1(m,{relative:p}),Q=f.toLowerCase()==="get"?"get":"post",Z=typeof m=="string"&&T0.test(m),de=ae=>{if(g&&g(ae),ae.defaultPrevented)return;ae.preventDefault();let Se=ae.nativeEvent.submitter,fe=Se?.getAttribute("formmethod")||f;H(Se||ae.currentTarget,{fetcherKey:e,method:fe,navigate:n,replace:o,state:u,relative:p,preventScrollReset:E,viewTransition:w})};return X.createElement("form",{ref:P,method:Q,action:J,onSubmit:a?g:de,...S,"data-discover":!Z&&i==="render"?"true":void 0})});o1.displayName="Form";function l1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w0(i){let e=X.useContext(vs);return Xe(e,l1(i)),e}function u1(i,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=mA(),g=_s(),p=hu(i,{relative:u});return X.useCallback(E=>{if(zA(E,e)){E.preventDefault();let w=n!==void 0?n:ba(g)===ba(p);m(i,{replace:w,state:a,preventScrollReset:o,relative:u,viewTransition:f})}},[g,m,p,n,a,e,i,o,u,f])}var c1=0,h1=()=>`__${String(++c1)}__`;function f1(){let{router:i}=w0("useSubmit"),{basename:e}=X.useContext(Zr),n=AA();return X.useCallback(async(a,o={})=>{let{action:u,method:f,encType:m,formData:g,body:p}=HA(a,e);if(o.navigate===!1){let E=o.fetcherKey||h1();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function d1(i,{relative:e}={}){let{basename:n}=X.useContext(Zr),a=X.useContext(Ii);Xe(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...hu(i||".",{relative:e})},f=_s();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Gr([n,u.pathname])),ba(u)}function m1(i,{relative:e}={}){let n=X.useContext(Km);Xe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=w0("useViewTransitionState"),o=hu(i,{relative:e});if(!n.isTransitioning)return!1;let u=fr(n.currentLocation.pathname,a)||n.currentLocation.pathname,f=fr(n.nextLocation.pathname,a)||n.nextLocation.pathname;return sh(o.pathname,f)!=null||sh(o.pathname,u)!=null}var p1=ZE();function g1(i){return X.createElement(MA,{flushSync:p1.flushSync,...i})}/*! Capacitor: https://capacitorjs.com/ - MIT License */var So;(function(i){i.Unimplemented="UNIMPLEMENTED",i.Unavailable="UNAVAILABLE"})(So||(So={}));class Xd extends Error{constructor(e,n,a){super(e),this.message=e,this.code=n,this.data=a}}const y1=i=>{var e,n;return i?.androidBridge?"android":!((n=(e=i?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},v1=i=>{const e=i.CapacitorCustomPlatform||null,n=i.Capacitor||{},a=n.Plugins=n.Plugins||{},o=()=>e!==null?e.name:y1(i),u=()=>o()!=="web",f=w=>{const S=p.get(w);return!!(S?.platforms.has(o())||m(w))},m=w=>{var S;return(S=n.PluginHeaders)===null||S===void 0?void 0:S.find(P=>P.name===w)},g=w=>i.console.error(w),p=new Map,E=(w,S={})=>{const P=p.get(w);if(P)return console.warn(`Capacitor plugin "${w}" already registered. Cannot register plugins twice.`),P.proxy;const H=o(),J=m(w);let Q;const Z=async()=>(!Q&&H in S?Q=typeof S[H]=="function"?Q=await S[H]():Q=S[H]:e!==null&&!Q&&"web"in S&&(Q=typeof S.web=="function"?Q=await S.web():Q=S.web),Q),de=(A,R)=>{var M,x;if(J){const L=J?.methods.find(C=>R===C.name);if(L)return L.rtype==="promise"?C=>n.nativePromise(w,R.toString(),C):(C,Ve)=>n.nativeCallback(w,R.toString(),C,Ve);if(A)return(M=A[R])===null||M===void 0?void 0:M.bind(A)}else{if(A)return(x=A[R])===null||x===void 0?void 0:x.bind(A);throw new Xd(`"${w}" plugin is not implemented on ${H}`,So.Unimplemented)}},ae=A=>{let R;const M=(...x)=>{const L=Z().then(C=>{const Ve=de(C,A);if(Ve){const Fe=Ve(...x);return R=Fe?.remove,Fe}else throw new Xd(`"${w}.${A}()" is not implemented on ${H}`,So.Unimplemented)});return A==="addListener"&&(L.remove=async()=>R()),L};return M.toString=()=>`${A.toString()}() { [capacitor code] }`,Object.defineProperty(M,"name",{value:A,writable:!1,configurable:!1}),M},Se=ae("addListener"),fe=ae("removeListener"),j=(A,R)=>{const M=Se({eventName:A},R),x=async()=>{const C=await M;fe({eventName:A,callbackId:C},R)},L=new Promise(C=>M.then(()=>C({remove:x})));return L.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await x()},L},N=new Proxy({},{get(A,R){switch(R){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return J?j:Se;case"removeListener":return fe;default:return ae(R)}}});return a[w]=N,p.set(w,{name:w,proxy:N,platforms:new Set([...Object.keys(S),...J?[H]:[]])}),N};return n.convertFileSrc||(n.convertFileSrc=w=>w),n.getPlatform=o,n.handleError=g,n.isNativePlatform=u,n.isPluginAvailable=f,n.registerPlugin=E,n.Exception=Xd,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},_1=i=>i.Capacitor=v1(i),eu=_1(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Jm=eu.registerPlugin;class b0{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let a=!1;this.listeners[e]||(this.listeners[e]=[],a=!0),this.listeners[e].push(n);const u=this.windowListeners[e];u&&!u.registered&&this.addWindowListener(u),a&&this.sendRetainedArgumentsForEvent(e);const f=async()=>this.removeListener(e,n);return Promise.resolve({remove:f})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,a){const o=this.listeners[e];if(!o){if(a){let u=this.retainedEventArguments[e];u||(u=[]),u.push(n),this.retainedEventArguments[e]=u}return}o.forEach(u=>u(n))}hasListeners(e){var n;return!!(!((n=this.listeners[e])===null||n===void 0)&&n.length)}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:a=>{this.notifyListeners(n,a)}}}unimplemented(e="not implemented"){return new eu.Exception(e,So.Unimplemented)}unavailable(e="not available"){return new eu.Exception(e,So.Unavailable)}async removeListener(e,n){const a=this.listeners[e];if(!a)return;const o=a.indexOf(n);this.listeners[e].splice(o,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(a=>{this.notifyListeners(e,a)}))}}const S_=i=>encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),w_=i=>i.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class E1 extends b0{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(a=>{if(a.length<=0)return;let[o,u]=a.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");o=w_(o).trim(),u=w_(u).trim(),n[o]=u}),n}async setCookie(e){try{const n=S_(e.key),a=S_(e.value),o=`; expires=${(e.expires||"").replace("expires=","")}`,u=(e.path||"/").replace("path=",""),f=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${a||""}${o}; path=${u}; ${f};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Jm("CapacitorCookies",{web:()=>new E1});const T1=async i=>new Promise((e,n)=>{const a=new FileReader;a.onload=()=>{const o=a.result;e(o.indexOf(",")>=0?o.split(",")[1]:o)},a.onerror=o=>n(o),a.readAsDataURL(i)}),S1=(i={})=>{const e=Object.keys(i);return Object.keys(i).map(o=>o.toLocaleLowerCase()).reduce((o,u,f)=>(o[u]=i[e[f]],o),{})},w1=(i,e=!0)=>i?Object.entries(i).reduce((a,o)=>{const[u,f]=o;let m,g;return Array.isArray(f)?(g="",f.forEach(p=>{m=e?encodeURIComponent(p):p,g+=`${u}=${m}&`}),g.slice(0,-1)):(m=e?encodeURIComponent(f):f,g=`${u}=${m}`),`${a}&${g}`},"").substr(1):null,b1=(i,e={})=>{const n=Object.assign({method:i.method||"GET",headers:i.headers},e),o=S1(i.headers)["content-type"]||"";if(typeof i.data=="string")n.body=i.data;else if(o.includes("application/x-www-form-urlencoded")){const u=new URLSearchParams;for(const[f,m]of Object.entries(i.data||{}))u.set(f,m);n.body=u.toString()}else if(o.includes("multipart/form-data")||i.data instanceof FormData){const u=new FormData;if(i.data instanceof FormData)i.data.forEach((m,g)=>{u.append(g,m)});else for(const m of Object.keys(i.data))u.append(m,i.data[m]);n.body=u;const f=new Headers(n.headers);f.delete("content-type"),n.headers=f}else(o.includes("application/json")||typeof i.data=="object")&&(n.body=JSON.stringify(i.data));return n};class A1 extends b0{async request(e){const n=b1(e,e.webFetchExtra),a=w1(e.params,e.shouldEncodeUrlParams),o=a?`${e.url}?${a}`:e.url,u=await fetch(o,n),f=u.headers.get("content-type")||"";let{responseType:m="text"}=u.ok?e:{};f.includes("application/json")&&(m="json");let g,p;switch(m){case"arraybuffer":case"blob":p=await u.blob(),g=await T1(p);break;case"json":g=await u.json();break;case"document":case"text":default:g=await u.text()}const E={};return u.headers.forEach((w,S)=>{E[S]=w}),{data:g,headers:E,status:u.status,url:u.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Jm("CapacitorHttp",{web:()=>new A1});const R1=eu.isNativePlatform(),tu=R1?"":window.location.origin;class b_ extends lu.Component{render(){return Le.jsxs("h1",{children:["Hola, soy NotFoundComponent, regresar a ",Le.jsx("a",{href:tu,children:"inicio"})]})}}const C1=()=>{};var A_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0=function(i){const e=[];let n=0;for(let a=0;a<i.length;a++){let o=i.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},I1=function(i){const e=[];let n=0,a=0;for(;n<i.length;){const o=i[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],f=i[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},R0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,g=o+2<i.length,p=g?i[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let S=(m&15)<<2|p>>6,P=p&63;g||(P=64,f||(S=64)),a.push(n[E],n[w],n[S],n[P])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(A0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):I1(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const p=o<i.length?n[i.charAt(o)]:64;++o;const w=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||p==null||w==null)throw new D1;const S=u<<2|m>>4;if(a.push(S),p!==64){const P=m<<4&240|p>>2;if(a.push(P),w!==64){const H=p<<6&192|w;a.push(H)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class D1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const O1=function(i){const e=A0(i);return R0.encodeByteArray(e,!0)},uh=function(i){return O1(i).replace(/\./g,"")},C0=function(i){try{return R0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=()=>M1().__FIREBASE_DEFAULTS__,x1=()=>{if(typeof process>"u"||typeof A_>"u")return;const i=A_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},P1=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&C0(i[1]);return e&&JSON.parse(e)},Rh=()=>{try{return C1()||N1()||x1()||P1()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},I0=i=>Rh()?.emulatorHosts?.[i],V1=i=>{const e=I0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},D0=()=>Rh()?.config,O0=i=>Rh()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function M0(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[uh(JSON.stringify(n)),uh(JSON.stringify(f)),""].join(".")}const Gl={};function k1(){const i={prod:[],emulator:[]};for(const e of Object.keys(Gl))Gl[e]?i.emulator.push(e):i.prod.push(e);return i}function z1(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let R_=!1;function N0(i,e){if(typeof window>"u"||typeof document>"u"||!No(window.location.host)||Gl[i]===e||Gl[i]||R_)return;Gl[i]=e;function n(S){return`__firebase__banner__${S}`}const a="__firebase__banner",u=k1().prod.length>0;function f(){const S=document.getElementById(a);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,P){S.setAttribute("width","24"),S.setAttribute("id",P),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function p(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{R_=!0,f()},S}function E(S,P){S.setAttribute("id",P),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function w(){const S=z1(a),P=n("text"),H=document.getElementById(P)||document.createElement("span"),J=n("learnmore"),Q=document.getElementById(J)||document.createElement("a"),Z=n("preprendIcon"),de=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ae=S.element;m(ae),E(Q,J);const Se=p();g(de,Z),ae.append(de,H,Q,Se),document.body.appendChild(ae)}u?(H.innerText="Preview backend disconnected.",de.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(de.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function B1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function j1(){const i=Rh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function H1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function q1(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function F1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function G1(){const i=vn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function K1(){return!j1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Y1(){try{return typeof indexedDB=="object"}catch{return!1}}function Q1(){return new Promise((i,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="FirebaseError";class Di extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=$1,Object.setPrototypeOf(this,Di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?X1(u,a):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Di(o,m,a)}}function X1(i,e){return i.replace(Z1,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const Z1=/\{\$([^}]+)}/g;function J1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ms(i,e){if(i===e)return!0;const n=Object.keys(i),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=i[o],f=e[o];if(C_(u)&&C_(f)){if(!ms(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function C_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(i){const e=[];for(const[n,a]of Object.entries(i))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function W1(i,e){const n=new eR(i,e);return n.subscribe.bind(n)}class eR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");tR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=Zd),o.error===void 0&&(o.error=Zd),o.complete===void 0&&(o.complete=Zd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Zd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(i){return i&&i._delegate?i._delegate:i}class ps{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new L1;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iR(e))try{this.getOrInitializeService({instanceIdentifier:os})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=os){return this.instances.has(e)}getOptions(e=os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&f.resolve(o)}return o}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:rR(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=os){return this.component?this.component.multipleInstances?e:os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rR(i){return i===os?void 0:i}function iR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ze||(Ze={}));const sR={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},oR=Ze.INFO,lR={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},uR=(i,e,...n)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),o=lR[e];if(o)console[o](`[${a}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wm{constructor(e){this.name=e,this._logLevel=oR,this._logHandler=uR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const cR=(i,e)=>e.some(n=>i instanceof n);let I_,D_;function hR(){return I_||(I_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fR(){return D_||(D_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const x0=new WeakMap,mm=new WeakMap,P0=new WeakMap,Jd=new WeakMap,ep=new WeakMap;function dR(i){const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(va(i.result)),o()},f=()=>{a(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&x0.set(n,i)}).catch(()=>{}),ep.set(e,i),e}function mR(i){if(mm.has(i))return;const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{a(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});mm.set(i,e)}let pm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return mm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||P0.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return va(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function pR(i){pm=i(pm)}function gR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=i.call(Wd(this),e,...n);return P0.set(a,e.sort?e.sort():[e]),va(a)}:fR().includes(i)?function(...e){return i.apply(Wd(this),e),va(x0.get(this))}:function(...e){return va(i.apply(Wd(this),e))}}function yR(i){return typeof i=="function"?gR(i):(i instanceof IDBTransaction&&mR(i),cR(i,hR())?new Proxy(i,pm):i)}function va(i){if(i instanceof IDBRequest)return dR(i);if(Jd.has(i))return Jd.get(i);const e=yR(i);return e!==i&&(Jd.set(i,e),ep.set(e,i)),e}const Wd=i=>ep.get(i);function vR(i,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=va(f);return a&&f.addEventListener("upgradeneeded",g=>{a(va(f.result),g.oldVersion,g.newVersion,va(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const _R=["get","getKey","getAll","getAllKeys","count"],ER=["put","add","delete","clear"],em=new Map;function O_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(em.get(e))return em.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=ER.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||_R.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let p=g.store;return a&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return em.set(e,u),u}pR(i=>({...i,get:(e,n,a)=>O_(e,n)||i.get(e,n,a),has:(e,n)=>!!O_(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(SR(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function SR(i){return i.getComponent()?.type==="VERSION"}const gm="@firebase/app",M_="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new Wm("@firebase/app"),wR="@firebase/app-compat",bR="@firebase/analytics-compat",AR="@firebase/analytics",RR="@firebase/app-check-compat",CR="@firebase/app-check",IR="@firebase/auth",DR="@firebase/auth-compat",OR="@firebase/database",MR="@firebase/data-connect",NR="@firebase/database-compat",xR="@firebase/functions",PR="@firebase/functions-compat",VR="@firebase/installations",LR="@firebase/installations-compat",UR="@firebase/messaging",kR="@firebase/messaging-compat",zR="@firebase/performance",BR="@firebase/performance-compat",jR="@firebase/remote-config",HR="@firebase/remote-config-compat",qR="@firebase/storage",FR="@firebase/storage-compat",GR="@firebase/firestore",KR="@firebase/ai",YR="@firebase/firestore-compat",QR="firebase",$R="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="[DEFAULT]",XR={[gm]:"fire-core",[wR]:"fire-core-compat",[AR]:"fire-analytics",[bR]:"fire-analytics-compat",[CR]:"fire-app-check",[RR]:"fire-app-check-compat",[IR]:"fire-auth",[DR]:"fire-auth-compat",[OR]:"fire-rtdb",[MR]:"fire-data-connect",[NR]:"fire-rtdb-compat",[xR]:"fire-fn",[PR]:"fire-fn-compat",[VR]:"fire-iid",[LR]:"fire-iid-compat",[UR]:"fire-fcm",[kR]:"fire-fcm-compat",[zR]:"fire-perf",[BR]:"fire-perf-compat",[jR]:"fire-rc",[HR]:"fire-rc-compat",[qR]:"fire-gcs",[FR]:"fire-gcs-compat",[GR]:"fire-fst",[YR]:"fire-fst-compat",[KR]:"fire-vertex","fire-js":"fire-js",[QR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Map,ZR=new Map,vm=new Map;function N_(i,e){try{i.container.addComponent(e)}catch(n){Ai.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function wo(i){const e=i.name;if(vm.has(e))return Ai.debug(`There were multiple attempts to register component ${e}.`),!1;vm.set(e,i);for(const n of ch.values())N_(n,i);for(const n of ZR.values())N_(n,i);return!0}function tp(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Er(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_a=new fu("app","Firebase",JR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _a.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=$R;function V0(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const a={name:ym,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw _a.create("bad-app-name",{appName:String(o)});if(n||(n=D0()),!n)throw _a.create("no-options");const u=ch.get(o);if(u){if(ms(n,u.options)&&ms(a,u.config))return u;throw _a.create("duplicate-app",{appName:o})}const f=new aR(o);for(const g of vm.values())f.addComponent(g);const m=new WR(n,a,f);return ch.set(o,m),m}function L0(i=ym){const e=ch.get(i);if(!e&&i===ym&&D0())return V0();if(!e)throw _a.create("no-app",{appName:i});return e}function Ea(i,e,n){let a=XR[i]??i;n&&(a+=`-${n}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${a}" with version "${e}":`];o&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ai.warn(f.join(" "));return}wo(new ps(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="firebase-heartbeat-database",tC=1,nu="firebase-heartbeat-store";let tm=null;function U0(){return tm||(tm=vR(eC,tC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(nu)}catch(n){console.warn(n)}}}}).catch(i=>{throw _a.create("idb-open",{originalErrorMessage:i.message})})),tm}async function nC(i){try{const n=(await U0()).transaction(nu),a=await n.objectStore(nu).get(k0(i));return await n.done,a}catch(e){if(e instanceof Di)Ai.warn(e.message);else{const n=_a.create("idb-get",{originalErrorMessage:e?.message});Ai.warn(n.message)}}}async function x_(i,e){try{const a=(await U0()).transaction(nu,"readwrite");await a.objectStore(nu).put(e,k0(i)),await a.done}catch(n){if(n instanceof Di)Ai.warn(n.message);else{const a=_a.create("idb-set",{originalErrorMessage:n?.message});Ai.warn(a.message)}}}function k0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=1024,iC=30;class aC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oC(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=P_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>iC){const o=lC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ai.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=P_(),{heartbeatsToSend:n,unsentEntries:a}=sC(this._heartbeatsCache.heartbeats),o=uh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ai.warn(e),""}}}function P_(){return new Date().toISOString().substring(0,10)}function sC(i,e=rC){const n=[];let a=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),V_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),V_(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class oC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Y1()?Q1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return x_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return x_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function V_(i){return uh(JSON.stringify({version:2,heartbeats:i})).length}function lC(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let a=1;a<i.length;a++)i[a].date<n&&(n=i[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(i){wo(new ps("platform-logger",e=>new TR(e),"PRIVATE")),wo(new ps("heartbeat",e=>new aC(e),"PRIVATE")),Ea(gm,M_,i),Ea(gm,M_,"esm2020"),Ea("fire-js","")}uC("");var cC="firebase",hC="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ea(cC,hC,"app");var L_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ta,z0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function R(){}R.prototype=A.prototype,N.D=A.prototype,N.prototype=new R,N.prototype.constructor=N,N.C=function(M,x,L){for(var C=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)C[Ve-2]=arguments[Ve];return A.prototype[x].apply(M,C)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,A,R){R||(R=0);var M=Array(16);if(typeof A=="string")for(var x=0;16>x;++x)M[x]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(x=0;16>x;++x)M[x]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=N.g[0],R=N.g[1],x=N.g[2];var L=N.g[3],C=A+(L^R&(x^L))+M[0]+3614090360&4294967295;A=R+(C<<7&4294967295|C>>>25),C=L+(x^A&(R^x))+M[1]+3905402710&4294967295,L=A+(C<<12&4294967295|C>>>20),C=x+(R^L&(A^R))+M[2]+606105819&4294967295,x=L+(C<<17&4294967295|C>>>15),C=R+(A^x&(L^A))+M[3]+3250441966&4294967295,R=x+(C<<22&4294967295|C>>>10),C=A+(L^R&(x^L))+M[4]+4118548399&4294967295,A=R+(C<<7&4294967295|C>>>25),C=L+(x^A&(R^x))+M[5]+1200080426&4294967295,L=A+(C<<12&4294967295|C>>>20),C=x+(R^L&(A^R))+M[6]+2821735955&4294967295,x=L+(C<<17&4294967295|C>>>15),C=R+(A^x&(L^A))+M[7]+4249261313&4294967295,R=x+(C<<22&4294967295|C>>>10),C=A+(L^R&(x^L))+M[8]+1770035416&4294967295,A=R+(C<<7&4294967295|C>>>25),C=L+(x^A&(R^x))+M[9]+2336552879&4294967295,L=A+(C<<12&4294967295|C>>>20),C=x+(R^L&(A^R))+M[10]+4294925233&4294967295,x=L+(C<<17&4294967295|C>>>15),C=R+(A^x&(L^A))+M[11]+2304563134&4294967295,R=x+(C<<22&4294967295|C>>>10),C=A+(L^R&(x^L))+M[12]+1804603682&4294967295,A=R+(C<<7&4294967295|C>>>25),C=L+(x^A&(R^x))+M[13]+4254626195&4294967295,L=A+(C<<12&4294967295|C>>>20),C=x+(R^L&(A^R))+M[14]+2792965006&4294967295,x=L+(C<<17&4294967295|C>>>15),C=R+(A^x&(L^A))+M[15]+1236535329&4294967295,R=x+(C<<22&4294967295|C>>>10),C=A+(x^L&(R^x))+M[1]+4129170786&4294967295,A=R+(C<<5&4294967295|C>>>27),C=L+(R^x&(A^R))+M[6]+3225465664&4294967295,L=A+(C<<9&4294967295|C>>>23),C=x+(A^R&(L^A))+M[11]+643717713&4294967295,x=L+(C<<14&4294967295|C>>>18),C=R+(L^A&(x^L))+M[0]+3921069994&4294967295,R=x+(C<<20&4294967295|C>>>12),C=A+(x^L&(R^x))+M[5]+3593408605&4294967295,A=R+(C<<5&4294967295|C>>>27),C=L+(R^x&(A^R))+M[10]+38016083&4294967295,L=A+(C<<9&4294967295|C>>>23),C=x+(A^R&(L^A))+M[15]+3634488961&4294967295,x=L+(C<<14&4294967295|C>>>18),C=R+(L^A&(x^L))+M[4]+3889429448&4294967295,R=x+(C<<20&4294967295|C>>>12),C=A+(x^L&(R^x))+M[9]+568446438&4294967295,A=R+(C<<5&4294967295|C>>>27),C=L+(R^x&(A^R))+M[14]+3275163606&4294967295,L=A+(C<<9&4294967295|C>>>23),C=x+(A^R&(L^A))+M[3]+4107603335&4294967295,x=L+(C<<14&4294967295|C>>>18),C=R+(L^A&(x^L))+M[8]+1163531501&4294967295,R=x+(C<<20&4294967295|C>>>12),C=A+(x^L&(R^x))+M[13]+2850285829&4294967295,A=R+(C<<5&4294967295|C>>>27),C=L+(R^x&(A^R))+M[2]+4243563512&4294967295,L=A+(C<<9&4294967295|C>>>23),C=x+(A^R&(L^A))+M[7]+1735328473&4294967295,x=L+(C<<14&4294967295|C>>>18),C=R+(L^A&(x^L))+M[12]+2368359562&4294967295,R=x+(C<<20&4294967295|C>>>12),C=A+(R^x^L)+M[5]+4294588738&4294967295,A=R+(C<<4&4294967295|C>>>28),C=L+(A^R^x)+M[8]+2272392833&4294967295,L=A+(C<<11&4294967295|C>>>21),C=x+(L^A^R)+M[11]+1839030562&4294967295,x=L+(C<<16&4294967295|C>>>16),C=R+(x^L^A)+M[14]+4259657740&4294967295,R=x+(C<<23&4294967295|C>>>9),C=A+(R^x^L)+M[1]+2763975236&4294967295,A=R+(C<<4&4294967295|C>>>28),C=L+(A^R^x)+M[4]+1272893353&4294967295,L=A+(C<<11&4294967295|C>>>21),C=x+(L^A^R)+M[7]+4139469664&4294967295,x=L+(C<<16&4294967295|C>>>16),C=R+(x^L^A)+M[10]+3200236656&4294967295,R=x+(C<<23&4294967295|C>>>9),C=A+(R^x^L)+M[13]+681279174&4294967295,A=R+(C<<4&4294967295|C>>>28),C=L+(A^R^x)+M[0]+3936430074&4294967295,L=A+(C<<11&4294967295|C>>>21),C=x+(L^A^R)+M[3]+3572445317&4294967295,x=L+(C<<16&4294967295|C>>>16),C=R+(x^L^A)+M[6]+76029189&4294967295,R=x+(C<<23&4294967295|C>>>9),C=A+(R^x^L)+M[9]+3654602809&4294967295,A=R+(C<<4&4294967295|C>>>28),C=L+(A^R^x)+M[12]+3873151461&4294967295,L=A+(C<<11&4294967295|C>>>21),C=x+(L^A^R)+M[15]+530742520&4294967295,x=L+(C<<16&4294967295|C>>>16),C=R+(x^L^A)+M[2]+3299628645&4294967295,R=x+(C<<23&4294967295|C>>>9),C=A+(x^(R|~L))+M[0]+4096336452&4294967295,A=R+(C<<6&4294967295|C>>>26),C=L+(R^(A|~x))+M[7]+1126891415&4294967295,L=A+(C<<10&4294967295|C>>>22),C=x+(A^(L|~R))+M[14]+2878612391&4294967295,x=L+(C<<15&4294967295|C>>>17),C=R+(L^(x|~A))+M[5]+4237533241&4294967295,R=x+(C<<21&4294967295|C>>>11),C=A+(x^(R|~L))+M[12]+1700485571&4294967295,A=R+(C<<6&4294967295|C>>>26),C=L+(R^(A|~x))+M[3]+2399980690&4294967295,L=A+(C<<10&4294967295|C>>>22),C=x+(A^(L|~R))+M[10]+4293915773&4294967295,x=L+(C<<15&4294967295|C>>>17),C=R+(L^(x|~A))+M[1]+2240044497&4294967295,R=x+(C<<21&4294967295|C>>>11),C=A+(x^(R|~L))+M[8]+1873313359&4294967295,A=R+(C<<6&4294967295|C>>>26),C=L+(R^(A|~x))+M[15]+4264355552&4294967295,L=A+(C<<10&4294967295|C>>>22),C=x+(A^(L|~R))+M[6]+2734768916&4294967295,x=L+(C<<15&4294967295|C>>>17),C=R+(L^(x|~A))+M[13]+1309151649&4294967295,R=x+(C<<21&4294967295|C>>>11),C=A+(x^(R|~L))+M[4]+4149444226&4294967295,A=R+(C<<6&4294967295|C>>>26),C=L+(R^(A|~x))+M[11]+3174756917&4294967295,L=A+(C<<10&4294967295|C>>>22),C=x+(A^(L|~R))+M[2]+718787259&4294967295,x=L+(C<<15&4294967295|C>>>17),C=R+(L^(x|~A))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(x+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+x&4294967295,N.g[3]=N.g[3]+L&4294967295}a.prototype.u=function(N,A){A===void 0&&(A=N.length);for(var R=A-this.blockSize,M=this.B,x=this.h,L=0;L<A;){if(x==0)for(;L<=R;)o(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<A;)if(M[x++]=N.charCodeAt(L++),x==this.blockSize){o(this,M),x=0;break}}else for(;L<A;)if(M[x++]=N[L++],x==this.blockSize){o(this,M),x=0;break}}this.h=x,this.o+=A},a.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;var R=8*this.o;for(A=N.length-8;A<N.length;++A)N[A]=R&255,R/=256;for(this.u(N),N=Array(16),A=R=0;4>A;++A)for(var M=0;32>M;M+=8)N[R++]=this.g[A]>>>M&255;return N};function u(N,A){var R=m;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=A(N)}function f(N,A){this.h=A;for(var R=[],M=!0,x=N.length-1;0<=x;x--){var L=N[x]|0;M&&L==A||(R[x]=L,M=!1)}this.g=R}var m={};function g(N){return-128<=N&&128>N?u(N,function(A){return new f([A|0],0>A?-1:0)}):new f([N|0],0>N?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return w;if(0>N)return Q(p(-N));for(var A=[],R=1,M=0;N>=R;M++)A[M]=N/R|0,R*=4294967296;return new f(A,0)}function E(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return Q(E(N.substring(1),A));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(A,8)),M=w,x=0;x<N.length;x+=8){var L=Math.min(8,N.length-x),C=parseInt(N.substring(x,x+L),A);8>L?(L=p(Math.pow(A,L)),M=M.j(L).add(p(C))):(M=M.j(R),M=M.add(p(C)))}return M}var w=g(0),S=g(1),P=g(16777216);i=f.prototype,i.m=function(){if(J(this))return-Q(this).m();for(var N=0,A=1,R=0;R<this.g.length;R++){var M=this.i(R);N+=(0<=M?M:4294967296+M)*A,A*=4294967296}return N},i.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(H(this))return"0";if(J(this))return"-"+Q(this).toString(N);for(var A=p(Math.pow(N,6)),R=this,M="";;){var x=Se(R,A).g;R=Z(R,x.j(A));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(N);if(R=x,H(R))return L+M;for(;6>L.length;)L="0"+L;M=L+M}},i.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function H(N){if(N.h!=0)return!1;for(var A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function J(N){return N.h==-1}i.l=function(N){return N=Z(this,N),J(N)?-1:H(N)?0:1};function Q(N){for(var A=N.g.length,R=[],M=0;M<A;M++)R[M]=~N.g[M];return new f(R,~N.h).add(S)}i.abs=function(){return J(this)?Q(this):this},i.add=function(N){for(var A=Math.max(this.g.length,N.g.length),R=[],M=0,x=0;x<=A;x++){var L=M+(this.i(x)&65535)+(N.i(x)&65535),C=(L>>>16)+(this.i(x)>>>16)+(N.i(x)>>>16);M=C>>>16,L&=65535,C&=65535,R[x]=C<<16|L}return new f(R,R[R.length-1]&-2147483648?-1:0)};function Z(N,A){return N.add(Q(A))}i.j=function(N){if(H(this)||H(N))return w;if(J(this))return J(N)?Q(this).j(Q(N)):Q(Q(this).j(N));if(J(N))return Q(this.j(Q(N)));if(0>this.l(P)&&0>N.l(P))return p(this.m()*N.m());for(var A=this.g.length+N.g.length,R=[],M=0;M<2*A;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var x=0;x<N.g.length;x++){var L=this.i(M)>>>16,C=this.i(M)&65535,Ve=N.i(x)>>>16,Fe=N.i(x)&65535;R[2*M+2*x]+=C*Fe,de(R,2*M+2*x),R[2*M+2*x+1]+=L*Fe,de(R,2*M+2*x+1),R[2*M+2*x+1]+=C*Ve,de(R,2*M+2*x+1),R[2*M+2*x+2]+=L*Ve,de(R,2*M+2*x+2)}for(M=0;M<A;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=A;M<2*A;M++)R[M]=0;return new f(R,0)};function de(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function ae(N,A){this.g=N,this.h=A}function Se(N,A){if(H(A))throw Error("division by zero");if(H(N))return new ae(w,w);if(J(N))return A=Se(Q(N),A),new ae(Q(A.g),Q(A.h));if(J(A))return A=Se(N,Q(A)),new ae(Q(A.g),A.h);if(30<N.g.length){if(J(N)||J(A))throw Error("slowDivide_ only works with positive integers.");for(var R=S,M=A;0>=M.l(N);)R=fe(R),M=fe(M);var x=j(R,1),L=j(M,1);for(M=j(M,2),R=j(R,2);!H(M);){var C=L.add(M);0>=C.l(N)&&(x=x.add(R),L=C),M=j(M,1),R=j(R,1)}return A=Z(N,x.j(A)),new ae(x,A)}for(x=w;0<=N.l(A);){for(R=Math.max(1,Math.floor(N.m()/A.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),L=p(R),C=L.j(A);J(C)||0<C.l(N);)R-=M,L=p(R),C=L.j(A);H(L)&&(L=S),x=x.add(L),N=Z(N,C)}return new ae(x,N)}i.A=function(N){return Se(this,N).h},i.and=function(N){for(var A=Math.max(this.g.length,N.g.length),R=[],M=0;M<A;M++)R[M]=this.i(M)&N.i(M);return new f(R,this.h&N.h)},i.or=function(N){for(var A=Math.max(this.g.length,N.g.length),R=[],M=0;M<A;M++)R[M]=this.i(M)|N.i(M);return new f(R,this.h|N.h)},i.xor=function(N){for(var A=Math.max(this.g.length,N.g.length),R=[],M=0;M<A;M++)R[M]=this.i(M)^N.i(M);return new f(R,this.h^N.h)};function fe(N){for(var A=N.g.length+1,R=[],M=0;M<A;M++)R[M]=N.i(M)<<1|N.i(M-1)>>>31;return new f(R,N.h)}function j(N,A){var R=A>>5;A%=32;for(var M=N.g.length-R,x=[],L=0;L<M;L++)x[L]=0<A?N.i(L+R)>>>A|N.i(L+R+1)<<32-A:N.i(L+R);return new f(x,N.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,z0=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=E,Ta=f}).apply(typeof L_<"u"?L_:typeof self<"u"?self:typeof window<"u"?window:{});var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var B0,Hl,j0,Zc,_m,H0,q0,F0;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bc=="object"&&Bc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=n(this);function o(c,y){if(y)e:{var v=a;c=c.split(".");for(var b=0;b<c.length-1;b++){var z=c[b];if(!(z in v))break e;v=v[z]}c=c[c.length-1],b=v[c],y=y(b),y!=b&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,b=!1,z={next:function(){if(!b&&v<c.length){var $=v++;return{value:y($,c[$]),done:!1}}return b=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function w(c,y,v){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,b),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function S(c,y,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,S.apply(null,arguments)}function P(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function H(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(b,z,$){for(var ce=Array(arguments.length-2),We=2;We<arguments.length;We++)ce[We-2]=arguments[We];return y.prototype[z].apply(b,ce)}}function J(c){const y=c.length;if(0<y){const v=Array(y);for(let b=0;b<y;b++)v[b]=c[b];return v}return[]}function Q(c,y){for(let v=1;v<arguments.length;v++){const b=arguments[v];if(g(b)){const z=c.length||0,$=b.length||0;c.length=z+$;for(let ce=0;ce<$;ce++)c[z+ce]=b[ce]}else c.push(b)}}class Z{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function de(c){return/^[\s\xa0]*$/.test(c)}function ae(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function Se(c){return Se[" "](c),c}Se[" "]=function(){};var fe=ae().indexOf("Gecko")!=-1&&!(ae().toLowerCase().indexOf("webkit")!=-1&&ae().indexOf("Edge")==-1)&&!(ae().indexOf("Trident")!=-1||ae().indexOf("MSIE")!=-1)&&ae().indexOf("Edge")==-1;function j(c,y,v){for(const b in c)y.call(v,c[b],b,c)}function N(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function A(c){const y={};for(const v in c)y[v]=c[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let v,b;for(let z=1;z<arguments.length;z++){b=arguments[z];for(v in b)c[v]=b[v];for(let $=0;$<R.length;$++)v=R[$],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function x(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function L(c){m.setTimeout(()=>{throw c},0)}function C(){var c=ze;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ve{constructor(){this.h=this.g=null}add(y,v){const b=Fe.get();b.set(y,v),this.h?this.h.next=b:this.g=b,this.h=b}}var Fe=new Z(()=>new G,c=>c.reset());class G{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let le,me=!1,ze=new Ve,O=()=>{const c=m.Promise.resolve(void 0);le=()=>{c.then(ee)}};var ee=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(v){L(v)}var y=Fe;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}me=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var we=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c})();function Be(c,y){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(fe){e:{try{Se(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ie[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Be.aa.h.call(this)}}H(Be,se);var Ie={2:"touch",3:"pen",4:"mouse"};Be.prototype.h=function(){Be.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Vt="closure_listenable_"+(1e6*Math.random()|0),mt=0;function Yn(c,y,v,b,z){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!b,this.ha=z,this.key=++mt,this.da=this.fa=!1}function wt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function hn(c){this.src=c,this.g={},this.h=0}hn.prototype.add=function(c,y,v,b,z){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var ce=Jr(c,y,b,z);return-1<ce?(y=c[ce],v||(y.fa=!1)):(y=new Yn(y,this.src,$,!!b,z),y.fa=v,c.push(y)),y};function br(c,y){var v=y.type;if(v in c.g){var b=c.g[v],z=Array.prototype.indexOf.call(b,y,void 0),$;($=0<=z)&&Array.prototype.splice.call(b,z,1),$&&(wt(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Jr(c,y,v,b){for(var z=0;z<c.length;++z){var $=c[z];if(!$.da&&$.listener==y&&$.capture==!!v&&$.ha==b)return z}return-1}var _n="closure_lm_"+(1e6*Math.random()|0),Na={};function Ts(c,y,v,b,z){if(Array.isArray(y)){for(var $=0;$<y.length;$++)Ts(c,y[$],v,b,z);return null}return v=xi(v),c&&c[Vt]?c.K(y,v,p(b)?!!b.capture:!1,z):En(c,y,v,!1,b,z)}function En(c,y,v,b,z,$){if(!y)throw Error("Invalid event type");var ce=p(z)?!!z.capture:!!z,We=Qn(c);if(We||(c[_n]=We=new hn(c)),v=We.add(y,v,b,ce,$),v.proxy)return v;if(b=ko(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)we||(z=ce),z===void 0&&(z=!1),c.addEventListener(y.toString(),b,z);else if(c.attachEvent)c.attachEvent(Wr(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ko(){function c(v){return y.call(c.src,c.listener,v)}const y=dr;return c}function xa(c,y,v,b,z){if(Array.isArray(y))for(var $=0;$<y.length;$++)xa(c,y[$],v,b,z);else b=p(b)?!!b.capture:!!b,v=xi(v),c&&c[Vt]?(c=c.i,y=String(y).toString(),y in c.g&&($=c.g[y],v=Jr($,v,b,z),-1<v&&(wt($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete c.g[y],c.h--)))):c&&(c=Qn(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Jr(y,v,b,z)),(v=-1<c?y[c]:null)&&Mi(v))}function Mi(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Vt])br(y.i,c);else{var v=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(v,b,c.capture):y.detachEvent?y.detachEvent(Wr(v),b):y.addListener&&y.removeListener&&y.removeListener(b),(v=Qn(y))?(br(v,c),v.h==0&&(v.src=null,y[_n]=null)):wt(c)}}}function Wr(c){return c in Na?Na[c]:Na[c]="on"+c}function dr(c,y){if(c.da)c=!0;else{y=new Be(y,this);var v=c.listener,b=c.ha||c.src;c.fa&&Mi(c),c=v.call(b,y)}return c}function Qn(c){return c=c[_n],c instanceof hn?c:null}var Ni="__closure_events_fn_"+(1e9*Math.random()>>>0);function xi(c){return typeof c=="function"?c:(c[Ni]||(c[Ni]=function(y){return c.handleEvent(y)}),c[Ni])}function ot(){ue.call(this),this.i=new hn(this),this.M=this,this.F=null}H(ot,ue),ot.prototype[Vt]=!0,ot.prototype.removeEventListener=function(c,y,v,b){xa(this,c,y,v,b)};function Ge(c,y){var v,b=c.F;if(b)for(v=[];b;b=b.F)v.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new se(y,c);else if(y instanceof se)y.target=y.target||c;else{var z=y;y=new se(b,c),M(y,z)}if(z=!0,v)for(var $=v.length-1;0<=$;$--){var ce=y.g=v[$];z=fn(ce,b,!0,y)&&z}if(ce=y.g=c,z=fn(ce,b,!0,y)&&z,z=fn(ce,b,!1,y)&&z,v)for($=0;$<v.length;$++)ce=y.g=v[$],z=fn(ce,b,!1,y)&&z}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],b=0;b<v.length;b++)wt(v[b]);delete c.g[y],c.h--}}this.F=null},ot.prototype.K=function(c,y,v,b){return this.i.add(String(c),y,!1,v,b)},ot.prototype.L=function(c,y,v,b){return this.i.add(String(c),y,!0,v,b)};function fn(c,y,v,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,$=0;$<y.length;++$){var ce=y[$];if(ce&&!ce.da&&ce.capture==v){var We=ce.listener,Ft=ce.ha||ce.src;ce.fa&&br(c.i,ce),z=We.call(Ft,b)!==!1&&z}}return z&&!b.defaultPrevented}function Lt(c,y,v){if(typeof c=="function")v&&(c=S(c,v));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Ss(c){c.g=Lt(()=>{c.g=null,c.i&&(c.i=!1,Ss(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class $n extends ue{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ss(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ar(c){ue.call(this),this.h=c,this.g={}}H(Ar,ue);var Rr=[];function Cr(c){j(c.g,function(y,v){this.g.hasOwnProperty(v)&&Mi(y)},c),c.g={}}Ar.prototype.N=function(){Ar.aa.N.call(this),Cr(this)},Ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=m.JSON.stringify,ei=m.JSON.parse,Xn=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Pi(){}Pi.prototype.h=null;function ti(c){return c.h||(c.h=c.i())}function Pa(){}var Zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mr(){se.call(this,"d")}H(mr,se);function Vi(){se.call(this,"c")}H(Vi,se);var Tn={},Ir=null;function Dr(){return Ir=Ir||new ot}Tn.La="serverreachability";function Li(c){se.call(this,Tn.La,c)}H(Li,se);function D(c){const y=Dr();Ge(y,new Li(y))}Tn.STAT_EVENT="statevent";function k(c,y){se.call(this,Tn.STAT_EVENT,c),this.stat=y}H(k,se);function F(c){const y=Dr();Ge(y,new k(y,c))}Tn.Ma="timingevent";function re(c,y){se.call(this,Tn.Ma,c),this.size=y}H(re,se);function oe(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function pe(){this.g=!0}pe.prototype.xa=function(){this.g=!1};function be(c,y,v,b,z,$){c.info(function(){if(c.g)if($)for(var ce="",We=$.split("&"),Ft=0;Ft<We.length;Ft++){var et=We[Ft].split("=");if(1<et.length){var Jt=et[0];et=et[1];var Gt=Jt.split("_");ce=2<=Gt.length&&Gt[1]=="type"?ce+(Jt+"="+et+"&"):ce+(Jt+"=redacted&")}}else ce=null;else ce=$;return"XMLHTTP REQ ("+b+") [attempt "+z+"]: "+y+`
`+v+`
`+ce})}function ve(c,y,v,b,z,$,ce){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+z+"]: "+y+`
`+v+`
`+$+" "+ce})}function _e(c,y,v,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ee(c,v)+(b?" "+b:"")})}function Ce(c,y){c.info(function(){return"TIMEOUT: "+y})}pe.prototype.info=function(){};function Ee(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var b=v[c];if(!(2>b.length)){var z=b[1];if(Array.isArray(z)&&!(1>z.length)){var $=z[0];if($!="noop"&&$!="stop"&&$!="close")for(var ce=1;ce<z.length;ce++)z[ce]=""}}}}return Vn(v)}catch{return y}}var Te={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},je={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},it;function _t(){}H(_t,Pi),_t.prototype.g=function(){return new XMLHttpRequest},_t.prototype.i=function(){return{}},it=new _t;function lt(c,y,v,b){this.j=c,this.i=y,this.l=v,this.R=b||1,this.U=new Ar(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ue}function Ue(){this.i=null,this.g="",this.h=!1}var ut={},Dn={};function rn(c,y,v){c.L=1,c.v=Ua(kn(y)),c.m=v,c.P=!0,Xt(c,null)}function Xt(c,y){c.F=Date.now(),Ln(c),c.A=kn(c.v);var v=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),qo(v.i,"t",b),c.C=0,v=c.j.J,c.h=new Ue,c.g=Pu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new $n(S(c.Y,c,c.g),c.O)),y=c.U,v=c.g,b=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(Rr[0]=z.toString()),z=Rr);for(var $=0;$<z.length;$++){var ce=Ts(v,z[$],b||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),D(),be(c.i,c.u,c.A,c.l,c.R,c.m)}lt.prototype.ca=function(c){c=c.target;const y=this.M;y&&nr(c)==3?y.j():this.Y(c)},lt.prototype.Y=function(c){try{if(c==this.g)e:{const Gt=nr(this.g);var y=this.g.Ba();const ui=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||Ru(this.g)))){this.J||Gt!=4||y==7||(y==8||0>=ui?D(3):D(2)),Un(this);var v=this.g.Z();this.X=v;t:if(Sn(this)){var b=Ru(this.g);c="";var z=b.length,$=nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ne(this),wn(this);var ce="";break t}this.h.i=new m.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!($&&y==z-1)});b.length=0,this.h.g+=c,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=v==200,ve(this.i,this.u,this.A,this.l,this.R,Gt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var We,Ft=this.g;if((We=Ft.g?Ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!de(We)){var et=We;break t}}et=null}if(v=et)_e(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bt(this,v);else{this.o=!1,this.s=3,F(12),Ne(this),wn(this);break e}}if(this.P){v=!0;let an;for(;!this.J&&this.C<ce.length;)if(an=Ui(this,ce),an==Dn){Gt==4&&(this.s=4,F(14),v=!1),_e(this.i,this.l,null,"[Incomplete Response]");break}else if(an==ut){this.s=4,F(15),_e(this.i,this.l,ce,"[Invalid Chunk]"),v=!1;break}else _e(this.i,this.l,an,null),bt(this,an);if(Sn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||ce.length!=0||this.h.h||(this.s=1,F(16),v=!1),this.o=this.o&&v,!v)_e(this.i,this.l,ce,"[Invalid Chunked Response]"),Ne(this),wn(this);else if(0<ce.length&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.ba&&!Jt.M&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Ga(Jt),Jt.M=!0,F(11))}}else _e(this.i,this.l,ce,null),bt(this,ce);Gt==4&&Ne(this),this.o&&!this.J&&(Gt==4?Mu(this.j,this):(this.o=!1,Ln(this)))}else Kh(this.g),v==400&&0<ce.indexOf("Unknown SID")?(this.s=3,F(12)):(this.s=0,F(13)),Ne(this),wn(this)}}}catch{}finally{}};function Sn(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ui(c,y){var v=c.C,b=y.indexOf(`
`,v);return b==-1?Dn:(v=Number(y.substring(v,b)),isNaN(v)?ut:(b+=1,b+v>y.length?Dn:(y=y.slice(b,b+v),c.C=b+v,y)))}lt.prototype.cancel=function(){this.J=!0,Ne(this)};function Ln(c){c.S=Date.now()+c.I,Jn(c,c.I)}function Jn(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=oe(S(c.ba,c),y)}function Un(c){c.B&&(m.clearTimeout(c.B),c.B=null)}lt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ce(this.i,this.A),this.L!=2&&(D(),F(17)),Ne(this),this.s=2,wn(this)):Jn(this,this.S-c)};function wn(c){c.j.G==0||c.J||Mu(c.j,c)}function Ne(c){Un(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Cr(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function bt(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||ki(v.h,c))){if(!c.K&&ki(v.h,c)&&v.G==3){try{var b=v.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var z=b;if(z[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Ms(v),Ds(v);else break e;Qo(v),F(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=oe(S(v.Za,v),6e3));if(1>=pr(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else li(v,11)}else if((c.K||v.g==c)&&Ms(v),!de(y))for(z=v.Da.g.parse(y),y=0;y<z.length;y++){let et=z[y];if(v.T=et[0],et=et[1],v.G==2)if(et[0]=="c"){v.K=et[1],v.ia=et[2];const Jt=et[3];Jt!=null&&(v.la=Jt,v.j.info("VER="+v.la));const Gt=et[4];Gt!=null&&(v.Aa=Gt,v.j.info("SVER="+v.Aa));const ui=et[5];ui!=null&&typeof ui=="number"&&0<ui&&(b=1.5*ui,v.L=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const an=c.g;if(an){const Lr=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lr){var $=b.h;$.g||Lr.indexOf("spdy")==-1&&Lr.indexOf("quic")==-1&&Lr.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(zi($,$.h),$.h=null))}if(b.D){const Xo=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;Xo&&(b.ya=Xo,pt(b.I,b.D,Xo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),b=v;var ce=c;if(b.qa=xu(b,b.J?b.ia:null,b.W),ce.K){An(b.h,ce);var We=ce,Ft=b.L;Ft&&(We.I=Ft),We.B&&(Un(We),Ln(We)),b.g=ce}else Du(b);0<v.i.length&&Os(v)}else et[0]!="stop"&&et[0]!="close"||li(v,7);else v.G==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?li(v,7):Ko(v):et[0]!="noop"&&v.l&&v.l.ta(et),v.v=0)}}D(4)}catch{}}var ni=class{constructor(c,y){this.g=c,this.map=y}};function bn(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Tt(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function pr(c){return c.h?1:c.g?c.g.size:0}function ki(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function zi(c,y){c.g?c.g.add(y):c.h=y}function An(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}bn.prototype.cancel=function(){if(this.i=zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function zo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return J(c.i)}function Hh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var y=[],v=c.length,b=0;b<v;b++)y.push(c[b]);return y}y=[],v=0;for(b in c)y[v++]=c[b];return y}function ws(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const b in c)y[v++]=b;return y}}}function Bo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=ws(c),b=Hh(c),z=b.length,$=0;$<z;$++)y.call(void 0,b[$],v&&v[$],c)}var Va=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qh(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var b=c[v].indexOf("="),z=null;if(0<=b){var $=c[v].substring(0,b);z=c[v].substring(b+1)}else $=c[v];y($,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Ut(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ut){this.h=c.h,La(this,c.j),this.o=c.o,this.g=c.g,Bi(this,c.s),this.l=c.l;var y=c.i,v=new ii;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),ri(this,v),this.m=c.m}else c&&(y=String(c).match(Va))?(this.h=!1,La(this,y[1]||"",!0),this.o=Wn(y[2]||""),this.g=Wn(y[3]||"",!0),Bi(this,y[4]),this.l=Wn(y[5]||"",!0),ri(this,y[6]||"",!0),this.m=Wn(y[7]||"")):(this.h=!1,this.i=new ii(null,this.h))}Ut.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ka(y,jo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ka(y,jo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ka(v,v.charAt(0)=="/"?Fh:Ho,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ka(v,bs)),c.join("")};function kn(c){return new Ut(c)}function La(c,y,v){c.j=v?Wn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Bi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ri(c,y,v){y instanceof ii?(c.i=y,bu(c.i,c.h)):(v||(y=ka(y,Gh)),c.i=new ii(y,c.h))}function pt(c,y,v){c.i.set(y,v)}function Ua(c){return pt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Wn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ka(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,wu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function wu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var jo=/[#\/\?@]/g,Ho=/[#\?:]/g,Fh=/[#\?]/g,Gh=/[#\?@]/g,bs=/#/g;function ii(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function er(c){c.g||(c.g=new Map,c.h=0,c.i&&qh(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=ii.prototype,i.add=function(c,y){er(this),this.i=null,c=Or(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function ai(c,y){er(c),y=Or(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function si(c,y){return er(c),y=Or(c,y),c.g.has(y)}i.forEach=function(c,y){er(this),this.g.forEach(function(v,b){v.forEach(function(z){c.call(y,z,b,this)},this)},this)},i.na=function(){er(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let b=0;b<y.length;b++){const z=c[b];for(let $=0;$<z.length;$++)v.push(y[b])}return v},i.V=function(c){er(this);let y=[];if(typeof c=="string")si(this,c)&&(y=y.concat(this.g.get(Or(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},i.set=function(c,y){return er(this),this.i=null,c=Or(this,c),si(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function qo(c,y,v){ai(c,y),0<v.length&&(c.i=null,c.g.set(Or(c,y),J(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var b=y[v];const $=encodeURIComponent(String(b)),ce=this.V(b);for(b=0;b<ce.length;b++){var z=$;ce[b]!==""&&(z+="="+encodeURIComponent(String(ce[b]))),c.push(z)}}return this.i=c.join("&")};function Or(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function bu(c,y){y&&!c.j&&(er(c),c.i=null,c.g.forEach(function(v,b){var z=b.toLowerCase();b!=z&&(ai(this,b),qo(this,z,v))},c)),c.j=y}function za(c,y){const v=new pe;if(m.Image){const b=new Image;b.onload=P(tr,v,"TestLoadImage: loaded",!0,y,b),b.onerror=P(tr,v,"TestLoadImage: error",!1,y,b),b.onabort=P(tr,v,"TestLoadImage: abort",!1,y,b),b.ontimeout=P(tr,v,"TestLoadImage: timeout",!1,y,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function gr(c,y){const v=new pe,b=new AbortController,z=setTimeout(()=>{b.abort(),tr(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then($=>{clearTimeout(z),$.ok?tr(v,"TestPingServer: ok",!0,y):tr(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),tr(v,"TestPingServer: error",!1,y)})}function tr(c,y,v,b,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),b(v)}catch{}}function Ba(){this.g=new Xn}function Mr(c,y,v){const b=v||"";try{Bo(c,function(z,$){let ce=z;p(z)&&(ce=Vn(z)),y.push(b+$+"="+encodeURIComponent(ce))})}catch(z){throw y.push(b+"type="+encodeURIComponent("_badmap")),z}}function ji(c){this.l=c.Ub||null,this.j=c.eb||!1}H(ji,Pi),ji.prototype.g=function(){return new oi(this.l,this.j)},ji.prototype.i=(function(c){return function(){return c}})({});function oi(c,y){ot.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}H(oi,ot),i=oi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,xr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Nr(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,xr(this)),this.g&&(this.readyState=3,xr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Nr(this):xr(this),this.readyState==3&&Fo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,Nr(this))},i.Qa=function(c){this.g&&(this.response=c,Nr(this))},i.ga=function(){this.g&&Nr(this)};function Nr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,xr(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function xr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Go(c){let y="";return j(c,function(v,b){y+=b,y+=":",y+=v,y+=`\r
`}),y}function Zt(c,y,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Go(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):pt(c,y,v))}function ht(c){ot.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}H(ht,ot);var As=/^https?$/i,ja=["POST","PUT"];i=ht.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():it.g(),this.v=this.o?ti(this.o):ti(it),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){Au(this,$);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var z in b)v.set(z,b[z]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const $ of b.keys())v.set($,b.get($));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ja,y,void 0))||b||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ce]of v)this.g.setRequestHeader($,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ha(this),this.u=!0,this.g.send(c),this.u=!1}catch($){Au(this,$)}};function Au(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Rs(c),Pr(c)}function Rs(c){c.A||(c.A=!0,Ge(c,"complete"),Ge(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ge(this,"complete"),Ge(this,"abort"),Pr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pr(this,!0)),ht.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Cs(this):this.bb())},i.bb=function(){Cs(this)};function Cs(c){if(c.h&&typeof f<"u"&&(!c.v[1]||nr(c)!=4||c.Z()!=2)){if(c.u&&nr(c)==4)Lt(c.Ea,0,c);else if(Ge(c,"readystatechange"),nr(c)==4){c.h=!1;try{const ce=c.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var b;if(b=ce===0){var z=String(c.D).match(Va)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),b=!As.test(z?z.toLowerCase():"")}v=b}if(v)Ge(c,"complete"),Ge(c,"success");else{c.m=6;try{var $=2<nr(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",Rs(c)}}finally{Pr(c)}}}}function Pr(c,y){if(c.g){Ha(c);const v=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ge(c,"ready");try{v.onreadystatechange=b}catch{}}}function Ha(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function nr(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<nr(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ei(y)}};function Ru(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Kh(c){const y={};c=(c.g&&2<=nr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(de(c[b]))continue;var v=x(c[b]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=y[z]||[];y[z]=$,$.push(v)}N(y,function(b){return b.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qa(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Is(c){this.Aa=0,this.i=[],this.j=new pe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qa("baseRetryDelayMs",5e3,c),this.cb=qa("retryDelaySeedMs",1e4,c),this.Wa=qa("forwardChannelMaxRetries",2,c),this.wa=qa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new bn(c&&c.concurrentRequestLimit),this.Da=new Ba,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Is.prototype,i.la=8,i.G=1,i.connect=function(c,y,v,b){F(0),this.W=c,this.H=y||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.I=xu(this,null,this.W),Os(this)};function Ko(c){if(Cu(c),c.G==3){var y=c.U++,v=kn(c.I);if(pt(v,"SID",c.K),pt(v,"RID",y),pt(v,"TYPE","terminate"),Fa(c,v),y=new lt(c,c.j,y),y.L=2,y.v=Ua(kn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Pu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ln(y)}Nu(c)}function Ds(c){c.g&&(Ga(c),c.g.cancel(),c.g=null)}function Cu(c){Ds(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ms(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Os(c){if(!Tt(c.h)&&!c.s){c.s=!0;var y=c.Ga;le||O(),me||(le(),me=!0),ze.add(y,c),c.B=0}}function Yh(c,y){return pr(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=oe(S(c.Ga,c,y),$o(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new lt(this,this.j,c);let $=this.o;if(this.S&&($?($=A($),M($,this.S)):$=this.S),this.m!==null||this.O||(z.H=$,$=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Iu(this,z,y),v=kn(this.I),pt(v,"RID",c),pt(v,"CVER",22),this.D&&pt(v,"X-HTTP-Session-Id",this.D),Fa(this,v),$&&(this.O?y="headers="+encodeURIComponent(String(Go($)))+"&"+y:this.m&&Zt(v,this.m,$)),zi(this.h,z),this.Ua&&pt(v,"TYPE","init"),this.P?(pt(v,"$req",y),pt(v,"SID","null"),z.T=!0,rn(z,v,null)):rn(z,v,y),this.G=2}}else this.G==3&&(c?Yo(this,c):this.i.length==0||Tt(this.h)||Yo(this))};function Yo(c,y){var v;y?v=y.l:v=c.U++;const b=kn(c.I);pt(b,"SID",c.K),pt(b,"RID",v),pt(b,"AID",c.T),Fa(c,b),c.m&&c.o&&Zt(b,c.m,c.o),v=new lt(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Iu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),zi(c.h,v),rn(v,b,y)}function Fa(c,y){c.H&&j(c.H,function(v,b){pt(y,b,v)}),c.l&&Bo({},function(v,b){pt(y,b,v)})}function Iu(c,y,v){v=Math.min(c.i.length,v);var b=c.l?S(c.l.Na,c.l,c):null;e:{var z=c.i;let $=-1;for(;;){const ce=["count="+v];$==-1?0<v?($=z[0].g,ce.push("ofs="+$)):$=0:ce.push("ofs="+$);let We=!0;for(let Ft=0;Ft<v;Ft++){let et=z[Ft].g;const Jt=z[Ft].map;if(et-=$,0>et)$=Math.max(0,z[Ft].g-100),We=!1;else try{Mr(Jt,ce,"req"+et+"_")}catch{b&&b(Jt)}}if(We){b=ce.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,b}function Du(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;le||O(),me||(le(),me=!0),ze.add(y,c),c.v=0}}function Qo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=oe(S(c.Fa,c),$o(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Ou(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=oe(S(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,F(10),Ds(this),Ou(this))};function Ga(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Ou(c){c.g=new lt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=kn(c.qa);pt(y,"RID","rpc"),pt(y,"SID",c.K),pt(y,"AID",c.T),pt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&pt(y,"TO",c.ja),pt(y,"TYPE","xmlhttp"),Fa(c,y),c.m&&c.o&&Zt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Ua(kn(y)),v.m=null,v.P=!0,Xt(v,c)}i.Za=function(){this.C!=null&&(this.C=null,Ds(this),Qo(this),F(19))};function Ms(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Mu(c,y){var v=null;if(c.g==y){Ms(c),Ga(c),c.g=null;var b=2}else if(ki(c.h,y))v=y.D,An(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;b=Dr(),Ge(b,new re(b,v)),Os(c)}else Du(c);else if(z=y.s,z==3||z==0&&0<y.X||!(b==1&&Yh(c,y)||b==2&&Qo(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),z){case 1:li(c,5);break;case 4:li(c,10);break;case 3:li(c,6);break;default:li(c,2)}}}function $o(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function li(c,y){if(c.j.info("Error code "+y),y==2){var v=S(c.fb,c),b=c.Xa;const z=!b;b=new Ut(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||La(b,"https"),Ua(b),z?za(b.toString(),v):gr(b.toString(),v)}else F(2);c.G=0,c.l&&c.l.sa(y),Nu(c),Cu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),F(2)):(this.j.info("Failed to ping google.com"),F(1))};function Nu(c){if(c.G=0,c.ka=[],c.l){const y=zo(c.h);(y.length!=0||c.i.length!=0)&&(Q(c.ka,y),Q(c.ka,c.i),c.h.i.length=0,J(c.i),c.i.length=0),c.l.ra()}}function xu(c,y,v){var b=v instanceof Ut?kn(v):new Ut(v);if(b.g!="")y&&(b.g=y+"."+b.g),Bi(b,b.s);else{var z=m.location;b=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var $=new Ut(null);b&&La($,b),y&&($.g=y),z&&Bi($,z),v&&($.l=v),b=$}return v=c.D,y=c.ya,v&&y&&pt(b,v,y),pt(b,"VER",c.la),Fa(c,b),b}function Pu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new ht(new ji({eb:v})):new ht(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}i=Vu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ns(){}Ns.prototype.g=function(c,y){return new Rn(c,y)};function Rn(c,y){ot.call(this),this.g=new Is(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!de(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!de(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Vr(this)}H(Rn,ot),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){Ko(this.g)},Rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Vn(c),c=v);y.i.push(new ni(y.Ya++,c)),y.G==3&&Os(y)},Rn.prototype.N=function(){this.g.l=null,delete this.j,Ko(this.g),delete this.g,Rn.aa.N.call(this)};function Lu(c){mr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}H(Lu,mr);function Uu(){Vi.call(this),this.status=1}H(Uu,Vi);function Vr(c){this.g=c}H(Vr,Vu),Vr.prototype.ua=function(){Ge(this.g,"a")},Vr.prototype.ta=function(c){Ge(this.g,new Lu(c))},Vr.prototype.sa=function(c){Ge(this.g,new Uu)},Vr.prototype.ra=function(){Ge(this.g,"b")},Ns.prototype.createWebChannel=Ns.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,F0=function(){return new Ns},q0=function(){return Dr()},H0=Tn,_m={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Te.NO_ERROR=0,Te.TIMEOUT=8,Te.HTTP_ERROR=6,Zc=Te,je.COMPLETE="complete",j0=je,Pa.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",ot.prototype.listen=ot.prototype.K,Hl=Pa,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha,B0=ht}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});const U_="@firebase/firestore",k_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Po="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new Wm("@firebase/firestore");function lo(){return gs.logLevel}function ge(i,...e){if(gs.logLevel<=Ze.DEBUG){const n=e.map(np);gs.debug(`Firestore (${Po}): ${i}`,...n)}}function Ri(i,...e){if(gs.logLevel<=Ze.ERROR){const n=e.map(np);gs.error(`Firestore (${Po}): ${i}`,...n)}}function bo(i,...e){if(gs.logLevel<=Ze.WARN){const n=e.map(np);gs.warn(`Firestore (${Po}): ${i}`,...n)}}function np(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(i,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,G0(i,a,n)}function G0(i,e,n){let a=`FIRESTORE (${Po}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Ri(a),new Error(a)}function It(i,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,i||G0(e,o,a)}function rt(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Di{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(gn.UNAUTHENTICATED)))}shutdown(){}}class dC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class mC{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){It(this.o===void 0,42304);let a=this.i;const o=g=>this.i!==a?(a=this.i,n(g)):Promise.resolve();let u=new hs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new hs,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new hs)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(It(typeof a.accessToken=="string",31837,{l:a}),new K0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return It(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class pC{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class gC{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new pC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class z_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Er(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){It(this.o===void 0,3512);const a=u=>{u.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ge("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const o=u=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new z_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(It(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new z_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<i;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=vC(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function Je(i,e){return i<e?-1:i>e?1:0}function Em(i,e){const n=Math.min(i.length,e.length);for(let a=0;a<n;a++){const o=i.charAt(a),u=e.charAt(a);if(o!==u)return nm(o)===nm(u)?Je(o,u):nm(o)?1:-1}return Je(i.length,e.length)}const _C=55296,EC=57343;function nm(i){const e=i.charCodeAt(0);return e>=_C&&e<=EC}function Ao(i,e,n){return i.length===e.length&&i.every(((a,o)=>n(a,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="__name__";class Hr{constructor(e,n,a){n===void 0?n=0:n>e.length&&He(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&He(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Hr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hr?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=Hr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Je(e.length,n.length)}static compareSegments(e,n){const a=Hr.isNumericId(e),o=Hr.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?Hr.extractNumericId(e).compare(Hr.extractNumericId(n)):Em(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ta.fromString(e.substring(4,e.length-2))}}class Ct extends Hr{construct(e,n,a){return new Ct(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new Re(he.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((o=>o.length>0)))}return new Ct(n)}static emptyPath(){return new Ct([])}}const TC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class In extends Hr{construct(e,n,a){return new In(e,n,a)}static isValidIdentifier(e){return TC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),In.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===B_}static keyField(){return new In([B_])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new Re(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new Re(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Re(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(a+=m,o++):(u(),o++)}if(u(),f)throw new Re(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new In(n)}static emptyPath(){return new In([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Ct.fromString(e))}static fromName(e){return new Me(Ct.fromString(e).popFirst(5))}static empty(){return new Me(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Ct(e.slice()))}}function SC(i,e,n,a){if(e===!0&&a===!0)throw new Re(he.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function j_(i){if(Me.isDocumentKey(i))throw new Re(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function wC(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function bC(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":He(12329,{type:typeof i})}function Tm(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Re(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bC(i);throw new Re(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(i,e){const n={typeString:i};return e&&(n.value=e),n}function mu(i,e){if(!wC(i))throw new Re(he.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in i)){n=`JSON missing required field: '${a}'`;break}const f=i[a];if(o&&typeof f!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new Re(he.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=-62135596800,q_=1e6;class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*q_);return new jt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Re(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Re(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<H_)throw new Re(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/q_}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mu(e,jt._jsonSchema))return new jt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-H_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}jt._jsonSchemaVersion="firestore/timestamp/1.0",jt._jsonSchema={type:Ht("string",jt._jsonSchemaVersion),seconds:Ht("number"),nanoseconds:Ht("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new jt(0,0))}static max(){return new ke(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=-1;function AC(i,e){const n=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,o=ke.fromTimestamp(a===1e9?new jt(n+1,0):new jt(n,a));return new Aa(o,Me.empty(),e)}function RC(i){return new Aa(i.readTime,i.key,ru)}class Aa{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Aa(ke.min(),Me.empty(),ru)}static max(){return new Aa(ke.max(),Me.empty(),ru)}}function CC(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Me.comparator(i.documentKey,e.documentKey),n!==0?n:Je(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(i){if(i.code!==he.FAILED_PRECONDITION||i.message!==IC)throw i;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&He(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,a)=>{n(e)}))}static reject(e){return new ie(((n,a)=>{a(e)}))}static waitFor(e){return new ie(((n,a)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>a(g)))})),f=!0,u===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const a of e)n=n.next((o=>o?ie.resolve(o):a()));return n}static forEach(e,n){const a=[];return e.forEach(((o,u)=>{a.push(n.call(this,o,u))})),this.waitFor(a)}static mapArray(e,n){return new ie(((a,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next((E=>{f[p]=E,++m,m===u&&a(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ie(((a,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):a()};u()}))}}function OC(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ih.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=-1;function Dh(i){return i==null}function Sm(i){return i===0&&1/i==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="";function NC(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=F_(e)),e=xC(i.get(n),e);return F_(e)}function xC(i,e){let n=e;const a=i.length;for(let o=0;o<a;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case Q0:n+="";break;default:n+=u}}return n}function F_(i){return i+Q0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function pu(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function PC(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new Pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jc(this.root,e,this.comparator,!0)}}class jc{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??un.RED,this.left=o??un.EMPTY,this.right=u??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new un(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return un.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw He(43730,{key:this.key,value:this.value});if(this.right.isRed())throw He(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw He(27949);return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw He(57766)}get value(){throw He(16141)}get color(){throw He(16727)}get left(){throw He(29726)}get right(){throw He(36894)}copy(e,n,a,o,u){return this}insert(e,n,a){return new un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new K_(this.data.getIterator())}getIteratorFrom(e){return new K_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new $t(this.comparator);return n.data=e,n}}class K_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.fields=e,e.sort(In.comparator)}static empty(){return new ga([])}unionWith(e){let n=new $t(In.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new ga(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ao(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new $0("Invalid base64 string: "+u):u}})(e);return new cn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const VC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ra(i){if(It(!!i,39018),typeof i=="string"){let e=0;const n=VC.exec(i);if(It(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:xt(i.seconds),nanos:xt(i.nanos)}}function xt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ca(i){return typeof i=="string"?cn.fromBase64String(i):cn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="server_timestamp",Z0="__type__",J0="__previous_value__",W0="__local_write_time__";function rp(i){return(i?.mapValue?.fields||{})[Z0]?.stringValue===X0}function Oh(i){const e=i.mapValue.fields[J0];return rp(e)?Oh(e):e}function iu(i){const e=Ra(i.mapValue.fields[W0].timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,n,a,o,u,f,m,g,p,E){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=E}}const hh="(default)";class au{constructor(e,n){this.projectId=e,this.database=n||hh}static empty(){return new au("","")}get isDefaultDatabase(){return this.database===hh}isEqual(e){return e instanceof au&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="__type__",kC="__max__",Hc={mapValue:{}},zC="__vector__",wm="value";function Ia(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?rp(i)?4:jC(i)?9007199254740991:BC(i)?10:11:He(28295,{value:i})}function Qr(i,e){if(i===e)return!0;const n=Ia(i);if(n!==Ia(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return iu(i).isEqual(iu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ra(o.timestampValue),m=Ra(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Ca(o.bytesValue).isEqual(Ca(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return xt(o.geoPointValue.latitude)===xt(u.geoPointValue.latitude)&&xt(o.geoPointValue.longitude)===xt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return xt(o.integerValue)===xt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=xt(o.doubleValue),m=xt(u.doubleValue);return f===m?Sm(f)===Sm(m):isNaN(f)&&isNaN(m)}return!1})(i,e);case 9:return Ao(i.arrayValue.values||[],e.arrayValue.values||[],Qr);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(G_(f)!==G_(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Qr(f[g],m[g])))return!1;return!0})(i,e);default:return He(52216,{left:i})}}function su(i,e){return(i.values||[]).find((n=>Qr(n,e)))!==void 0}function Ro(i,e){if(i===e)return 0;const n=Ia(i),a=Ia(e);if(n!==a)return Je(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Je(i.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=xt(u.integerValue||u.doubleValue),g=xt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(i,e);case 3:return Y_(i.timestampValue,e.timestampValue);case 4:return Y_(iu(i),iu(e));case 5:return Em(i.stringValue,e.stringValue);case 6:return(function(u,f){const m=Ca(u),g=Ca(f);return m.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let p=0;p<m.length&&p<g.length;p++){const E=Je(m[p],g[p]);if(E!==0)return E}return Je(m.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Je(xt(u.latitude),xt(f.latitude));return m!==0?m:Je(xt(u.longitude),xt(f.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return Q_(i.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},p=m[wm]?.arrayValue,E=g[wm]?.arrayValue,w=Je(p?.values?.length||0,E?.values?.length||0);return w!==0?w:Q_(p,E)})(i.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Hc.mapValue&&f===Hc.mapValue)return 0;if(u===Hc.mapValue)return 1;if(f===Hc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=f.fields||{},E=Object.keys(p);g.sort(),E.sort();for(let w=0;w<g.length&&w<E.length;++w){const S=Em(g[w],E[w]);if(S!==0)return S;const P=Ro(m[g[w]],p[E[w]]);if(P!==0)return P}return Je(g.length,E.length)})(i.mapValue,e.mapValue);default:throw He(23264,{he:n})}}function Y_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Je(i,e);const n=Ra(i),a=Ra(e),o=Je(n.seconds,a.seconds);return o!==0?o:Je(n.nanos,a.nanos)}function Q_(i,e){const n=i.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=Ro(n[o],a[o]);if(u)return u}return Je(n.length,a.length)}function Co(i){return bm(i)}function bm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const a=Ra(n);return`time(${a.seconds},${a.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Ca(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return Me.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=bm(u);return a+"]"})(i.arrayValue):"mapValue"in i?(function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${bm(n.fields[f])}`;return o+"}"})(i.mapValue):He(61005,{value:i})}function Jc(i){switch(Ia(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Oh(i);return e?16+Jc(e):16;case 5:return 2*i.stringValue.length;case 6:return Ca(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,u)=>o+Jc(u)),0)})(i.arrayValue);case 10:case 11:return(function(a){let o=0;return pu(a.fields,((u,f)=>{o+=u.length+Jc(f)})),o})(i.mapValue);default:throw He(13486,{value:i})}}function Am(i){return!!i&&"integerValue"in i}function ip(i){return!!i&&"arrayValue"in i}function $_(i){return!!i&&"nullValue"in i}function X_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function rm(i){return!!i&&"mapValue"in i}function BC(i){return(i?.mapValue?.fields||{})[UC]?.stringValue===zC}function Kl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return pu(i.mapValue.fields,((n,a)=>e.mapValue.fields[n]=Kl(a))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kl(i.arrayValue.values[n]);return e}return{...i}}function jC(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===kC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.value=e}static empty(){return new qr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!rm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(n)}setAll(e){let n=In.emptyPath(),a={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,a,o),a={},o=[],n=m.popLast()}f?a[m.lastSegment()]=Kl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());rm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];rm(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){pu(n,((o,u)=>e[o]=u));for(const o of a)delete e[o]}clone(){return new qr(Kl(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n,a,o,u,f,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new yn(e,0,ke.min(),ke.min(),ke.min(),qr.empty(),0)}static newFoundDocument(e,n,a,o){return new yn(e,1,n,ke.min(),a,o,0)}static newNoDocument(e,n){return new yn(e,2,n,ke.min(),ke.min(),qr.empty(),0)}static newUnknownDocument(e,n){return new yn(e,3,n,ke.min(),ke.min(),qr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n){this.position=e,this.inclusive=n}}function Z_(i,e,n){let a=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?a=Me.comparator(Me.fromName(f.referenceValue),n.key):a=Ro(f,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function J_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Qr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n="asc"){this.field=e,this.dir=n}}function HC(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{}class Qt extends eT{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new FC(e,n,a):n==="array-contains"?new YC(e,a):n==="in"?new QC(e,a):n==="not-in"?new $C(e,a):n==="array-contains-any"?new XC(e,a):new Qt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new GC(e,a):new KC(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ro(n,this.value)):n!==null&&Ia(this.value)===Ia(n)&&this.matchesComparison(Ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $r extends eT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new $r(e,n)}matches(e){return tT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function tT(i){return i.op==="and"}function nT(i){return qC(i)&&tT(i)}function qC(i){for(const e of i.filters)if(e instanceof $r)return!1;return!0}function Rm(i){if(i instanceof Qt)return i.field.canonicalString()+i.op.toString()+Co(i.value);if(nT(i))return i.filters.map((e=>Rm(e))).join(",");{const e=i.filters.map((n=>Rm(n))).join(",");return`${i.op}(${e})`}}function rT(i,e){return i instanceof Qt?(function(a,o){return o instanceof Qt&&a.op===o.op&&a.field.isEqual(o.field)&&Qr(a.value,o.value)})(i,e):i instanceof $r?(function(a,o){return o instanceof $r&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((u,f,m)=>u&&rT(f,o.filters[m])),!0):!1})(i,e):void He(19439)}function iT(i){return i instanceof Qt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Co(n.value)}`})(i):i instanceof $r?(function(n){return n.op.toString()+" {"+n.getFilters().map(iT).join(" ,")+"}"})(i):"Filter"}class FC extends Qt{constructor(e,n,a){super(e,n,a),this.key=Me.fromName(a.referenceValue)}matches(e){const n=Me.comparator(e.key,this.key);return this.matchesComparison(n)}}class GC extends Qt{constructor(e,n){super(e,"in",n),this.keys=aT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class KC extends Qt{constructor(e,n){super(e,"not-in",n),this.keys=aT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function aT(i,e){return(e.arrayValue?.values||[]).map((n=>Me.fromName(n.referenceValue)))}class YC extends Qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ip(n)&&su(n.arrayValue,this.value)}}class QC extends Qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&su(this.value.arrayValue,n)}}class $C extends Qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!su(this.value.arrayValue,n)}}class XC extends Qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ip(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>su(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,n=null,a=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function W_(i,e=null,n=[],a=[],o=null,u=null,f=null){return new ZC(i,e,n,a,o,u,f)}function ap(i){const e=rt(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>Rm(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),Dh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>Co(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>Co(a))).join(",")),e.Te=n}return e.Te}function sp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!HC(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!rT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!J_(i.startAt,e.startAt)&&J_(i.endAt,e.endAt)}function Cm(i){return Me.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n=null,a=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function JC(i,e,n,a,o,u,f,m){return new Mh(i,e,n,a,o,u,f,m)}function sT(i){return new Mh(i)}function eE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function WC(i){return i.collectionGroup!==null}function Yl(i){const e=rt(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new $t(In.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new dh(u,a))})),n.has(In.keyField().canonicalString())||e.Ie.push(new dh(In.keyField(),a))}return e.Ie}function Kr(i){const e=rt(i);return e.Ee||(e.Ee=eI(e,Yl(i))),e.Ee}function eI(i,e){if(i.limitType==="F")return W_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new dh(o.field,u)}));const n=i.endAt?new fh(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new fh(i.startAt.position,i.startAt.inclusive):null;return W_(i.path,i.collectionGroup,e,i.filters,i.limit,n,a)}}function Im(i,e,n){return new Mh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Nh(i,e){return sp(Kr(i),Kr(e))&&i.limitType===e.limitType}function oT(i){return`${ap(Kr(i))}|lt:${i.limitType}`}function uo(i){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((o=>iT(o))).join(", ")}]`),Dh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((o=>Co(o))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((o=>Co(o))).join(",")),`Target(${a})`})(Kr(i))}; limitType=${i.limitType})`}function xh(i,e){return e.isFoundDocument()&&(function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Me.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(i,e)&&(function(a,o){for(const u of Yl(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(a,o){return!(a.startAt&&!(function(f,m,g){const p=Z_(f,m,g);return f.inclusive?p<=0:p<0})(a.startAt,Yl(a),o)||a.endAt&&!(function(f,m,g){const p=Z_(f,m,g);return f.inclusive?p>=0:p>0})(a.endAt,Yl(a),o))})(i,e)}function tI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function lT(i){return(e,n)=>{let a=!1;for(const o of Yl(i)){const u=nI(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function nI(i,e,n){const a=i.field.isKeyField()?Me.comparator(e.key,n.key):(function(u,f,m){const g=f.data.field(u),p=m.data.field(u);return g!==null&&p!==null?Ro(g,p):He(42886)})(i.field,e,n);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return He(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){pu(this.inner,((n,a)=>{for(const[o,u]of a)e(o,u)}))}isEmpty(){return PC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=new Pt(Me.comparator);function Da(){return rI}const uT=new Pt(Me.comparator);function ql(...i){let e=uT;for(const n of i)e=e.insert(n.key,n);return e}function iI(i){let e=uT;return i.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function us(){return Ql()}function cT(){return Ql()}function Ql(){return new Es((i=>i.toString()),((i,e)=>i.isEqual(e)))}const aI=new $t(Me.comparator);function at(...i){let e=aI;for(const n of i)e=e.add(n);return e}const sI=new $t(Je);function oI(){return sI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sm(e)?"-0":e}}function uI(i){return{integerValue:""+i}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(){this._=void 0}}function cI(i,e,n){return i instanceof Dm?(function(o,u){const f={fields:{[Z0]:{stringValue:X0},[W0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&rp(u)&&(u=Oh(u)),u&&(f.fields[J0]=u),{mapValue:f}})(n,e):i instanceof mh?hT(i,e):i instanceof ph?fT(i,e):(function(o,u){const f=fI(o,u),m=tE(f)+tE(o.Ae);return Am(f)&&Am(o.Ae)?uI(m):lI(o.serializer,m)})(i,e)}function hI(i,e,n){return i instanceof mh?hT(i,e):i instanceof ph?fT(i,e):n}function fI(i,e){return i instanceof Om?(function(a){return Am(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class Dm extends Ph{}class mh extends Ph{constructor(e){super(),this.elements=e}}function hT(i,e){const n=dT(e);for(const a of i.elements)n.some((o=>Qr(o,a)))||n.push(a);return{arrayValue:{values:n}}}class ph extends Ph{constructor(e){super(),this.elements=e}}function fT(i,e){let n=dT(e);for(const a of i.elements)n=n.filter((o=>!Qr(o,a)));return{arrayValue:{values:n}}}class Om extends Ph{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function tE(i){return xt(i.integerValue||i.doubleValue)}function dT(i){return ip(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function dI(i,e){return i.field.isEqual(e.field)&&(function(a,o){return a instanceof mh&&o instanceof mh||a instanceof ph&&o instanceof ph?Ao(a.elements,o.elements,Qr):a instanceof Om&&o instanceof Om?Qr(a.Ae,o.Ae):a instanceof Dm&&o instanceof Dm})(i.transform,e.transform)}class fs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new fs}static exists(e){return new fs(void 0,e)}static updateTime(e){return new fs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wc(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class op{}function mT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new pI(i.key,fs.none()):new lp(i.key,i.data,fs.none());{const n=i.data,a=qr.empty();let o=new $t(In.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new Vh(i.key,a,new ga(o.toArray()),fs.none())}}function mI(i,e,n){i instanceof lp?(function(o,u,f){const m=o.value.clone(),g=rE(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Vh?(function(o,u,f){if(!Wc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=rE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(pT(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(i,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function $l(i,e,n,a){return i instanceof lp?(function(u,f,m,g){if(!Wc(u.precondition,f))return m;const p=u.value.clone(),E=iE(u.fieldTransforms,g,f);return p.setAll(E),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null})(i,e,n,a):i instanceof Vh?(function(u,f,m,g){if(!Wc(u.precondition,f))return m;const p=iE(u.fieldTransforms,g,f),E=f.data;return E.setAll(pT(u)),E.setAll(p),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(i,e,n,a):(function(u,f,m){return Wc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(i,e,n)}function nE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Ao(a,o,((u,f)=>dI(u,f)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class lp extends op{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Vh extends op{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function pT(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=i.data.field(n);e.set(n,a)}})),e}function rE(i,e,n){const a=new Map;It(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);a.set(u.field,hI(f,m,n[o]))}return a}function iE(i,e,n){const a=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);a.set(o.field,cI(u,f,e))}return a}class pI extends op{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&mI(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=$l(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=$l(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=cT();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=mT(f,m);g!==null&&a.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(ke.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),at())}isEqual(e){return this.batchId===e.batchId&&Ao(this.mutations,e.mutations,((n,a)=>nE(n,a)))&&Ao(this.baseMutations,e.baseMutations,((n,a)=>nE(n,a)))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,nt;function gT(i){if(i===void 0)return Ri("GRPC error has no .code"),he.UNKNOWN;switch(i){case Bt.OK:return he.OK;case Bt.CANCELLED:return he.CANCELLED;case Bt.UNKNOWN:return he.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return he.INTERNAL;case Bt.UNAVAILABLE:return he.UNAVAILABLE;case Bt.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Bt.NOT_FOUND:return he.NOT_FOUND;case Bt.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Bt.ABORTED:return he.ABORTED;case Bt.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Bt.DATA_LOSS:return he.DATA_LOSS;default:return He(39323,{code:i})}}(nt=Bt||(Bt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=new Ta([4294967295,4294967295],0);function aE(i){const e=_I().encode(i),n=new z0;return n.update(e),new Uint8Array(n.digest())}function sE(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ta([n,a],0),new Ta([o,u],0)]}class up{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Fl(`Invalid padding: ${n}`);if(a<0)throw new Fl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ta.fromNumber(this.ge)}ye(e,n,a){let o=e.add(n.multiply(Ta.fromNumber(a)));return o.compare(EI)===1&&(o=new Ta([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=aE(e),[a,o]=sE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(a,o,u);if(!this.we(f))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new up(u,o,n);return a.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=aE(e),[a,o]=sE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(a,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,gu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Lh(ke.min(),o,new Pt(Je),Da(),at())}}class gu{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new gu(a,n,at(),at(),at())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n,a,o){this.be=e,this.removedTargetIds=n,this.key=a,this.De=o}}class yT{constructor(e,n){this.targetId=e,this.Ce=n}}class vT{constructor(e,n,a=cn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class oE{constructor(){this.ve=0,this.Fe=lE(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=at(),n=at(),a=at();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:He(38017,{changeType:u})}})),new gu(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=lE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,It(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class TI{constructor(e){this.Ge=e,this.ze=new Map,this.je=Da(),this.Je=qc(),this.He=qc(),this.Ye=new Pt(Je)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:He(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,a=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Cm(u))if(a===0){const f=new Me(u.path);this.et(n,f,yn.newNoDocument(f,ke.min()))}else It(a===1,20013,{expectedCount:a});else{const f=this._t(n);if(f!==a){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Ca(a).toUint8Array()}catch(g){if(g instanceof $0)return bo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new up(f,o,u)}catch(g){return bo(g instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let o=0;return a.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Cm(m.target)){const g=new Me(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,yn.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let a=at();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(a=a.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Lh(e,n,this.Ye,this.je,a);return this.je=Da(),this.Je=qc(),this.He=qc(),this.Ye=new Pt(Je),o}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new oE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new $t(Je),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new $t(Je),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new oE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function qc(){return new Pt(Me.comparator)}function lE(){return new Pt(Me.comparator)}const SI={asc:"ASCENDING",desc:"DESCENDING"},wI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bI={and:"AND",or:"OR"};class AI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Mm(i,e){return i.useProto3Json||Dh(e)?e:{value:e}}function RI(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CI(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function mo(i){return It(!!i,49232),ke.fromTimestamp((function(n){const a=Ra(n);return new jt(a.seconds,a.nanos)})(i))}function II(i,e){return Nm(i,e).canonicalString()}function Nm(i,e){const n=(function(o){return new Ct(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function _T(i){const e=Ct.fromString(i);return It(bT(e),10190,{key:e.toString()}),e}function im(i,e){const n=_T(e);if(n.get(1)!==i.databaseId.projectId)throw new Re(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Re(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Me(TT(n))}function ET(i,e){return II(i.databaseId,e)}function DI(i){const e=_T(i);return e.length===4?Ct.emptyPath():TT(e)}function uE(i){return new Ct(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function TT(i){return It(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function OI(i,e){let n;if("targetChange"in e){e.targetChange;const a=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:He(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,E){return p.useProto3Json?(It(E===void 0||typeof E=="string",58123),cn.fromBase64String(E||"")):(It(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),cn.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(p){const E=p.code===void 0?he.UNKNOWN:gT(p.code);return new Re(E,p.message||"")})(f);n=new vT(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=im(i,a.document.name),u=mo(a.document.updateTime),f=a.document.createTime?mo(a.document.createTime):ke.min(),m=new qr({mapValue:{fields:a.document.fields}}),g=yn.newFoundDocument(o,u,f,m),p=a.targetIds||[],E=a.removedTargetIds||[];n=new eh(p,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=im(i,a.document),u=a.readTime?mo(a.readTime):ke.min(),f=yn.newNoDocument(o,u),m=a.removedTargetIds||[];n=new eh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=im(i,a.document),u=a.removedTargetIds||[];n=new eh([],u,o,null)}else{if(!("filter"in e))return He(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new vI(o,u),m=a.targetId;n=new yT(m,f)}}return n}function MI(i,e){return{documents:[ET(i,e.path)]}}function NI(i,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=ET(i,o);const u=(function(p){if(p.length!==0)return wT($r.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(p){if(p.length!==0)return p.map((E=>(function(S){return{field:co(S.field),direction:VI(S.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Mm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function xI(i){let e=DI(i.parent);const n=i.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){It(a===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(w){const S=ST(w);return S instanceof $r&&nT(S)?S.getFilters():[S]})(n.where));let f=[];n.orderBy&&(f=(function(w){return w.map((S=>(function(H){return new dh(ho(H.field),(function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(w){let S;return S=typeof w=="object"?w.value:w,Dh(S)?null:S})(n.limit));let g=null;n.startAt&&(g=(function(w){const S=!!w.before,P=w.values||[];return new fh(P,S)})(n.startAt));let p=null;return n.endAt&&(p=(function(w){const S=!w.before,P=w.values||[];return new fh(P,S)})(n.endAt)),JC(e,o,f,u,m,"F",g,p)}function PI(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ST(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=ho(n.unaryFilter.field);return Qt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ho(n.unaryFilter.field);return Qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ho(n.unaryFilter.field);return Qt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ho(n.unaryFilter.field);return Qt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return He(61313);default:return He(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Qt.create(ho(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return He(58110);default:return He(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return $r.create(n.compositeFilter.filters.map((a=>ST(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return He(1026)}})(n.compositeFilter.op))})(i):He(30097,{filter:i})}function VI(i){return SI[i]}function LI(i){return wI[i]}function UI(i){return bI[i]}function co(i){return{fieldPath:i.canonicalString()}}function ho(i){return In.fromServerFormat(i.fieldPath)}function wT(i){return i instanceof Qt?(function(n){if(n.op==="=="){if(X_(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NAN"}};if($_(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(X_(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NAN"}};if($_(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:co(n.field),op:LI(n.op),value:n.value}}})(i):i instanceof $r?(function(n){const a=n.getFilters().map((o=>wT(o)));return a.length===1?a[0]:{compositeFilter:{op:UI(n.op),filters:a}}})(i):He(54877,{filter:i})}function bT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n,a,o,u=ke.min(),f=ke.min(),m=cn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new ya(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e){this.yt=e}}function zI(i){const e=xI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Im(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(){this.Cn=new jI}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Aa.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Aa.min())}updateCollectionGroup(e,n,a){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class jI{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new $t(Ct.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new $t(Ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AT=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(AT,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Io(0)}static cr(){return new Io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="LruGarbageCollector",HI=1048576;function fE([i,e],[n,a]){const o=Je(i,n);return o===0?Je(e,a):o}class qI{constructor(e){this.Ir=e,this.buffer=new $t(fE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();fE(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class FI{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(hE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vo(n)?ge(hE,"Ignoring IndexedDB error during garbage collection: ",n):await Ch(n)}await this.Vr(3e5)}))}}class GI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Ih.ce);const a=new qI(n);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(cE)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,o,u,f,m,g,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(a=w,m=Date.now(),this.removeTargets(e,a,n)))).next((w=>(u=w,g=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(p=Date.now(),lo()<=Ze.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${w} documents in `+(p-g)+`ms
Total Duration: ${p-E}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w}))))}}function KI(i,e){return new GI(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(){this.changes=new Es((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ie.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(a!==null&&$l(a.mutation,o,ga.empty(),jt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,at()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=at()){const o=us();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,a).next((u=>{let f=ql();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const a=us();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,at())))}populateOverlays(e,n,a){const o=[];return a.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,a,o){let u=Da();const f=Ql(),m=(function(){return Ql()})();return n.forEach(((g,p)=>{const E=a.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof Vh)?u=u.insert(p.key,p):E!==void 0?(f.set(p.key,E.mutation.getFieldMask()),$l(E.mutation,p,E.mutation.getFieldMask(),jt.now())):f.set(p.key,ga.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((p,E)=>f.set(p,E))),n.forEach(((p,E)=>m.set(p,new QI(E,f.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const a=Ql();let o=new Pt(((f,m)=>f-m)),u=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let E=a.get(g)||ga.empty();E=m.applyToLocalView(p,E),a.set(g,E);const w=(o.get(m.batchId)||at()).add(g);o=o.insert(m.batchId,w)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,E=g.value,w=cT();E.forEach((S=>{if(!u.has(S)){const P=mT(n.get(S),a.get(S));P!==null&&w.set(S,P),u=u.add(S)}})),f.push(this.documentOverlayCache.saveOverlays(e,p,w))}return ie.waitFor(f)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,o){return(function(f){return Me.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):WC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):ie.resolve(us());let m=ru,g=u;return f.next((p=>ie.forEach(p,((E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?ie.resolve():this.remoteDocumentCache.getEntry(e,E).next((S=>{g=g.insert(E,S)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,g,p,at()))).next((E=>({batchId:m,changes:iI(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Me(n)).next((a=>{let o=ql();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let f=ql();return this.indexManager.getCollectionParents(e,u).next((m=>ie.forEach(m,(g=>{const p=(function(w,S){return new Mh(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,a,o).next((E=>{E.forEach(((w,S)=>{f=f.insert(w,S)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o)))).next((f=>{u.forEach(((g,p)=>{const E=p.getKey();f.get(E)===null&&(f=f.insert(E,yn.newInvalidDocument(E)))}));let m=ql();return f.forEach(((g,p)=>{const E=u.get(g);E!==void 0&&$l(E.mutation,p,ga.empty(),jt.now()),xh(n,p)&&(m=m.insert(g,p))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:mo(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:zI(o.bundledQuery),readTime:mo(o.readTime)}})(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(){this.overlays=new Pt(Me.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const a=us();return ie.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&a.set(o,u)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((o,u)=>{this.St(e,n,u)})),ie.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(a)),ie.resolve()}getOverlaysForCollection(e,n,a){const o=us(),u=n.length+1,f=new Me(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>a&&o.set(g.getKey(),g)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new Pt(((p,E)=>p-E));const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>a){let E=u.get(p.largestBatchId);E===null&&(E=us(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=us(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,E)=>m.set(p,E))),!(m.size()>=o)););return ie.resolve(m)}St(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new yI(n,a));let u=this.qr.get(n);u===void 0&&(u=at(),this.qr.set(n,u)),this.qr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(){this.Qr=new $t(nn.$r),this.Ur=new $t(nn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new nn(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Gr(new nn(e,n))}zr(e,n){e.forEach((a=>this.removeReference(a,n)))}jr(e){const n=new Me(new Ct([])),a=new nn(n,e),o=new nn(n,e+1),u=[];return this.Ur.forEachInRange([a,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Me(new Ct([])),a=new nn(n,e),o=new nn(n,e+1);let u=at();return this.Ur.forEachInRange([a,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new nn(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class nn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Me.comparator(e.key,n.key)||Je(e.Yr,n.Yr)}static Kr(e,n){return Je(e.Yr,n.Yr)||Me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new $t(nn.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new gI(u,n,a,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new nn(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(f)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.ei(a),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?MC:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new nn(n,0),o=new nn(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new $t(Je);return n.forEach((o=>{const u=new nn(o,0),f=new nn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{a=a.add(m.Yr)}))})),ie.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;Me.isDocumentKey(u)||(u=u.child(""));const f=new nn(new Me(u),0);let m=new $t(Je);return this.Zr.forEachWhile((g=>{const p=g.key.path;return!!a.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Yr)),!0)}),f),ie.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){It(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return ie.forEach(n.mutations,(o=>{const u=new nn(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,n){const a=new nn(n,0),o=this.Zr.firstAfterOrEqual(a);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.ri=e,this.docs=(function(){return new Pt(Me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ie.resolve(a?a.document.mutableCopy():yn.newInvalidDocument(n))}getEntries(e,n){let a=Da();return n.forEach((o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():yn.newInvalidDocument(o))})),ie.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=Da();const f=n.path,m=new Me(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:E}}=g.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||CC(RC(E),a)<=0||(o.has(E.key)||xh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,a,o){He(9500)}ii(e,n){return ie.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new t2(this)}getSize(e){return ie.resolve(this.size)}}class t2 extends YI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e){this.persistence=e,this.si=new Es((n=>ap(n)),sp),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.oi=0,this._i=new cp,this.targetCount=0,this.ai=Io.ur()}forEachTarget(e,n){return this.si.forEach(((a,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Io(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(u).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return ie.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),ie.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return ie.resolve(a)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ih(0),this.li=!1,this.li=!0,this.hi=new JI,this.referenceDelegate=e(this),this.Pi=new n2(this),this.indexManager=new BI,this.remoteDocumentCache=(function(o){return new e2(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new kI(n),this.Ii=new XI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ZI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new WI(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){ge("MemoryPersistence","Starting transaction:",e);const o=new r2(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ie.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,n))))}}class r2 extends DC{constructor(e){super(),this.currentSequenceNumber=e}}class hp{constructor(e){this.persistence=e,this.Ri=new cp,this.Vi=null}static mi(e){return new hp(e)}get fi(){if(this.Vi)return this.Vi;throw He(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),ie.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>a.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(a=>{const o=Me.fromPath(a);return this.gi(e,o).next((u=>{u||n.removeEntry(o,ke.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class gh{constructor(e,n){this.persistence=e,this.pi=new Es((a=>NC(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=KI(this,n)}static mi(e,n){return new gh(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((o=>a+o))))}wr(e){let n=0;return this.pr(e,(a=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((a,o)=>this.br(e,a,o).next((u=>u?ie.resolve():n(o)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(a++,u.removeEntry(f,ke.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Jc(e.data.value)),n}br(e,n,a){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ie.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=o}static As(e,n){let a=at(),o=at();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new fp(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return K1()?8:OC(vn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,a).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new i2;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,a,o){return a.documentReadCount<this.fs?(lo()<=Ze.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",uo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(lo()<=Ze.DEBUG&&ge("QueryEngine","Query:",uo(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(lo()<=Ze.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",uo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kr(n))):ie.resolve())}ys(e,n){if(eE(n))return ie.resolve(null);let a=Kr(n);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Im(n,null,"F"),a=Kr(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const f=at(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,a).next((g=>{const p=this.Ds(n,m);return this.Cs(n,p,f,g.readTime)?this.ys(e,Im(n,null,"F")):this.vs(e,p,n,g)}))))})))))}ws(e,n,a,o){return eE(n)||o.isEqual(ke.min())?ie.resolve(null):this.ps.getDocuments(e,a).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,a,o)?ie.resolve(null):(lo()<=Ze.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),uo(n)),this.vs(e,f,n,AC(o,ru)).next((m=>m)))}))}Ds(e,n){let a=new $t(lT(e));return n.forEach(((o,u)=>{xh(e,u)&&(a=a.add(u))})),a}Cs(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,a){return lo()<=Ze.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",uo(n)),this.ps.getDocumentsMatchingQuery(e,n,Aa.min(),a)}vs(e,n,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="LocalStore",s2=3e8;class o2{constructor(e,n,a,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Pt(Je),this.xs=new Es((u=>ap(u)),sp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $I(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function l2(i,e,n,a){return new o2(i,e,n,a)}async function CT(i,e){const n=rt(i);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(a)))).next((u=>{const f=[],m=[];let g=at();for(const p of o){f.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(a,g).next((p=>({Ls:p,removedBatchIds:f,addedBatchIds:m})))}))}))}function IT(i){const e=rt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function u2(i,e){const n=rt(i),a=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,w)=>{const S=o.get(w);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,w).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,w))));let P=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?P=P.withResumeToken(cn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,a)),o=o.insert(w,P),(function(J,Q,Z){return J.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=s2?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(S,P,E)&&m.push(n.Pi.updateTargetData(u,P))}));let g=Da(),p=at();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(c2(u,f,e.documentUpdates).next((E=>{g=E.ks,p=E.qs}))),!a.isEqual(ke.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((w=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a)));m.push(E)}return ie.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function c2(i,e,n){let a=at(),o=at();return n.forEach((u=>a=a.add(u))),e.getEntries(i,a).next((u=>{let f=Da();return n.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(ke.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):ge(dp,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function h2(i,e){const n=rt(i);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return n.Pi.getTargetData(a,e).next((u=>u?(o=u,ie.resolve(o)):n.Pi.allocateTargetId(a).next((f=>(o=new ya(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=n.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a}))}async function xm(i,e,n){const a=rt(i),o=a.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,(f=>a.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Vo(f))throw f;ge(dp,`Failed to update sequence numbers for target ${e}: ${f}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function dE(i,e,n){const a=rt(i);let o=ke.min(),u=at();return a.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,p,E){const w=rt(g),S=w.xs.get(E);return S!==void 0?ie.resolve(w.Ms.get(S)):w.Pi.getTargetData(p,E)})(a,f,Kr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>a.Fs.getDocumentsMatchingQuery(f,e,n?o:ke.min(),n?u:at()))).next((m=>(f2(a,tI(e),m),{documents:m,Qs:u})))))}function f2(i,e,n){let a=i.Os.get(e)||ke.min();n.forEach(((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),i.Os.set(e,a)}class mE{constructor(){this.activeTargetIds=oI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class d2{constructor(){this.Mo=new mE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new mE,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="ConnectivityMonitor";class gE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(pE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(pE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc=null;function Pm(){return Fc===null?Fc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fc++,"0x"+Fc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="RestConnection",p2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class g2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===hh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,n,a,o,u){const f=Pm(),m=this.zo(e,n.toUriEncodedString());ge(am,`Sending RPC '${e}' ${f}:`,m,a);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:p}=new URL(m),E=No(p);return this.Jo(e,m,g,a,E).then((w=>(ge(am,`Received RPC '${e}' ${f}: `,w),w)),(w=>{throw bo(am,`RPC '${e}' ${f} failed with error: `,w,"url: ",m,"request:",a),w}))}Ho(e,n,a,o,u,f){return this.Go(e,n,a,o,u)}jo(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Po})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),a&&a.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const a=p2[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class v2 extends g2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,o,u){const f=Pm();return new Promise(((m,g)=>{const p=new B0;p.setWithCredentials(!0),p.listenOnce(j0.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Zc.NO_ERROR:const w=p.getResponseJson();ge(pn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case Zc.TIMEOUT:ge(pn,`RPC '${e}' ${f} timed out`),g(new Re(he.DEADLINE_EXCEEDED,"Request time out"));break;case Zc.HTTP_ERROR:const S=p.getStatus();if(ge(pn,`RPC '${e}' ${f} failed with status:`,S,"response text:",p.getResponseText()),S>0){let P=p.getResponseJson();Array.isArray(P)&&(P=P[0]);const H=P?.error;if(H&&H.status&&H.message){const J=(function(Z){const de=Z.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(de)>=0?de:he.UNKNOWN})(H.status);g(new Re(J,H.message))}else g(new Re(he.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new Re(he.UNAVAILABLE,"Connection failed."));break;default:He(9055,{l_:e,streamId:f,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ge(pn,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ge(pn,`RPC '${e}' ${f} sending request:`,o),p.send(n,"POST",E,a,15)}))}T_(e,n,a){const o=Pm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=F0(),m=q0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,a),g.encodeInitMessageHeaders=!0;const E=u.join("");ge(pn,`Creating RPC '${e}' stream ${o}: ${E}`,g);const w=f.createWebChannel(E,g);this.I_(w);let S=!1,P=!1;const H=new y2({Yo:Q=>{P?ge(pn,`Not sending because RPC '${e}' stream ${o} is closed:`,Q):(S||(ge(pn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),S=!0),ge(pn,`RPC '${e}' stream ${o} sending:`,Q),w.send(Q))},Zo:()=>w.close()}),J=(Q,Z,de)=>{Q.listen(Z,(ae=>{try{de(ae)}catch(Se){setTimeout((()=>{throw Se}),0)}}))};return J(w,Hl.EventType.OPEN,(()=>{P||(ge(pn,`RPC '${e}' stream ${o} transport opened.`),H.o_())})),J(w,Hl.EventType.CLOSE,(()=>{P||(P=!0,ge(pn,`RPC '${e}' stream ${o} transport closed`),H.a_(),this.E_(w))})),J(w,Hl.EventType.ERROR,(Q=>{P||(P=!0,bo(pn,`RPC '${e}' stream ${o} transport errored. Name:`,Q.name,"Message:",Q.message),H.a_(new Re(he.UNAVAILABLE,"The operation could not be completed")))})),J(w,Hl.EventType.MESSAGE,(Q=>{if(!P){const Z=Q.data[0];It(!!Z,16349);const de=Z,ae=de?.error||de[0]?.error;if(ae){ge(pn,`RPC '${e}' stream ${o} received error:`,ae);const Se=ae.status;let fe=(function(A){const R=Bt[A];if(R!==void 0)return gT(R)})(Se),j=ae.message;fe===void 0&&(fe=he.INTERNAL,j="Unknown error status: "+Se+" with message "+ae.message),P=!0,H.a_(new Re(fe,j)),w.close()}else ge(pn,`RPC '${e}' stream ${o} received:`,Z),H.u_(Z)}})),J(m,H0.STAT_EVENT,(Q=>{Q.stat===_m.PROXY?ge(pn,`RPC '${e}' stream ${o} detected buffering proxy`):Q.stat===_m.NOPROXY&&ge(pn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function sm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(i){return new AI(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-a);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="PersistentStream";class _2{constructor(e,n,a,o,u,f,m,g){this.Mi=e,this.S_=a,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new OT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(Ri(n.toString()),Ri("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===n&&this.G_(a,o)}),(a=>{e((()=>{const o=new Re(he.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(yE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ge(yE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class E2 extends _2{constructor(e,n,a,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=OI(this.serializer,e),a=(function(u){if(!("targetChange"in u))return ke.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?ke.min():f.readTime?mo(f.readTime):ke.min()})(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=uE(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=Cm(g)?{documents:MI(u,g)}:{query:NI(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=CI(u,f.resumeToken);const p=Mm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}else if(f.snapshotVersion.compareTo(ke.min())>0){m.readTime=RI(u,f.snapshotVersion.toTimestamp());const p=Mm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const a=PI(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=uE(this.serializer),n.removeTarget=e,this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{}class S2 extends T2{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Re(he.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Nm(n,a),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Re(he.UNKNOWN,u.toString())}))}Ho(e,n,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Nm(n,a),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Re(he.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class w2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ri(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="RemoteStore";class b2{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{a.enqueueAndForget((async()=>{vu(this)&&(ge(Do,"Restarting streams for network reachability change."),await(async function(g){const p=rt(g);p.Ea.add(4),await yu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Uh(p)})(this))}))})),this.Ra=new w2(a,o)}}async function Uh(i){if(vu(i))for(const e of i.da)await e(!0)}async function yu(i){for(const e of i.da)await e(!1)}function MT(i,e){const n=rt(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),yp(n)?gp(n):Lo(n).O_()&&pp(n,e))}function mp(i,e){const n=rt(i),a=Lo(n);n.Ia.delete(e),a.O_()&&NT(n,e),n.Ia.size===0&&(a.O_()?a.L_():vu(n)&&n.Ra.set("Unknown"))}function pp(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Lo(i).Y_(e)}function NT(i,e){i.Va.Ue(e),Lo(i).Z_(e)}function gp(i){i.Va=new TI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Lo(i).start(),i.Ra.ua()}function yp(i){return vu(i)&&!Lo(i).x_()&&i.Ia.size>0}function vu(i){return rt(i).Ea.size===0}function xT(i){i.Va=void 0}async function A2(i){i.Ra.set("Online")}async function R2(i){i.Ia.forEach(((e,n)=>{pp(i,e)}))}async function C2(i,e){xT(i),yp(i)?(i.Ra.ha(e),gp(i)):i.Ra.set("Unknown")}async function I2(i,e,n){if(i.Ra.set("Online"),e instanceof vT&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(a){ge(Do,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await vE(i,a)}else if(e instanceof eh?i.Va.Ze(e):e instanceof yT?i.Va.st(e):i.Va.tt(e),!n.isEqual(ke.min()))try{const a=await IT(i.localStore);n.compareTo(a)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(p);E&&u.Ia.set(p,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,p)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(cn.EMPTY_BYTE_STRING,E.snapshotVersion)),NT(u,g);const w=new ya(E.target,g,p,E.sequenceNumber);pp(u,w)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(a){ge(Do,"Failed to raise snapshot:",a),await vE(i,a)}}async function vE(i,e,n){if(!Vo(e))throw e;i.Ea.add(1),await yu(i),i.Ra.set("Offline"),n||(n=()=>IT(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ge(Do,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Uh(i)}))}async function _E(i,e){const n=rt(i);n.asyncQueue.verifyOperationInProgress(),ge(Do,"RemoteStore received new credentials");const a=vu(n);n.Ea.add(3),await yu(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Uh(n)}async function D2(i,e){const n=rt(i);e?(n.Ea.delete(2),await Uh(n)):e||(n.Ea.add(2),await yu(n),n.Ra.set("Unknown"))}function Lo(i){return i.ma||(i.ma=(function(n,a,o){const u=rt(n);return u.sa(),new E2(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:A2.bind(null,i),t_:R2.bind(null,i),r_:C2.bind(null,i),H_:I2.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),yp(i)?gp(i):i.Ra.set("Unknown")):(await i.ma.stop(),xT(i))}))),i.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const f=Date.now()+a,m=new vp(e,n,f,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function PT(i,e){if(Ri("AsyncQueue",`${e}: ${i}`),Vo(i))return new Re(he.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{static emptySet(e){return new po(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||Me.comparator(n.key,a.key):(n,a)=>Me.comparator(n.key,a.key),this.keyedMap=ql(),this.sortedSet=new Pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof po)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new po;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(){this.ga=new Pt(Me.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):He(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class Oo{constructor(e,n,a,o,u,f,m,g,p){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,a,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Oo(e,n,po.emptySet(n),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class M2{constructor(){this.queries=TE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=rt(n),u=o.queries;o.queries=TE(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(a)}))})(this,new Re(he.ABORTED,"Firestore shutting down"))}}function TE(){return new Es((i=>oT(i)),Nh)}async function N2(i,e){const n=rt(i);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(a=2):(u=new O2,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=PT(f,`Initialization of query '${uo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&_p(n)}async function x2(i,e){const n=rt(i),a=e.query;let o=3;const u=n.queries.get(a);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function P2(i,e){const n=rt(i);let a=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(a=!0);f.wa=o}}a&&_p(n)}function V2(i,e,n){const a=rt(i),o=a.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);a.queries.delete(e)}function _p(i){i.Ca.forEach((e=>{e.next()}))}var Vm,SE;(SE=Vm||(Vm={})).Ma="default",SE.Cache="cache";class L2{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Oo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Vm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e){this.key=e}}class LT{constructor(e){this.key=e}}class U2{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=at(),this.mutatedKeys=at(),this.eu=lT(e),this.tu=new po(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new EE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,w)=>{const S=o.get(E),P=xh(this.query,w)?w:null,H=!!S&&this.mutatedKeys.has(S.key),J=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let Q=!1;S&&P?S.data.isEqual(P.data)?H!==J&&(a.track({type:3,doc:P}),Q=!0):this.su(S,P)||(a.track({type:2,doc:P}),Q=!0,(g&&this.eu(P,g)>0||p&&this.eu(P,p)<0)&&(m=!0)):!S&&P?(a.track({type:0,doc:P}),Q=!0):S&&!P&&(a.track({type:1,doc:S}),Q=!0,(g||p)&&(m=!0)),Q&&(P?(f=f.add(P),u=J?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{tu:f,iu:a,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,w)=>(function(P,H){const J=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He(20277,{Rt:Q})}};return J(P)-J(H)})(E.type,w.type)||this.eu(E.doc,w.doc))),this.ou(a),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,p=g!==this.Za;return this.Za=g,f.length!==0||p?{snapshot:new Oo(this.query,e.tu,u,f,e.mutatedKeys,g===0,p,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new EE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=at(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return e.forEach((a=>{this.Xa.has(a)||n.push(new LT(a))})),this.Xa.forEach((a=>{e.has(a)||n.push(new VT(a))})),n}cu(e){this.Ya=e.Qs,this.Xa=at();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Oo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ep="SyncEngine";class k2{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class z2{constructor(e){this.key=e,this.hu=!1}}class B2{constructor(e,n,a,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Es((m=>oT(m)),Nh),this.Iu=new Map,this.Eu=new Set,this.du=new Pt(Me.comparator),this.Au=new Map,this.Ru=new cp,this.Vu={},this.mu=new Map,this.fu=Io.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function j2(i,e,n=!0){const a=jT(i);let o;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await UT(a,e,n,!0),o}async function H2(i,e){const n=jT(i);await UT(n,e,!0,!1)}async function UT(i,e,n,a){const o=await h2(i.localStore,Kr(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await q2(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&MT(i.remoteStore,o),m}async function q2(i,e,n,a,o){i.pu=(w,S,P)=>(async function(J,Q,Z,de){let ae=Q.view.ru(Z);ae.Cs&&(ae=await dE(J.localStore,Q.query,!1).then((({documents:N})=>Q.view.ru(N,ae))));const Se=de&&de.targetChanges.get(Q.targetId),fe=de&&de.targetMismatches.get(Q.targetId)!=null,j=Q.view.applyChanges(ae,J.isPrimaryClient,Se,fe);return bE(J,Q.targetId,j.au),j.snapshot})(i,w,S,P);const u=await dE(i.localStore,e,!0),f=new U2(e,u.Qs),m=f.ru(u.documents),g=gu.createSynthesizedTargetChangeForCurrentChange(n,a&&i.onlineState!=="Offline",o),p=f.applyChanges(m,i.isPrimaryClient,g);bE(i,n,p.au);const E=new k2(e,n,f);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),p.snapshot}async function F2(i,e,n){const a=rt(i),o=a.Tu.get(e),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter((f=>!Nh(f,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await xm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),n&&mp(a.remoteStore,o.targetId),Lm(a,o.targetId)})).catch(Ch)):(Lm(a,o.targetId),await xm(a.localStore,o.targetId,!0))}async function G2(i,e){const n=rt(i),a=n.Tu.get(e),o=n.Iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),mp(n.remoteStore,a.targetId))}async function kT(i,e){const n=rt(i);try{const a=await u2(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(It(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?It(f.hu,14607):o.removedDocuments.size>0&&(It(f.hu,42227),f.hu=!1))})),await BT(n,a,e)}catch(a){await Ch(a)}}function wE(i,e,n){const a=rt(i);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=rt(f);g.onlineState=m;let p=!1;g.queries.forEach(((E,w)=>{for(const S of w.Sa)S.va(m)&&(p=!0)})),p&&_p(g)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function K2(i,e,n){const a=rt(i);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Au.get(e),u=o&&o.key;if(u){let f=new Pt(Me.comparator);f=f.insert(u,yn.newNoDocument(u,ke.min()));const m=at().add(u),g=new Lh(ke.min(),new Map,new Pt(Je),f,m);await kT(a,g),a.du=a.du.remove(u),a.Au.delete(e),Tp(a)}else await xm(a.localStore,e,!1).then((()=>Lm(a,e,n))).catch(Ch)}function Lm(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.Iu.get(e))i.Tu.delete(a),n&&i.Pu.yu(a,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((a=>{i.Ru.containsKey(a)||zT(i,a)}))}function zT(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(mp(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Tp(i))}function bE(i,e,n){for(const a of n)a instanceof VT?(i.Ru.addReference(a.key,e),Y2(i,a)):a instanceof LT?(ge(Ep,"Document no longer in limbo: "+a.key),i.Ru.removeReference(a.key,e),i.Ru.containsKey(a.key)||zT(i,a.key)):He(19791,{wu:a})}function Y2(i,e){const n=e.key,a=n.path.canonicalString();i.du.get(n)||i.Eu.has(a)||(ge(Ep,"New document in limbo: "+n),i.Eu.add(a),Tp(i))}function Tp(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new Me(Ct.fromString(e)),a=i.fu.next();i.Au.set(a,new z2(n)),i.du=i.du.insert(n,a),MT(i.remoteStore,new ya(Kr(sT(n.path)),a,"TargetPurposeLimboResolution",Ih.ce))}}async function BT(i,e,n){const a=rt(i),o=[],u=[],f=[];a.Tu.isEmpty()||(a.Tu.forEach(((m,g)=>{f.push(a.pu(g,e,n).then((p=>{if((p||n)&&a.isPrimaryClient){const E=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;a.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(p){o.push(p);const E=fp.As(g.targetId,p);u.push(E)}})))})),await Promise.all(f),a.Pu.H_(o),await(async function(g,p){const E=rt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>ie.forEach(p,(S=>ie.forEach(S.Es,(P=>E.persistence.referenceDelegate.addReference(w,S.targetId,P))).next((()=>ie.forEach(S.ds,(P=>E.persistence.referenceDelegate.removeReference(w,S.targetId,P)))))))))}catch(w){if(!Vo(w))throw w;ge(dp,"Failed to update sequence numbers: "+w)}for(const w of p){const S=w.targetId;if(!w.fromCache){const P=E.Ms.get(S),H=P.snapshotVersion,J=P.withLastLimboFreeSnapshotVersion(H);E.Ms=E.Ms.insert(S,J)}}})(a.localStore,u))}async function Q2(i,e){const n=rt(i);if(!n.currentUser.isEqual(e)){ge(Ep,"User change. New user:",e.toKey());const a=await CT(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new Re(he.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await BT(n,a.Ls)}}function $2(i,e){const n=rt(i),a=n.Au.get(e);if(a&&a.hu)return at().add(a.key);{let o=at();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function jT(i){const e=rt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=kT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K2.bind(null,e),e.Pu.H_=P2.bind(null,e.eventManager),e.Pu.yu=V2.bind(null,e.eventManager),e}class yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=DT(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return l2(this.persistence,new a2,e.initialUser,this.serializer)}Cu(e){return new RT(hp.mi,this.serializer)}Du(e){return new d2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yh.provider={build:()=>new yh};class X2 extends yh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){It(this.persistence.referenceDelegate instanceof gh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new FI(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new RT((a=>gh.mi(a,n)),this.serializer)}}class Um{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>wE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=Q2.bind(null,this.syncEngine),await D2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new M2})()}createDatastore(e){const n=DT(e.databaseInfo.databaseId),a=(function(u){return new v2(u)})(e.databaseInfo);return(function(u,f,m,g){return new S2(u,f,m,g)})(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,o,u,f,m){return new b2(a,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>wE(this.syncEngine,n,0)),(function(){return gE.v()?new gE:new m2})())}createSyncEngine(e,n){return(function(o,u,f,m,g,p,E){const w=new B2(o,u,f,m,g,p);return E&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=rt(n);ge(Do,"RemoteStore shutting down."),a.Ea.add(5),await yu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Um.provider={build:()=>new Um};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ri("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="FirestoreClient";class J2{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=gn.UNAUTHENTICATED,this.clientId=Y0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async f=>{ge(Oa,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(a,(f=>(ge(Oa,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=PT(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function om(i,e){i.asyncQueue.verifyOperationInProgress(),ge(Oa,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let a=n.initialUser;i.setCredentialChangeListener((async o=>{a.isEqual(o)||(await CT(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function AE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await W2(i);ge(Oa,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((a=>_E(e.remoteStore,a))),i.setAppCheckTokenChangeListener(((a,o)=>_E(e.remoteStore,o))),i._onlineComponents=e}async function W2(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ge(Oa,"Using user provided OfflineComponentProvider");try{await om(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===he.FAILED_PRECONDITION||o.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;bo("Error using user provided cache. Falling back to memory cache: "+n),await om(i,new yh)}}else ge(Oa,"Using default OfflineComponentProvider"),await om(i,new X2(void 0));return i._offlineComponents}async function eD(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ge(Oa,"Using user provided OnlineComponentProvider"),await AE(i,i._uninitializedComponentsProvider._online)):(ge(Oa,"Using default OnlineComponentProvider"),await AE(i,new Um))),i._onlineComponents}async function tD(i){const e=await eD(i),n=e.eventManager;return n.onListen=j2.bind(null,e.syncEngine),n.onUnlisten=F2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=H2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=G2.bind(null,e.syncEngine),n}function nD(i,e,n={}){const a=new hs;return i.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,p){const E=new Z2({next:S=>{E.Nu(),f.enqueueAndForget((()=>x2(u,w))),S.fromCache&&g.source==="server"?p.reject(new Re(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(S)},error:S=>p.reject(S)}),w=new L2(m,E,{includeMetadataChanges:!0,qa:!0});return N2(u,w)})(await tD(i),i.asyncQueue,e,n,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="firestore.googleapis.com",CE=!0;class IE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Re(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qT,this.ssl=CE}else this.host=e.host,this.ssl=e.ssl??CE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=AT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<HI)throw new Re(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Re(he.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Re(he.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Re(he.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sp{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Re(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new fC;switch(a.type){case"firstParty":return new gC(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Re(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=RE.get(n);a&&(ge("ComponentProvider","Removing Datastore"),RE.delete(n),a.terminate())})(this),Promise.resolve()}}function rD(i,e,n,a={}){i=Tm(i,Sp);const o=No(e),u=i._getSettings(),f={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(M0(`https://${m}`),N0("Firestore",!0)),u.host!==qT&&u.host!==m&&bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:a};if(!ms(g,f)&&(i._setSettings(g),a.mockUserToken)){let p,E;if(typeof a.mockUserToken=="string")p=a.mockUserToken,E=gn.MOCK_USER;else{p=U1(a.mockUserToken,i._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new Re(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new gn(w)}i._authCredentials=new dC(new K0(p,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new kh(this.firestore,e,this._query)}}class hr{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new go(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hr(this.firestore,e,this._key)}toJSON(){return{type:hr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(mu(n,hr._jsonSchema))return new hr(e,a||null,new Me(Ct.fromString(n.referencePath)))}}hr._jsonSchemaVersion="firestore/documentReference/1.0",hr._jsonSchema={type:Ht("string",hr._jsonSchemaVersion),referencePath:Ht("string")};class go extends kh{constructor(e,n,a){super(e,n,sT(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hr(this.firestore,null,new Me(e))}withConverter(e){return new go(this.firestore,e,this._path)}}function FT(i,e,...n){if(i=Oi(i),i instanceof Sp){const a=Ct.fromString(e,...n);return j_(a),new go(i,null,a)}{if(!(i instanceof hr||i instanceof go))throw new Re(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(Ct.fromString(e,...n));return j_(a),new go(i.firestore,null,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="AsyncQueue";class OE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new OT(this,"async_queue_retry"),this._c=()=>{const a=sm();a&&ge(DE,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=sm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=sm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new hs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Vo(e))throw e;ge(DE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Ri("INTERNAL UNHANDLED ERROR: ",ME(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=vp.createAndSchedule(this,e,n,a,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&He(47125,{Pc:ME(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function ME(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class GT extends Sp{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new OE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new OE(e),this._firestoreClient=void 0,await e}}}function iD(i,e){const n=typeof i=="object"?i:L0(),a=typeof i=="string"?i:hh,o=tp(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=V1("firestore");u&&rD(o,...u)}return o}function aD(i){if(i._terminated)throw new Re(he.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||sD(i),i._firestoreClient}function sD(i){const e=i._freezeSettings(),n=(function(o,u,f,m){return new LC(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,HT(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new J2(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fr(cn.fromBase64String(e))}catch(n){throw new Re(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fr(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mu(e,Fr._jsonSchema))return Fr.fromBase64String(e.bytes)}}Fr._jsonSchemaVersion="firestore/bytes/1.0",Fr._jsonSchema={type:Ht("string",Fr._jsonSchemaVersion),bytes:Ht("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Re(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new In(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Re(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Re(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Sa._jsonSchemaVersion}}static fromJSON(e){if(mu(e,Sa._jsonSchema))return new Sa(e.latitude,e.longitude)}}Sa._jsonSchemaVersion="firestore/geoPoint/1.0",Sa._jsonSchema={type:Ht("string",Sa._jsonSchemaVersion),latitude:Ht("number"),longitude:Ht("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:wa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mu(e,wa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new wa(e.vectorValues);throw new Re(he.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wa._jsonSchemaVersion="firestore/vectorValue/1.0",wa._jsonSchema={type:Ht("string",wa._jsonSchemaVersion),vectorValues:Ht("object")};const oD=new RegExp("[~\\*/\\[\\]]");function lD(i,e,n){if(e.search(oD)>=0)throw NE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i);try{return new KT(...e.split("."))._internalPath}catch{throw NE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i)}}function NE(i,e,n,a,o){let u=`Function ${e}() called with invalid data`;u+=". ";let f="";return new Re(he.INVALID_ARGUMENT,u+i+f)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new hr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(QT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uD extends YT{data(){return super.data()}}function QT(i,e){return typeof e=="string"?lD(i,e):e instanceof KT?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Re(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hD{convertValue(e,n="none"){switch(Ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ca(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw He(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return pu(e,((o,u)=>{a[o]=this.convertValue(u,n)})),a}convertVectorValue(e){const n=e.fields?.[wm].arrayValue?.values?.map((a=>xt(a.doubleValue)));return new wa(n)}convertGeoPoint(e){return new Sa(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Oh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const n=Ra(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=Ct.fromString(e);It(bT(a),9688,{name:e});const o=new au(a.get(1),a.get(3)),u=new Me(a.popFirst(5));return o.isEqual(n)||Ri(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class Gc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yo extends YT{constructor(e,n,a,o,u,f){super(e,n,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(QT("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Re(he.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=yo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}yo._jsonSchemaVersion="firestore/documentSnapshot/1.0",yo._jsonSchema={type:Ht("string",yo._jsonSchemaVersion),bundleSource:Ht("string","DocumentSnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class th extends yo{data(e={}){return super.data(e)}}class vo{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Gc(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new th(this._firestore,this._userDataWriter,a.key,a,new Gc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Re(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Gc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Gc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return m.type!==0&&(p=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:fD(m.type),doc:g,oldIndex:p,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Re(he.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Y0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function fD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He(61501,{type:i})}}vo._jsonSchemaVersion="firestore/querySnapshot/1.0",vo._jsonSchema={type:Ht("string",vo._jsonSchemaVersion),bundleSource:Ht("string","QuerySnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class dD extends hD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hr(this.firestore,null,n)}}function $T(i){i=Tm(i,kh);const e=Tm(i.firestore,GT),n=aD(e),a=new dD(e);return cD(i._query),nD(n,i._query).then((o=>new vo(e,a,i,o)))}(function(e,n=!0){(function(o){Po=o})(xo),wo(new ps("firestore",((a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),m=new GT(new mC(a.getProvider("auth-internal")),new yC(f,a.getProvider("app-check-internal")),(function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Re(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(p.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ea(U_,k_,e),Ea(U_,k_,"esm2020")})();function XT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mD=XT,ZT=new fu("auth","Firebase",XT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=new Wm("@firebase/auth");function pD(i,...e){vh.logLevel<=Ze.WARN&&vh.warn(`Auth (${xo}): ${i}`,...e)}function nh(i,...e){vh.logLevel<=Ze.ERROR&&vh.error(`Auth (${xo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(i,...e){throw bp(i,...e)}function wr(i,...e){return bp(i,...e)}function wp(i,e,n){const a={...mD(),[e]:n};return new fu("auth","Firebase",a).create(e,{appName:i.name})}function ds(i){return wp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gD(i,e,n){const a=n;if(!(e instanceof a))throw a.name!==e.constructor.name&&Xr(i,"argument-error"),wp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bp(i,...e){if(typeof i!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(n,...a)}return ZT.create(i,...e)}function Pe(i,e,...n){if(!i)throw bp(e,...n)}function wi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw nh(e),new Error(e)}function Ci(i,e){i||wi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(){return typeof self<"u"&&self.location?.href||""}function yD(){return xE()==="http:"||xE()==="https:"}function xE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yD()||q1()||"connection"in navigator)?navigator.onLine:!0}function _D(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ci(n>e,"Short delay should be less than long delay!"),this.isMobile=B1()||F1()}get(){return vD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(i,e){Ci(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SD=new _u(3e4,6e4);function Rp(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Uo(i,e,n,a,o={}){return WT(i,o,async()=>{let u={},f={};a&&(e==="GET"?f=a:u={body:JSON.stringify(a)});const m=du({key:i.config.apiKey,...f}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const p={method:e,headers:g,...u};return H1()||(p.referrerPolicy="no-referrer"),i.emulatorConfig&&No(i.emulatorConfig.host)&&(p.credentials="include"),JT.fetch()(await eS(i,i.config.apiHost,n,m),p)})}async function WT(i,e,n){i._canInitEmulator=!1;const a={...ED,...e};try{const o=new bD(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Kc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kc(i,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Kc(i,"email-already-in-use",f);if(g==="USER_DISABLED")throw Kc(i,"user-disabled",f);const E=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw wp(i,E,p);Xr(i,E)}}catch(o){if(o instanceof Di)throw o;Xr(i,"network-request-failed",{message:String(o)})}}async function wD(i,e,n,a,o={}){const u=await Uo(i,e,n,a,o);return"mfaPendingCredential"in u&&Xr(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function eS(i,e,n,a){const o=`${e}${n}?${a}`,u=i,f=u.config.emulator?Ap(i.config,o):`${i.config.apiScheme}://${o}`;return TD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class bD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(wr(this.auth,"network-request-failed")),SD.get())})}}function Kc(i,e,n){const a={appName:i.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=wr(i,e,a);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AD(i,e){return Uo(i,"POST","/v1/accounts:delete",e)}async function _h(i,e){return Uo(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RD(i,e=!1){const n=Oi(i),a=await n.getIdToken(e),o=Cp(a);Pe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:a,authTime:Xl(lm(o.auth_time)),issuedAtTime:Xl(lm(o.iat)),expirationTime:Xl(lm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function lm(i){return Number(i)*1e3}function Cp(i){const[e,n,a]=i.split(".");if(e===void 0||n===void 0||a===void 0)return nh("JWT malformed, contained fewer than 3 sections"),null;try{const o=C0(n);return o?JSON.parse(o):(nh("Failed to decode base64 JWT payload"),null)}catch(o){return nh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function PE(i){const e=Cp(i);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(i,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Di&&CD(a)&&i.auth.currentUser===i&&await i.auth.signOut(),a}}function CD({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xl(this.lastLoginAt),this.creationTime=Xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eh(i){const e=i.auth,n=await i.getIdToken(),a=await ou(i,_h(e,{idToken:n}));Pe(a?.users.length,e,"internal-error");const o=a.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?tS(o.providerUserInfo):[],f=OD(i.providerData,u),m=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!f?.length,p=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new zm(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(i,E)}async function DD(i){const e=Oi(i);await Eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OD(i,e){return[...i.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function tS(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD(i,e){const n=await WT(i,{},async()=>{const a=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await eS(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:a};return i.emulatorConfig&&No(i.emulatorConfig.host)&&(g.credentials="include"),JT.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ND(i,e){return Uo(i,"POST","/v2/accounts:revokeToken",Rp(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=PE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await MD(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,f=new _o;return a&&(Pe(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(Pe(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Pe(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _o,this.toJSON())}_performRefresh(){return wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(i,e){Pe(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Sr{constructor({uid:e,auth:n,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new ID(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new zm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ou(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return RD(this,e)}reload(){return DD(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Sr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Eh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Er(this.auth.app))return Promise.reject(ds(this.auth));const e=await this.getIdToken();return await ou(this,AD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:w,emailVerified:S,isAnonymous:P,providerData:H,stsTokenManager:J}=n;Pe(w&&J,e,"internal-error");const Q=_o.fromJSON(this.name,J);Pe(typeof w=="string",e,"internal-error"),ua(a,e.name),ua(o,e.name),Pe(typeof S=="boolean",e,"internal-error"),Pe(typeof P=="boolean",e,"internal-error"),ua(u,e.name),ua(f,e.name),ua(m,e.name),ua(g,e.name),ua(p,e.name),ua(E,e.name);const Z=new Sr({uid:w,auth:e,email:o,emailVerified:S,displayName:a,isAnonymous:P,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:Q,createdAt:p,lastLoginAt:E});return H&&Array.isArray(H)&&(Z.providerData=H.map(de=>({...de}))),g&&(Z._redirectEventId=g),Z}static async _fromIdTokenResponse(e,n,a=!1){const o=new _o;o.updateFromServerResponse(n);const u=new Sr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Eh(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];Pe(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?tS(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new _o;m.updateFromIdToken(a);const g=new Sr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new zm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=new Map;function bi(i){Ci(i instanceof Function,"Expected a class definition");let e=VE.get(i);return e?(Ci(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,VE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}nS.type="NONE";const LE=nS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(i,e,n){return`firebase:${i}:${e}:${n}`}class Eo{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=rh(this.userKey,o.apiKey,u),this.fullPersistenceKey=rh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await _h(this.auth,{idToken:e}).catch(()=>{});return n?Sr._fromGetAccountInfoResponse(this.auth,n,e):null}return Sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new Eo(bi(LE),e,a);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||bi(LE);const f=rh(a,e.config.apiKey,e.name);let m=null;for(const p of n)try{const E=await p._get(f);if(E){let w;if(typeof E=="string"){const S=await _h(e,{idToken:E}).catch(()=>{});if(!S)break;w=await Sr._fromGetAccountInfoResponse(e,S,E)}else w=Sr._fromJSON(e,E);p!==u&&(m=w),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Eo(u,e,a):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new Eo(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lS(e))return"Blackberry";if(uS(e))return"Webos";if(iS(e))return"Safari";if((e.includes("chrome/")||aS(e))&&!e.includes("edge/"))return"Chrome";if(oS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(n);if(a?.length===2)return a[1]}return"Other"}function rS(i=vn()){return/firefox\//i.test(i)}function iS(i=vn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aS(i=vn()){return/crios\//i.test(i)}function sS(i=vn()){return/iemobile/i.test(i)}function oS(i=vn()){return/android/i.test(i)}function lS(i=vn()){return/blackberry/i.test(i)}function uS(i=vn()){return/webos/i.test(i)}function Ip(i=vn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function xD(i=vn()){return Ip(i)&&!!window.navigator?.standalone}function PD(){return G1()&&document.documentMode===10}function cS(i=vn()){return Ip(i)||oS(i)||uS(i)||lS(i)||/windows phone/i.test(i)||sS(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(i,e=[]){let n;switch(i){case"Browser":n=UE(vn());break;case"Worker":n=`${UE(vn())}-${i}`;break;default:n=i}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xo}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(i,e={}){return Uo(i,"GET","/v2/passwordPolicy",Rp(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=6;class kD{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??UD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kE(this),this.idTokenSubscription=new kE(this),this.beforeStateQueue=new VD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=bi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Eo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _h(this,{idToken:e}),a=await Sr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Er(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=a?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(a=m.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Eh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_D()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Er(this.app))return Promise.reject(ds(this));const n=e?Oi(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Er(this.app)?Promise.reject(ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Er(this.app)?Promise.reject(ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LD(this),n=new kD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fu("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await ND(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&bi(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await Eo.create(this,[bi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,a,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&pD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Eu(i){return Oi(i)}class kE{constructor(e){this.auth=e,this.observer=null,this.addObserver=W1(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BD(i){Dp=i}function jD(i){return Dp.loadJS(i)}function HD(){return Dp.gapiScript}function qD(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(i,e){const n=tp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ms(u,e??{}))return o;Xr(o,"already-initialized")}return n.initialize({options:e})}function GD(i,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(bi);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(a,e?.popupRedirectResolver)}function KD(i,e,n){const a=Eu(i);Pe(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=fS(e),{host:f,port:m}=YD(e),g=m===null?"":`:${m}`,p={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Pe(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Pe(ms(p,a.config.emulator)&&ms(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=p,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,No(f)?(M0(`${u}//${f}${g}`),N0("Auth",!0)):QD()}function fS(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function YD(i){const e=fS(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:zE(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:zE(f)}}}function zE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function QD(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wi("not implemented")}_getIdTokenResponse(e){return wi("not implemented")}_linkToIdToken(e,n){return wi("not implemented")}_getReauthenticationResolver(e){return wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(i,e){return wD(i,"POST","/v1/accounts:signInWithIdp",Rp(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="http://localhost";class ys extends dS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...u}=n;if(!a||!o)return null;const f=new ys(a,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return To(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,To(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,To(e,n)}buildRequest(){const e={requestUri:$D,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=du(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends Op{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da extends Tu{constructor(){super("facebook.com")}static credential(e){return ys._fromParams({providerId:da.PROVIDER_ID,signInMethod:da.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return da.credentialFromTaggedObject(e)}static credentialFromError(e){return da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return da.credential(e.oauthAccessToken)}catch{return null}}}da.FACEBOOK_SIGN_IN_METHOD="facebook.com";da.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends Tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ys._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Tr.credential(n,a)}catch{return null}}}Tr.GOOGLE_SIGN_IN_METHOD="google.com";Tr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma extends Tu{constructor(){super("github.com")}static credential(e){return ys._fromParams({providerId:ma.PROVIDER_ID,signInMethod:ma.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ma.credentialFromTaggedObject(e)}static credentialFromError(e){return ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ma.credential(e.oauthAccessToken)}catch{return null}}}ma.GITHUB_SIGN_IN_METHOD="github.com";ma.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa extends Tu{constructor(){super("twitter.com")}static credential(e,n){return ys._fromParams({providerId:pa.PROVIDER_ID,signInMethod:pa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return pa.credentialFromTaggedObject(e)}static credentialFromError(e){return pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return pa.credential(n,a)}catch{return null}}}pa.TWITTER_SIGN_IN_METHOD="twitter.com";pa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await Sr._fromIdTokenResponse(e,a,o),f=BE(a);return new Mo({user:u,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=BE(a);return new Mo({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function BE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th extends Di{constructor(e,n,a,o){super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Th.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new Th(e,n,a,o)}}function mS(i,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Th._fromErrorAndOperation(i,u,e,a):u})}async function XD(i,e,n=!1){const a=await ou(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Mo._forOperation(i,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZD(i,e,n=!1){const{auth:a}=i;if(Er(a.app))return Promise.reject(ds(a));const o="reauthenticate";try{const u=await ou(i,mS(a,o,e,i),n);Pe(u.idToken,a,"internal-error");const f=Cp(u.idToken);Pe(f,a,"internal-error");const{sub:m}=f;return Pe(i.uid===m,a,"user-mismatch"),Mo._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Xr(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pS(i,e,n=!1){if(Er(i.app))return Promise.reject(ds(i));const a="signIn",o=await mS(i,a,e),u=await Mo._fromIdTokenResponse(i,a,o);return n||await i._updateCurrentUser(u.user),u}async function JD(i,e){return pS(Eu(i),e)}function WD(i,e,n,a){return Oi(i).onIdTokenChanged(e,n,a)}function eO(i,e,n){return Oi(i).beforeAuthStateChanged(e,n)}function tO(i,e,n,a){return Oi(i).onAuthStateChanged(e,n,a)}function nO(i){return Oi(i).signOut()}const Sh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sh,"1"),this.storage.removeItem(Sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=1e3,iO=10;class yS extends gS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!n&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);PD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,iO):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},rO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yS.type="LOCAL";const aO=yS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS extends gS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vS.type="SESSION";const _S=vS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new zh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(f).map(async p=>p(n.origin,u)),g=await sO(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(i="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const p=Mp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(w){const S=w;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(){return window}function lO(i){Yr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(){return typeof Yr().WorkerGlobalScope<"u"&&typeof Yr().importScripts=="function"}async function uO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cO(){return navigator?.serviceWorker?.controller||null}function hO(){return ES()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="firebaseLocalStorageDb",fO=1,wh="firebaseLocalStorage",SS="fbase_key";class Su{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bh(i,e){return i.transaction([wh],e?"readwrite":"readonly").objectStore(wh)}function dO(){const i=indexedDB.deleteDatabase(TS);return new Su(i).toPromise()}function Bm(){const i=indexedDB.open(TS,fO);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore(wh,{keyPath:SS})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const a=i.result;a.objectStoreNames.contains(wh)?e(a):(a.close(),await dO(),e(await Bm()))})})}async function jE(i,e,n){const a=Bh(i,!0).put({[SS]:e,value:n});return new Su(a).toPromise()}async function mO(i,e){const n=Bh(i,!1).get(e),a=await new Su(n).toPromise();return a===void 0?null:a.value}function HE(i,e){const n=Bh(i,!0).delete(e);return new Su(n).toPromise()}const pO=800,gO=3;class wS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>gO)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ES()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zh._getInstance(hO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await uO(),!this.activeServiceWorker)return;this.sender=new oO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bm();return await jE(e,Sh,"1"),await HE(e,Sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>jE(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>mO(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>HE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Bh(o,!1).getAll();return new Su(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wS.type="LOCAL";const yO=wS;new _u(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(i,e){return e?bi(e):(Pe(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np extends dS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return To(e,this._buildIdpRequest())}_linkToIdToken(e,n){return To(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return To(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function vO(i){return pS(i.auth,new Np(i),i.bypassAuthState)}function _O(i){const{auth:e,user:n}=i;return Pe(n,e,"internal-error"),ZD(n,new Np(i),i.bypassAuthState)}async function EO(i){const{auth:e,user:n}=i;return Pe(n,e,"internal-error"),XD(n,new Np(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vO;case"linkViaPopup":case"linkViaRedirect":return EO;case"reauthViaPopup":case"reauthViaRedirect":return _O;default:Xr(this.auth,"internal-error")}}resolve(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=new _u(2e3,1e4);async function SO(i,e,n){if(Er(i.app))return Promise.reject(wr(i,"operation-not-supported-in-this-environment"));const a=Eu(i);gD(i,e,Op);const o=bS(a,n);return new cs(a,"signInViaPopup",e,o).executeNotNull()}class cs extends AS{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,cs.currentPopupAction&&cs.currentPopupAction.cancel(),cs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){Ci(this.filter.length===1,"Popup operations only handle one event");const e=Mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cs.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TO.get())};e()}}cs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO="pendingRedirect",ih=new Map;class bO extends AS{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=ih.get(this.auth._key());if(!e){try{const a=await AO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}ih.set(this.auth._key(),e)}return this.bypassAuthState||ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AO(i,e){const n=IO(e),a=CO(i);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function RO(i,e){ih.set(i._key(),e)}function CO(i){return bi(i._redirectPersistence)}function IO(i){return rh(wO,i.config.apiKey,i.name)}async function DO(i,e,n=!1){if(Er(i.app))return Promise.reject(ds(i));const a=Eu(i),o=bS(a,e),f=await new bO(a,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=600*1e3;class MO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!RS(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(wr(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OO&&this.cachedEventUids.clear(),this.cachedEventUids.has(qE(e))}saveEventToCache(e){this.cachedEventUids.add(qE(e)),this.lastProcessedEventTime=Date.now()}}function qE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function RS({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function NO(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RS(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xO(i,e={}){return Uo(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VO=/^https?/;async function LO(i){if(i.config.emulator)return;const{authorizedDomains:e}=await xO(i);for(const n of e)try{if(UO(n))return}catch{}Xr(i,"unauthorized-domain")}function UO(i){const e=km(),{protocol:n,hostname:a}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&a===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===a}if(!VO.test(n))return!1;if(PO.test(i))return a===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=new _u(3e4,6e4);function FE(){const i=Yr().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function zO(i){return new Promise((e,n)=>{function a(){FE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{FE(),n(wr(i,"network-request-failed"))},timeout:kO.get()})}if(Yr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Yr().gapi?.load)a();else{const o=qD("iframefcb");return Yr()[o]=()=>{gapi.load?a():n(wr(i,"network-request-failed"))},jD(`${HD()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw ah=null,e})}let ah=null;function BO(i){return ah=ah||zO(i),ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=new _u(5e3,15e3),HO="__/auth/iframe",qO="emulator/auth/iframe",FO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KO(i){const e=i.config;Pe(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Ap(e,qO):`https://${i.config.authDomain}/${HO}`,a={apiKey:e.apiKey,appName:i.name,v:xo},o=GO.get(i.config.apiHost);o&&(a.eid=o);const u=i._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${du(a).slice(1)}`}async function YO(i){const e=await BO(i),n=Yr().gapi;return Pe(n,i,"internal-error"),e.open({where:document.body,url:KO(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FO,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const f=wr(i,"network-request-failed"),m=Yr().setTimeout(()=>{u(f)},jO.get());function g(){Yr().clearTimeout(m),o(a)}a.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$O=500,XO=600,ZO="_blank",JO="http://localhost";class GE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WO(i,e,n,a=$O,o=XO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const g={...QO,width:a.toString(),height:o.toString(),top:u,left:f},p=vn().toLowerCase();n&&(m=aS(p)?ZO:n),rS(p)&&(e=e||JO,g.scrollbars="yes");const E=Object.entries(g).reduce((S,[P,H])=>`${S}${P}=${H},`,"");if(xD(p)&&m!=="_self")return eM(e||"",m),new GE(null);const w=window.open(e||"",m,E);Pe(w,i,"popup-blocked");try{w.focus()}catch{}return new GE(w)}function eM(i,e){const n=document.createElement("a");n.href=i,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM="__/auth/handler",nM="emulator/auth/handler",rM=encodeURIComponent("fac");async function KE(i,e,n,a,o,u){Pe(i.config.authDomain,i,"auth-domain-config-required"),Pe(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:a,v:xo,eventId:o};if(e instanceof Op){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",J1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof Tu){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await i._getAppCheckToken(),p=g?`#${rM}=${encodeURIComponent(g)}`:"";return`${iM(i)}?${du(m).slice(1)}${p}`}function iM({config:i}){return i.emulator?Ap(i,nM):`https://${i.authDomain}/${tM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="webStorageSupport";class aM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_S,this._completeRedirectFn=DO,this._overrideRedirectResult=RO}async _openPopup(e,n,a,o){Ci(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await KE(e,n,a,km(),o);return WO(e,u,Mp())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await KE(e,n,a,km(),o);return lO(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ci(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await YO(e),a=new MO(e);return n.register("authEvent",o=>(Pe(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(um,{type:um},o=>{const u=o?.[0]?.[um];u!==void 0&&n(!!u),Xr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=LO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return cS()||iS()||Ip()}}const sM=aM;var YE="@firebase/auth",QE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uM(i){wo(new ps("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=a.options;Pe(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hS(i)},p=new zD(a,o,u,g);return GD(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),wo(new ps("auth-internal",e=>{const n=Eu(e.getProvider("auth").getImmediate());return(a=>new oM(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ea(YE,QE,lM(i)),Ea(YE,QE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=300,hM=O0("authIdTokenMaxAge")||cM;let $E=null;const fM=i=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>hM)return;const o=n?.token;$E!==o&&($E=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function xp(i=L0()){const e=tp(i,"auth");if(e.isInitialized())return e.getImmediate();const n=FD(i,{popupRedirectResolver:sM,persistence:[yO,aO,_S]}),a=O0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=fM(u.toString());eO(n,f,()=>f(n.currentUser)),WD(n,m=>f(m))}}const o=I0("auth");return o&&KD(n,`http://${o}`),n}function dM(){return document.getElementsByTagName("head")?.[0]??document}BD({loadJS(i){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=e,a.onerror=o=>{const u=wr("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",dM().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uM("Browser");const mM={apiKey:"AIzaSyAn2mrHY7bwdnfK7-ZpyJ6JVLq8ZsPq8JI",authDomain:"cinemex-8b843.firebaseapp.com",projectId:"cinemex-8b843",storageBucket:"cinemex-8b843.firebasestorage.app",messagingSenderId:"1037489278361",appId:"1:1037489278361:web:4b781dd928a9ef70599708"};new Tr;const jh=V0(mM),CS=iD(jh);async function pM(){const i=FT(CS,"movies"),e=await $T(i);let n=[];return e.docs.forEach(a=>{n.push({...a.data()})}),n}function gM(){const i=xp(jh);nO(i).then(()=>{console.log("User signed out"),window.location.href=window.location.origin}).catch(e=>{console.error("Sign-out failed",e)})}const yM="modulepreload",vM=function(i){return"/"+i},XE={},_M=function(e,n,a){let o=Promise.resolve();if(n&&n.length>0){let g=function(p){return Promise.all(p.map(E=>Promise.resolve(E).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=f?.nonce||f?.getAttribute("nonce");o=g(n.map(p=>{if(p=vM(p),p in XE)return;XE[p]=!0;const E=p.endsWith(".css"),w=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${w}`))return;const S=document.createElement("link");if(S.rel=E?"stylesheet":yM,E||(S.as="script"),S.crossOrigin="",S.href=p,m&&S.setAttribute("nonce",m),document.head.appendChild(S),E)return new Promise((P,H)=>{S.addEventListener("load",P),S.addEventListener("error",()=>H(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return o.then(f=>{for(const m of f||[])m.status==="rejected"&&u(m.reason);return e().catch(u)})},EM=Jm("GoogleAuth",{web:()=>_M(()=>import("./web-7I46zDUn.js"),[]).then(i=>new i.GoogleAuthWeb)});async function TM(){const i=xp(jh),e=new Tr;try{if(eu.isNativePlatform()){const n=await EM.signIn(),a=Tr.credential(n.authentication.idToken),o=await JD(i,a);console.log("Usuario logueado (nativo):",o.user)}else{const n=await SO(i,e);console.log("Usuario logueado (web):",n.user),window.location.href=window.location.origin}}catch(n){console.error("Error al iniciar sesin:",n)}}class IS extends lu.Component{constructor(e){super(e),this.state={user:null}}componentDidMount(){const e=xp(jh);tO(e,n=>{n?this.setState({user:n}):this.setState({user:null})})}render(){const{user:e}=this.state;return Le.jsxs("header",{children:[Le.jsx("a",{href:tu,children:Le.jsx("img",{src:"/brand.svg",style:{cursor:"pointer"},className:"brand"})}),e?Le.jsxs(X.Fragment,{children:[Le.jsxs("span",{className:"welcome-span",children:["Hola, ",Le.jsx("strong",{children:e.displayName})]}),Le.jsx("a",{onClick:gM,className:"log-out-a",href:"",children:"Cerrar sesin"})]}):Le.jsx("button",{onClick:TM,className:"log-in-btn",children:"Iniciar Sesin"})]})}}function SM(){const[i,e]=X.useState([]),[n,a]=X.useState();async function o(){(await pM()).forEach(f=>{const m=f[`${decodeURI(window.location.href).split(":")[3]}`];m&&(a(decodeURI(window.location.href).split(":")[3]),e(m))})}return X.useEffect(()=>{o();const u=()=>{o()};return window.addEventListener("popstate",u),()=>{window.removeEventListener("popstate",u)}},[]),X.useEffect(()=>{console.log(i)},[i]),Le.jsxs(X.Fragment,{children:[Le.jsx(IS,{}),i&&Le.jsxs("div",{className:"movie-div",children:[Le.jsx("h2",{children:n}),Le.jsx("img",{src:i.image,alt:i.name}),Le.jsxs("div",{className:"movie-data-div",children:[Le.jsxs("p",{className:"hour-p",children:["Hora: ",i.hour]}),Le.jsxs("p",{className:"room-p",children:["Sala: ",i.room]}),Le.jsxs("p",{className:"seats-p",children:["Asientos disponibles: ",i.availableSeats]})]}),i.availableSeats>0?Le.jsx("button",{className:"book-seat-btn",onClick:()=>window.location.href=`${tu}/booking/index.html#${n}`,children:"Reservar asiento"}):Le.jsx("button",{className:"return-to-home-btn",onClick:()=>window.location.href=`${tu}`,children:"Volver a inicio"})]})]})}async function wM(){let i={};const e=FT(CS,"movies"),n=await $T(e);return n.empty||n.docs.forEach(a=>{i[a.id]=a.data()}),{movies:i}}const bM={private:"sk_test_51Ryn1kF215Il5K0sN63sFB9f6HN5uEPTNx0azDJO9BGvaIEUgrghfGCMzKFIAj7ZqG6ay0OQAsUXnGv112JPFBds00GuOBcX1Z"};async function AM(){const i=await fetch("https://api.stripe.com/v1/products",{headers:{Authorization:`Bearer ${bM.private}`}});if(!i.ok)throw new Error("Network failed");return await i.json()}function RM(i){switch(i){case"monday":return"Lunes";case"tuesday":return"Martes";case"wednesday":return"Mircoles";case"thursday":return"Jueves";case"friday":return"Viernes";case"saturday":return"Sbado";case"sunday":return"Domingo";default:return""}}class CM extends lu.Component{constructor(e){super(e),this.state={movies:[]}}async componentDidMount(){const e=await AM();console.log(e);try{const n=await wM();this.setState({movies:n.movies},()=>console.log(this.state.movies))}catch(n){console.log(n)}}render(){const{movies:e}=this.state;return Le.jsx(X.Fragment,{children:Object.keys(e).map((n,a)=>Le.jsxs("div",{className:"day-div",children:[Le.jsx("h1",{className:"text-center",children:RM(n)}),Le.jsxs("div",{id:`carousel-${n}`,className:"carousel slide","data-bs-ride":"carousel",children:[Le.jsx("div",{className:"carousel-inner w-100 mx-auto text-center",children:Object.keys(e[n]).map((o,u)=>{const f=e[n][o];return Le.jsxs("div",{className:`carousel-item ${u} ${u===0?"active":""}`,style:{cursor:"pointer"},onClick:()=>window.location.href=`${tu}/:${o}`,children:[Le.jsx("h2",{children:o}),Le.jsxs("p",{children:["Asientos disponibles: ",f.availableSeats]}),Le.jsxs("p",{children:["Hora: ",f.hour]}),Le.jsxs("p",{children:["Sala: ",f.room]}),Le.jsx("img",{className:"d-block w-100",src:f.image,alt:o})]},u)})}),Le.jsx("a",{className:"carousel-control-prev",href:`#carousel-${n}`,role:"button","data-bs-slide":"prev",children:Le.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"})}),Le.jsx("a",{className:"carousel-control-next",href:`#carousel-${n}`,role:"button","data-bs-slide":"next",children:Le.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"})})]})]},a))})}}class IM extends lu.Component{render(){return Le.jsxs(X.Fragment,{children:[Le.jsx(IS,{}),Le.jsx(CM,{})]})}}const DM=r1([{path:"/",element:Le.jsx(IM,{}),errorElement:Le.jsx(b_,{})},{path:"/:movieId",element:Le.jsx(SM,{})},{path:"*",element:Le.jsx(b_,{})}]);class OM extends lu.Component{render(){return Le.jsx(g1,{router:DM})}}lb.createRoot(document.getElementById("root")).render(Le.jsx(X.StrictMode,{children:Le.jsx(OM,{})}));export{b0 as W};
